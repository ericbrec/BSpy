<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 14.0.0"/>
    <title>bspy.spline API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../bspy.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;bspy</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#Spline">Spline</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Spline.__init__">Spline</a>
                        </li>
                        <li>
                                <a class="variable" href="#Spline.nInd">nInd</a>
                        </li>
                        <li>
                                <a class="variable" href="#Spline.nDep">nDep</a>
                        </li>
                        <li>
                                <a class="variable" href="#Spline.order">order</a>
                        </li>
                        <li>
                                <a class="variable" href="#Spline.nCoef">nCoef</a>
                        </li>
                        <li>
                                <a class="variable" href="#Spline.knots">knots</a>
                        </li>
                        <li>
                                <a class="variable" href="#Spline.coefs">coefs</a>
                        </li>
                        <li>
                                <a class="variable" href="#Spline.accuracy">accuracy</a>
                        </li>
                        <li>
                                <a class="variable" href="#Spline.metadata">metadata</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.add">add</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.blossom">blossom</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.bspline_values">bspline_values</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.clamp">clamp</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.common_basis">common_basis</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.confine">confine</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.contour">contour</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.contours">contours</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.contract">contract</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.convolve">convolve</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.copy">copy</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.cross">cross</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.derivative">derivative</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.differentiate">differentiate</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.domain">domain</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.dot">dot</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.elevate">elevate</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.elevate_and_insert_knots">elevate_and_insert_knots</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.evaluate">evaluate</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.extrapolate">extrapolate</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.fold">fold</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.insert_knots">insert_knots</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.integral">integral</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.integrate">integrate</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.intersect">intersect</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.join">join</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.least_squares">least_squares</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.load">load</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.multiply">multiply</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.normal">normal</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.normal_spline">normal_spline</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.range_bounds">range_bounds</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.remove_knots">remove_knots</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.reparametrize">reparametrize</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.reverse">reverse</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.save">save</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.scale">scale</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.section">section</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.subtract">subtract</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.transform">transform</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.translate">translate</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.trim">trim</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.unfold">unfold</a>
                        </li>
                        <li>
                                <a class="function" href="#Spline.zeros">zeros</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../bspy.html">bspy</a><wbr>.spline    </h1>

                
                        <input id="mod-spline-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-spline-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">   1</span></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">   2</span></a><span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">path</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">   3</span></a><span class="kn">import</span> <span class="nn">bspy._spline_domain</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">   4</span></a><span class="kn">import</span> <span class="nn">bspy._spline_evaluation</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">   5</span></a><span class="kn">import</span> <span class="nn">bspy._spline_intersection</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">   6</span></a><span class="kn">import</span> <span class="nn">bspy._spline_fitting</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">   7</span></a><span class="kn">import</span> <span class="nn">bspy._spline_operations</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">   8</span></a>
</span><span id="L-9"><a href="#L-9"><span class="linenos">   9</span></a><span class="k">def</span> <span class="nf">_isIterable</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">  10</span></a>    <span class="n">result</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">  11</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">  12</span></a>        <span class="n">iterator</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">  13</span></a>    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">  14</span></a>        <span class="n">result</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">  15</span></a>    <span class="k">return</span> <span class="n">result</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos">  16</span></a>
</span><span id="L-17"><a href="#L-17"><span class="linenos">  17</span></a><span class="k">class</span> <span class="nc">Spline</span><span class="p">:</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">  18</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">  19</span></a><span class="sd">    A class to model, represent, and process piecewise polynomial tensor product</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">  20</span></a><span class="sd">    functions (splines) as linear combinations of B-splines. </span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">  21</span></a>
</span><span id="L-22"><a href="#L-22"><span class="linenos">  22</span></a><span class="sd">    Parameters</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">  23</span></a><span class="sd">    ----------</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos">  24</span></a><span class="sd">    nInd : `int`</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">  25</span></a><span class="sd">        The number of independent variables of the spline.</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">  26</span></a>
</span><span id="L-27"><a href="#L-27"><span class="linenos">  27</span></a><span class="sd">    nDep : `int`</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos">  28</span></a><span class="sd">        The number of dependent variables of the spline.</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">  29</span></a><span class="sd">    </span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">  30</span></a><span class="sd">    order : `tuple`</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">  31</span></a><span class="sd">        A tuple of length nInd where each integer entry represents the</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos">  32</span></a><span class="sd">        polynomial order of the spline in that variable.</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos">  33</span></a>
</span><span id="L-34"><a href="#L-34"><span class="linenos">  34</span></a><span class="sd">    nCoef : `tuple`</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos">  35</span></a><span class="sd">        A tuple of length nInd where each integer entry represents the</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos">  36</span></a><span class="sd">        dimension (i.e. number of B-spline coefficients) of the spline</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos">  37</span></a><span class="sd">        in that variable.</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos">  38</span></a>
</span><span id="L-39"><a href="#L-39"><span class="linenos">  39</span></a><span class="sd">    knots : `list`</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos">  40</span></a><span class="sd">        A list of the lists of the knots of the spline in each independent variable.</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos">  41</span></a>
</span><span id="L-42"><a href="#L-42"><span class="linenos">  42</span></a><span class="sd">    coefs : array-like</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos">  43</span></a><span class="sd">        A list of the B-spline coefficients of the spline.</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos">  44</span></a><span class="sd">    </span>
</span><span id="L-45"><a href="#L-45"><span class="linenos">  45</span></a><span class="sd">    accuracy : `float`, optional</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos">  46</span></a><span class="sd">        Each spline is presumed to be an approximation of something else. </span>
</span><span id="L-47"><a href="#L-47"><span class="linenos">  47</span></a><span class="sd">        The `accuracy` stores the infinity norm error of the difference between </span>
</span><span id="L-48"><a href="#L-48"><span class="linenos">  48</span></a><span class="sd">        the given spline and that something else. Default is zero.</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos">  49</span></a>
</span><span id="L-50"><a href="#L-50"><span class="linenos">  50</span></a><span class="sd">    metadata : `dict`, optional</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos">  51</span></a><span class="sd">        A dictionary of ancillary data to store with the spline. Default is {}.</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos">  52</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos">  53</span></a>    
</span><span id="L-54"><a href="#L-54"><span class="linenos">  54</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nInd</span><span class="p">,</span> <span class="n">nDep</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">nCoef</span><span class="p">,</span> <span class="n">knots</span><span class="p">,</span> <span class="n">coefs</span><span class="p">,</span> <span class="n">accuracy</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="p">{}):</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos">  55</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">nInd</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;nInd &lt; 0&quot;</span><span class="p">)</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos">  56</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nInd</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">nInd</span><span class="p">)</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos">  57</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">nDep</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;nDep &lt; 0&quot;</span><span class="p">)</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos">  58</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">nDep</span><span class="p">)</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos">  59</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">nInd</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;len(order) != nInd&quot;</span><span class="p">)</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos">  60</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">order</span><span class="p">)</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos">  61</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nCoef</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">nInd</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;len(nCoef) != nInd&quot;</span><span class="p">)</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos">  62</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">nCoef</span><span class="p">)</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos">  63</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">knots</span><span class="p">)</span> <span class="o">==</span> <span class="n">nInd</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;len(knots) != nInd&quot;</span><span class="p">)</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos">  64</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">knots</span><span class="p">)):</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos">  65</span></a>            <span class="n">nKnots</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos">  66</span></a>            <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">knots</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">==</span> <span class="n">nKnots</span><span class="p">):</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos">  67</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Knots array for variable </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2"> should have length </span><span class="si">{</span><span class="n">nKnots</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos">  68</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">knots</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">kk</span><span class="p">)</span> <span class="k">for</span> <span class="n">kk</span> <span class="ow">in</span> <span class="n">knots</span><span class="p">)</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos">  69</span></a>        <span class="k">for</span> <span class="n">knots</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">nCoef</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">knots</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">):</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos">  70</span></a>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nCoef</span><span class="p">):</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos">  71</span></a>                <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">knots</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">knots</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">knots</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">knots</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">order</span><span class="p">]):</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos">  72</span></a>                       <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Improperly ordered knot sequence&quot;</span><span class="p">)</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos">  73</span></a>        <span class="n">totalCoefs</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos">  74</span></a>        <span class="k">for</span> <span class="n">nCoef</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">:</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos">  75</span></a>            <span class="n">totalCoefs</span> <span class="o">*=</span> <span class="n">nCoef</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos">  76</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">coefs</span><span class="p">)</span> <span class="o">==</span> <span class="n">totalCoefs</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">coefs</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="p">):</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos">  77</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Length of coefs should be </span><span class="si">{</span><span class="n">totalCoefs</span><span class="si">}</span><span class="s2"> or </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos">  78</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">coefs</span><span class="p">)</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos">  79</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span><span class="o">.</span><span class="n">shape</span> <span class="o">!=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="p">,</span> <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">):</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos">  80</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coefs</span><span class="p">)</span> <span class="o">==</span> <span class="n">totalCoefs</span><span class="p">:</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos">  81</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos">  82</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos">  83</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">c</span><span class="o">.</span><span class="n">T</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="p">,</span> <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">))</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos">  84</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos">  85</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos">  86</span></a>
</span><span id="L-87"><a href="#L-87"><span class="linenos">  87</span></a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">):</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos">  88</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">uvw</span><span class="p">)</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos">  89</span></a>
</span><span id="L-90"><a href="#L-90"><span class="linenos">  90</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos">  91</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Spline(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nInd</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="si">}</span><span class="s2">, &quot;</span> <span class="o">+</span> \
</span><span id="L-92"><a href="#L-92"><span class="linenos">  92</span></a>               <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">knots</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">coefs</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">accuracy</span><span class="si">}</span><span class="s2">, &quot;</span> <span class="o">+</span> \
</span><span id="L-93"><a href="#L-93"><span class="linenos">  93</span></a>               <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="si">}</span><span class="s2">)&quot;</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos">  94</span></a>
</span><span id="L-95"><a href="#L-95"><span class="linenos">  95</span></a>    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos">  96</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Spline</span><span class="p">):</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos">  97</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos">  98</span></a>        <span class="k">elif</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos">  99</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos"> 100</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos"> 101</span></a>            <span class="k">return</span> <span class="bp">NotImplemented</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos"> 102</span></a>
</span><span id="L-103"><a href="#L-103"><span class="linenos"> 103</span></a>    <span class="k">def</span> <span class="fm">__radd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos"> 104</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Spline</span><span class="p">):</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos"> 105</span></a>            <span class="k">return</span> <span class="n">other</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos"> 106</span></a>        <span class="k">elif</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos"> 107</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos"> 108</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos"> 109</span></a>            <span class="k">return</span> <span class="bp">NotImplemented</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos"> 110</span></a>
</span><span id="L-111"><a href="#L-111"><span class="linenos"> 111</span></a>    <span class="k">def</span> <span class="fm">__matmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos"> 112</span></a>        <span class="k">if</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos"> 113</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos"> 114</span></a>                <span class="n">other</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos"> 115</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos"> 116</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos"> 117</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos"> 118</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos"> 119</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos"> 120</span></a>            <span class="k">return</span> <span class="bp">NotImplemented</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos"> 121</span></a>
</span><span id="L-122"><a href="#L-122"><span class="linenos"> 122</span></a>    <span class="k">def</span> <span class="fm">__rmatmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos"> 123</span></a>        <span class="k">if</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos"> 124</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos"> 125</span></a>                <span class="n">other</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos"> 126</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos"> 127</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos"> 128</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos"> 129</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos"> 130</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos"> 131</span></a>            <span class="k">return</span> <span class="bp">NotImplemented</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos"> 132</span></a>
</span><span id="L-133"><a href="#L-133"><span class="linenos"> 133</span></a>    <span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos"> 134</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Spline</span><span class="p">):</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos"> 135</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">nDep</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos"> 136</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">)</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos"> 137</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos"> 138</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">)</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos"> 139</span></a>        <span class="k">elif</span> <span class="n">np</span><span class="o">.</span><span class="n">isscalar</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">or</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos"> 140</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos"> 141</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos"> 142</span></a>            <span class="k">return</span> <span class="bp">NotImplemented</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos"> 143</span></a>
</span><span id="L-144"><a href="#L-144"><span class="linenos"> 144</span></a>    <span class="k">def</span> <span class="fm">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos"> 145</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Spline</span><span class="p">):</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos"> 146</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">nDep</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos"> 147</span></a>                <span class="k">return</span> <span class="n">other</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">)</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos"> 148</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos"> 149</span></a>                <span class="k">return</span> <span class="n">other</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">)</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos"> 150</span></a>            <span class="k">return</span> <span class="n">other</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos"> 151</span></a>        <span class="k">elif</span> <span class="n">np</span><span class="o">.</span><span class="n">isscalar</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">or</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos"> 152</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos"> 153</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos"> 154</span></a>            <span class="k">return</span> <span class="bp">NotImplemented</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos"> 155</span></a>
</span><span id="L-156"><a href="#L-156"><span class="linenos"> 156</span></a>    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos"> 157</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Spline</span><span class="p">):</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos"> 158</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos"> 159</span></a>        <span class="k">elif</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos"> 160</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos"> 161</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos"> 162</span></a>            <span class="k">return</span> <span class="bp">NotImplemented</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos"> 163</span></a>
</span><span id="L-164"><a href="#L-164"><span class="linenos"> 164</span></a>    <span class="k">def</span> <span class="fm">__rsub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos"> 165</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Spline</span><span class="p">):</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos"> 166</span></a>            <span class="k">return</span> <span class="n">other</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos"> 167</span></a>        <span class="k">elif</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos"> 168</span></a>            <span class="n">spline</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos"> 169</span></a>            <span class="k">return</span> <span class="n">spline</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos"> 170</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos"> 171</span></a>            <span class="k">return</span> <span class="bp">NotImplemented</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos"> 172</span></a>
</span><span id="L-173"><a href="#L-173"><span class="linenos"> 173</span></a>    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos"> 174</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos"> 175</span></a><span class="sd">        Add two splines.</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos"> 176</span></a>
</span><span id="L-177"><a href="#L-177"><span class="linenos"> 177</span></a><span class="sd">        Parameters</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos"> 178</span></a><span class="sd">        ----------</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos"> 179</span></a><span class="sd">        other : `Spline`</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos"> 180</span></a><span class="sd">            The spline to add to self. The number of dependent variables must match self.</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos"> 181</span></a>
</span><span id="L-182"><a href="#L-182"><span class="linenos"> 182</span></a><span class="sd">        indMap : `iterable` or `None`, optional</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos"> 183</span></a><span class="sd">            An iterable of indices or pairs of indices. Each index refers to an independent variable.</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos"> 184</span></a><span class="sd">            Within the iterable, a single index, `n`, maps the nth independent variable of self to the same independent variable of other.</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos"> 185</span></a><span class="sd">            A pair `(n, m)` maps the nth independent variable of self to the mth independent variable of other. </span>
</span><span id="L-186"><a href="#L-186"><span class="linenos"> 186</span></a><span class="sd">            For example, if you wanted to compute `self(u, v, w) + other(u, w)`, you&#39;d pass `[0, (2, 1)]` for `indMap`. </span>
</span><span id="L-187"><a href="#L-187"><span class="linenos"> 187</span></a><span class="sd">            Unmapped independent variables remain independent (the default).</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos"> 188</span></a><span class="sd">            The domains of mapped independent variables must match. </span>
</span><span id="L-189"><a href="#L-189"><span class="linenos"> 189</span></a><span class="sd">            An independent variable can map to no more than one other independent variable.</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos"> 190</span></a>
</span><span id="L-191"><a href="#L-191"><span class="linenos"> 191</span></a><span class="sd">        Returns</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos"> 192</span></a><span class="sd">        -------</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos"> 193</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos"> 194</span></a><span class="sd">            The result of adding self and other.</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos"> 195</span></a>
</span><span id="L-196"><a href="#L-196"><span class="linenos"> 196</span></a><span class="sd">        See Also</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos"> 197</span></a><span class="sd">        --------</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos"> 198</span></a><span class="sd">        `subtract` : Subtract two splines.</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos"> 199</span></a><span class="sd">        `multiply` : Multiply two splines.</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos"> 200</span></a><span class="sd">        `common_basis` : Align a collection of splines to a common basis, elevating the order and adding knots as needed.</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos"> 201</span></a>
</span><span id="L-202"><a href="#L-202"><span class="linenos"> 202</span></a><span class="sd">        Notes</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos"> 203</span></a><span class="sd">        -----</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos"> 204</span></a><span class="sd">        Uses `common_basis` to ensure mapped variables share the same order and knots. </span>
</span><span id="L-205"><a href="#L-205"><span class="linenos"> 205</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos"> 206</span></a>        <span class="k">if</span> <span class="n">indMap</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos"> 207</span></a>            <span class="n">indMap</span> <span class="o">=</span> <span class="p">[</span><span class="n">mapping</span> <span class="k">if</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">mapping</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">mapping</span><span class="p">)</span> <span class="k">for</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="n">indMap</span><span class="p">]</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos"> 208</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span><span class="p">)</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos"> 209</span></a>
</span><span id="L-210"><a href="#L-210"><span class="linenos"> 210</span></a>    <span class="k">def</span> <span class="nf">blossom</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">):</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos"> 211</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos"> 212</span></a><span class="sd">        Compute the blossom of the spline at given parameter values.</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos"> 213</span></a>
</span><span id="L-214"><a href="#L-214"><span class="linenos"> 214</span></a><span class="sd">        Parameters</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos"> 215</span></a><span class="sd">        ----------</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos"> 216</span></a><span class="sd">        uvwValues : `iterable`</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos"> 217</span></a><span class="sd">            An iterable of length `nInd` that specifies the degree-sized vectors of blossom parameters for each independent variable.</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos"> 218</span></a>
</span><span id="L-219"><a href="#L-219"><span class="linenos"> 219</span></a><span class="sd">        Returns</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos"> 220</span></a><span class="sd">        -------</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos"> 221</span></a><span class="sd">        value : `numpy.array`</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos"> 222</span></a><span class="sd">            The value of the spline&#39;s blossom at the given blossom parameters.</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos"> 223</span></a>
</span><span id="L-224"><a href="#L-224"><span class="linenos"> 224</span></a><span class="sd">        See Also</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos"> 225</span></a><span class="sd">        --------</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos"> 226</span></a><span class="sd">        `evaluate` : Compute the value of the spline at a given parameter value.</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos"> 227</span></a>
</span><span id="L-228"><a href="#L-228"><span class="linenos"> 228</span></a><span class="sd">        Notes</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos"> 229</span></a><span class="sd">        -----</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos"> 230</span></a><span class="sd">        Evaluates the blossom based on blossoming algorithm 1 found in Goldman, Ronald N. &quot;Blossoming and knot insertion algorithms for B-spline curves.&quot; </span>
</span><span id="L-231"><a href="#L-231"><span class="linenos"> 231</span></a><span class="sd">        Computer Aided Geometric Design 7, no. 1-4 (1990): 69-81.</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos"> 232</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos"> 233</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">blossom</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">)</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos"> 234</span></a>
</span><span id="L-235"><a href="#L-235"><span class="linenos"> 235</span></a>    <span class="nd">@staticmethod</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos"> 236</span></a>    <span class="k">def</span> <span class="nf">bspline_values</span><span class="p">(</span><span class="n">knot</span><span class="p">,</span> <span class="n">knots</span><span class="p">,</span> <span class="n">splineOrder</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">derivativeOrder</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">taylorCoefs</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos"> 237</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos"> 238</span></a><span class="sd">        Compute bspline values or their derivatives for a 1D bspline segment given the rightmost knot of the segment and a parameter value within that segment.</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos"> 239</span></a>
</span><span id="L-240"><a href="#L-240"><span class="linenos"> 240</span></a><span class="sd">        Parameters</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos"> 241</span></a><span class="sd">        ----------</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos"> 242</span></a><span class="sd">        knot : `int`</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos"> 243</span></a><span class="sd">            The rightmost knot in the bspline segment.</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos"> 244</span></a>
</span><span id="L-245"><a href="#L-245"><span class="linenos"> 245</span></a><span class="sd">        knots : array-like</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos"> 246</span></a><span class="sd">            The array of knots for the bspline.</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos"> 247</span></a><span class="sd">        </span>
</span><span id="L-248"><a href="#L-248"><span class="linenos"> 248</span></a><span class="sd">        splineOrder : `int`</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos"> 249</span></a><span class="sd">            The order of the bspline.</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos"> 250</span></a>
</span><span id="L-251"><a href="#L-251"><span class="linenos"> 251</span></a><span class="sd">        u : `float`</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos"> 252</span></a><span class="sd">            The parameter value within the segment at which to evaluate it.</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos"> 253</span></a><span class="sd">        </span>
</span><span id="L-254"><a href="#L-254"><span class="linenos"> 254</span></a><span class="sd">        derivativeOrder : `int`, optional</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos"> 255</span></a><span class="sd">            The order of the derivative. A zero-order derivative (default) just evaluates the bspline normally.</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos"> 256</span></a><span class="sd">        </span>
</span><span id="L-257"><a href="#L-257"><span class="linenos"> 257</span></a><span class="sd">        taylorCoefs : `boolean`, optional</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos"> 258</span></a><span class="sd">            A boolean flag that if true returns the derivatives divided by their degree factorial, that is </span>
</span><span id="L-259"><a href="#L-259"><span class="linenos"> 259</span></a><span class="sd">            the taylor coefficients at the given parameter values. Default is false.</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos"> 260</span></a>
</span><span id="L-261"><a href="#L-261"><span class="linenos"> 261</span></a><span class="sd">        Returns</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos"> 262</span></a><span class="sd">        -------</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos"> 263</span></a><span class="sd">        value : `numpy.array`</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos"> 264</span></a><span class="sd">            The value of the bspline or its derivative at the given parameter.</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos"> 265</span></a>
</span><span id="L-266"><a href="#L-266"><span class="linenos"> 266</span></a><span class="sd">        See Also</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos"> 267</span></a><span class="sd">        --------</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos"> 268</span></a><span class="sd">        `evaluate` : Compute the value of the spline at given parameter values.</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos"> 269</span></a><span class="sd">        `derivative` : Compute the derivative of the spline at given parameter values.</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos"> 270</span></a>
</span><span id="L-271"><a href="#L-271"><span class="linenos"> 271</span></a><span class="sd">        Notes</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos"> 272</span></a><span class="sd">        -----</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos"> 273</span></a><span class="sd">        This method does not check parameter values. It is used by other evaluation methods. It uses the de Boor recurrence relations for a B-spline.</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos"> 274</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos"> 275</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">bspline_values</span><span class="p">(</span><span class="n">knot</span><span class="p">,</span> <span class="n">knots</span><span class="p">,</span> <span class="n">splineOrder</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">derivativeOrder</span><span class="p">,</span> <span class="n">taylorCoefs</span><span class="p">)</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos"> 276</span></a>
</span><span id="L-277"><a href="#L-277"><span class="linenos"> 277</span></a>
</span><span id="L-278"><a href="#L-278"><span class="linenos"> 278</span></a>    <span class="k">def</span> <span class="nf">clamp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos"> 279</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos"> 280</span></a><span class="sd">        Ensure the leftmost/rightmost knot has a full order multiplicity, clamping the spline&#39;s </span>
</span><span id="L-281"><a href="#L-281"><span class="linenos"> 281</span></a><span class="sd">        value at the first/last knot to its first/last coefficient.</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos"> 282</span></a>
</span><span id="L-283"><a href="#L-283"><span class="linenos"> 283</span></a><span class="sd">        Parameters</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos"> 284</span></a><span class="sd">        ----------</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos"> 285</span></a><span class="sd">        left : `iterable`</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos"> 286</span></a><span class="sd">            An iterable of independent variables to clamp on the left side.</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos"> 287</span></a>
</span><span id="L-288"><a href="#L-288"><span class="linenos"> 288</span></a><span class="sd">        right : `iterable`</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos"> 289</span></a><span class="sd">            An iterable of independent variables to clamp on the right side.</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos"> 290</span></a>
</span><span id="L-291"><a href="#L-291"><span class="linenos"> 291</span></a><span class="sd">        Returns</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos"> 292</span></a><span class="sd">        -------</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos"> 293</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos"> 294</span></a><span class="sd">            The clamped spline. If the spline was already clamped, the original spline is returned.</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos"> 295</span></a>
</span><span id="L-296"><a href="#L-296"><span class="linenos"> 296</span></a><span class="sd">        See Also</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos"> 297</span></a><span class="sd">        --------</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos"> 298</span></a><span class="sd">        `insert_knots` : Insert new knots into a spline.</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos"> 299</span></a><span class="sd">        `trim` : Trim the domain of a spline.</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos"> 300</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos"> 301</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">clamp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos"> 302</span></a>
</span><span id="L-303"><a href="#L-303"><span class="linenos"> 303</span></a>    <span class="k">def</span> <span class="nf">common_basis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">splines</span><span class="p">,</span> <span class="n">indMap</span><span class="p">):</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos"> 304</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos"> 305</span></a><span class="sd">        Align a collection of splines to a common basis, elevating the order and adding knots as needed.</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos"> 306</span></a>
</span><span id="L-307"><a href="#L-307"><span class="linenos"> 307</span></a><span class="sd">        Parameters</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos"> 308</span></a><span class="sd">        ----------</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos"> 309</span></a><span class="sd">        splines : `iterable`</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos"> 310</span></a><span class="sd">            The collection of N - 1 splines to align (N total splines, including self).</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos"> 311</span></a>
</span><span id="L-312"><a href="#L-312"><span class="linenos"> 312</span></a><span class="sd">        indMap : `iterable`</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos"> 313</span></a><span class="sd">            The collection of independent variables to align. Since each spline can have multiple </span>
</span><span id="L-314"><a href="#L-314"><span class="linenos"> 314</span></a><span class="sd">            independent variables, `indMap` is an `iterable` of `iterables` (like a list of lists). </span>
</span><span id="L-315"><a href="#L-315"><span class="linenos"> 315</span></a><span class="sd">            Each collection of indices (i0, i1, .. iN) maps the i&#39;th independent variable to each other. </span>
</span><span id="L-316"><a href="#L-316"><span class="linenos"> 316</span></a><span class="sd">            The domains of mapped independent variables must match. </span>
</span><span id="L-317"><a href="#L-317"><span class="linenos"> 317</span></a><span class="sd">            An independent variable can map to no more than one other independent variable.</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos"> 318</span></a><span class="sd">            If all the splines are curves (1 independent variable), then `indMap` is ((0, 0, .. 0),).</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos"> 319</span></a>
</span><span id="L-320"><a href="#L-320"><span class="linenos"> 320</span></a><span class="sd">        Returns</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos"> 321</span></a><span class="sd">        -------</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos"> 322</span></a><span class="sd">        splines : `tuple`</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos"> 323</span></a><span class="sd">            The aligned collection of N splines.</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos"> 324</span></a>
</span><span id="L-325"><a href="#L-325"><span class="linenos"> 325</span></a><span class="sd">        See Also</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos"> 326</span></a><span class="sd">        --------</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos"> 327</span></a><span class="sd">        `elevate_and_insert_knots` : Elevate a spline and insert new knots.</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos"> 328</span></a>
</span><span id="L-329"><a href="#L-329"><span class="linenos"> 329</span></a><span class="sd">        Notes</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos"> 330</span></a><span class="sd">        -----</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos"> 331</span></a><span class="sd">        Uses `elevate_and_insert_knots` to ensure mapped variables share the same order and knots. </span>
</span><span id="L-332"><a href="#L-332"><span class="linenos"> 332</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos"> 333</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">common_basis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">splines</span><span class="p">,</span> <span class="n">indMap</span><span class="p">)</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos"> 334</span></a>
</span><span id="L-335"><a href="#L-335"><span class="linenos"> 335</span></a>    <span class="k">def</span> <span class="nf">confine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">range_bounds</span><span class="p">):</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos"> 336</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos"> 337</span></a><span class="sd">        Confine the range of a curve to the given bounds.</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos"> 338</span></a>
</span><span id="L-339"><a href="#L-339"><span class="linenos"> 339</span></a><span class="sd">        Parameters</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos"> 340</span></a><span class="sd">        ----------</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos"> 341</span></a><span class="sd">        range_bounds : `iterable`</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos"> 342</span></a><span class="sd">            The collection of `nDep` tuples that specify the lower and upper bounds for the curve.</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos"> 343</span></a>
</span><span id="L-344"><a href="#L-344"><span class="linenos"> 344</span></a><span class="sd">        Returns</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos"> 345</span></a><span class="sd">        -------</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos"> 346</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos"> 347</span></a><span class="sd">            The confined spline. </span>
</span><span id="L-348"><a href="#L-348"><span class="linenos"> 348</span></a>
</span><span id="L-349"><a href="#L-349"><span class="linenos"> 349</span></a><span class="sd">        See Also</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos"> 350</span></a><span class="sd">        --------</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos"> 351</span></a><span class="sd">        `range_bounds` : Return the range of a spline as lower and upper bounds.</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos"> 352</span></a><span class="sd">        `contour` : Fit a spline to the contour defined by `F(x) = 0`.</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos"> 353</span></a>
</span><span id="L-354"><a href="#L-354"><span class="linenos"> 354</span></a><span class="sd">        Notes</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos"> 355</span></a><span class="sd">        -----</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos"> 356</span></a><span class="sd">        Only works for curves (`nInd == 1`). Portions of the curve that lie outside the bounds </span>
</span><span id="L-357"><a href="#L-357"><span class="linenos"> 357</span></a><span class="sd">        become lines along the boundary.</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos"> 358</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos"> 359</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">confine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">range_bounds</span><span class="p">)</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos"> 360</span></a>
</span><span id="L-361"><a href="#L-361"><span class="linenos"> 361</span></a>    <span class="nd">@staticmethod</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos"> 362</span></a>    <span class="k">def</span> <span class="nf">contour</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">knownXValues</span><span class="p">,</span> <span class="n">dF</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">epsilon</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="p">{}):</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos"> 363</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos"> 364</span></a><span class="sd">        Fit a spline to the contour defined by `F(x) = 0`, where `F` maps n dimensions to </span>
</span><span id="L-365"><a href="#L-365"><span class="linenos"> 365</span></a><span class="sd">        n-1 dimensions. Thus, the solution, `x(t)`, is a contour curve (one degree of freedom) </span>
</span><span id="L-366"><a href="#L-366"><span class="linenos"> 366</span></a><span class="sd">        returned in the form of a spline.</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos"> 367</span></a>
</span><span id="L-368"><a href="#L-368"><span class="linenos"> 368</span></a><span class="sd">        Parameters</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos"> 369</span></a><span class="sd">        ----------</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos"> 370</span></a><span class="sd">        F : function or `Spline`</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos"> 371</span></a><span class="sd">            A function or spline that takes an array-like argument of length `n` and returns an </span>
</span><span id="L-372"><a href="#L-372"><span class="linenos"> 372</span></a><span class="sd">            array-like result of length `n - 1`.</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos"> 373</span></a>
</span><span id="L-374"><a href="#L-374"><span class="linenos"> 374</span></a><span class="sd">        knownXValues : `iterable` of array-like</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos"> 375</span></a><span class="sd">            An `iterable` of known x values (array-like) that lie on the desired contour. </span>
</span><span id="L-376"><a href="#L-376"><span class="linenos"> 376</span></a><span class="sd">            The length of `knownXValues` must be at least 2 (for the two boundary conditions). </span>
</span><span id="L-377"><a href="#L-377"><span class="linenos"> 377</span></a><span class="sd">            All x values must be length `n` and be listed in the order they appear on the contour.  </span>
</span><span id="L-378"><a href="#L-378"><span class="linenos"> 378</span></a><span class="sd">            `F(x)` for all known x values must be a zero vector of length `n-1`.</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos"> 379</span></a>
</span><span id="L-380"><a href="#L-380"><span class="linenos"> 380</span></a><span class="sd">        dF : `iterable` or `None`, optional</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos"> 381</span></a><span class="sd">            An `iterable` of the `n` functions representing the `n` first derivatives of `F`. </span>
</span><span id="L-382"><a href="#L-382"><span class="linenos"> 382</span></a><span class="sd">            If `dF` is `None` (the default), the first derivatives will be computed for you. </span>
</span><span id="L-383"><a href="#L-383"><span class="linenos"> 383</span></a><span class="sd">            If `F` is not a spline, computing the first derivatives involves multiple calls to `F` </span>
</span><span id="L-384"><a href="#L-384"><span class="linenos"> 384</span></a><span class="sd">            and can be numerically unstable. </span>
</span><span id="L-385"><a href="#L-385"><span class="linenos"> 385</span></a>
</span><span id="L-386"><a href="#L-386"><span class="linenos"> 386</span></a><span class="sd">        epsilon : `float`, optional</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos"> 387</span></a><span class="sd">            Tolerance for contour precision. Evaluating `F` with contour values will be within epsilon </span>
</span><span id="L-388"><a href="#L-388"><span class="linenos"> 388</span></a><span class="sd">            of zero. The default is square root of machine epsilon. The actual accuracy of the contour </span>
</span><span id="L-389"><a href="#L-389"><span class="linenos"> 389</span></a><span class="sd">            is returned as `spline.accuracy`.</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos"> 390</span></a><span class="sd">            </span>
</span><span id="L-391"><a href="#L-391"><span class="linenos"> 391</span></a><span class="sd">        metadata : `dict`, optional</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos"> 392</span></a><span class="sd">            A dictionary of ancillary data to store with the spline. Default is {}.</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos"> 393</span></a>
</span><span id="L-394"><a href="#L-394"><span class="linenos"> 394</span></a><span class="sd">        Returns</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos"> 395</span></a><span class="sd">        -------</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos"> 396</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos"> 397</span></a><span class="sd">            The spline contour, `x(t)`, with nInd == 1 and nDep == n.</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos"> 398</span></a>
</span><span id="L-399"><a href="#L-399"><span class="linenos"> 399</span></a><span class="sd">        See Also</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos"> 400</span></a><span class="sd">        --------</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos"> 401</span></a><span class="sd">        `least_squares` : Fit a spline to an array of data points using the method of least squares.</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos"> 402</span></a><span class="sd">        `contours` : Find all the contour curves of a spline.</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos"> 403</span></a><span class="sd">        `confine` : Confine the range of a curve to the given bounds.</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos"> 404</span></a>
</span><span id="L-405"><a href="#L-405"><span class="linenos"> 405</span></a><span class="sd">        Notes</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos"> 406</span></a><span class="sd">        -----</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos"> 407</span></a><span class="sd">        The returned spline has constant parametric speed (the length of its derivative is constant). </span>
</span><span id="L-408"><a href="#L-408"><span class="linenos"> 408</span></a><span class="sd">        If `F` is a `Spline`, then the range of the returned contour is confined to the domain of `F`. </span>
</span><span id="L-409"><a href="#L-409"><span class="linenos"> 409</span></a><span class="sd">        Implements the algorithm described in section 7 of Grandine, Thomas A. </span>
</span><span id="L-410"><a href="#L-410"><span class="linenos"> 410</span></a><span class="sd">        &quot;Applications of contouring.&quot; Siam Review 42, no. 2 (2000): 297-316.</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos"> 411</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos"> 412</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_fitting</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">knownXValues</span><span class="p">,</span> <span class="n">dF</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos"> 413</span></a>
</span><span id="L-414"><a href="#L-414"><span class="linenos"> 414</span></a>    <span class="k">def</span> <span class="nf">contours</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos"> 415</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos"> 416</span></a><span class="sd">        Find all the contour curves of a spline whose `nInd` is one larger than its `nDep`.</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos"> 417</span></a>
</span><span id="L-418"><a href="#L-418"><span class="linenos"> 418</span></a><span class="sd">        Returns</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos"> 419</span></a><span class="sd">        -------</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos"> 420</span></a><span class="sd">        curves : `iterable`</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos"> 421</span></a><span class="sd">            A collection of `Spline` curves, `u(t)`, each of whose domain is [0, 1], whose range is</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos"> 422</span></a><span class="sd">            in the parameter space of the given spline, and which satisfy `self(u(t)) = 0`. </span>
</span><span id="L-423"><a href="#L-423"><span class="linenos"> 423</span></a>
</span><span id="L-424"><a href="#L-424"><span class="linenos"> 424</span></a><span class="sd">        See Also</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos"> 425</span></a><span class="sd">        --------</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos"> 426</span></a><span class="sd">        `zeros` : Find the roots of a spline (nInd must match nDep).</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos"> 427</span></a><span class="sd">        `contour` : Fit a spline to the contour defined by `F(x) = 0`.</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos"> 428</span></a><span class="sd">        `intersect` : Intersect two splines.</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos"> 429</span></a>
</span><span id="L-430"><a href="#L-430"><span class="linenos"> 430</span></a><span class="sd">        Notes</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos"> 431</span></a><span class="sd">        -----</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos"> 432</span></a><span class="sd">        Uses `zeros` to find all intersection points and `contour` to find individual intersection curves. </span>
</span><span id="L-433"><a href="#L-433"><span class="linenos"> 433</span></a><span class="sd">        The algorithm used to to find all intersection curves is from Grandine, Thomas A., and Frederick W. Klein IV. </span>
</span><span id="L-434"><a href="#L-434"><span class="linenos"> 434</span></a><span class="sd">        &quot;A new approach to the surface intersection problem.&quot; Computer Aided Geometric Design 14, no. 2 (1997): 111-134.</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos"> 435</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos"> 436</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_intersection</span><span class="o">.</span><span class="n">contours</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos"> 437</span></a>
</span><span id="L-438"><a href="#L-438"><span class="linenos"> 438</span></a>    <span class="k">def</span> <span class="nf">contract</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">):</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos"> 439</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos"> 440</span></a><span class="sd">        Contract a spline by assigning a fixed value to one or more of its independent variables.</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos"> 441</span></a>
</span><span id="L-442"><a href="#L-442"><span class="linenos"> 442</span></a><span class="sd">        Parameters</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos"> 443</span></a><span class="sd">        ----------</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos"> 444</span></a><span class="sd">        uvw : `iterable`</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos"> 445</span></a><span class="sd">            An iterable of length `nInd` that specifies the values of each independent variable to contract.</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos"> 446</span></a><span class="sd">            A value of `None` for an independent variable indicates that variable should remain unchanged.</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos"> 447</span></a>
</span><span id="L-448"><a href="#L-448"><span class="linenos"> 448</span></a><span class="sd">        Returns</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos"> 449</span></a><span class="sd">        -------</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos"> 450</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos"> 451</span></a><span class="sd">            The contracted spline.</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos"> 452</span></a>
</span><span id="L-453"><a href="#L-453"><span class="linenos"> 453</span></a><span class="sd">        See Also</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos"> 454</span></a><span class="sd">        --------</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos"> 455</span></a><span class="sd">        `evaluate` : Compute the value of the spline at given parameter values.</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos"> 456</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos"> 457</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">contract</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">)</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos"> 458</span></a>
</span><span id="L-459"><a href="#L-459"><span class="linenos"> 459</span></a>    <span class="k">def</span> <span class="nf">convolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">productType</span> <span class="o">=</span> <span class="s1">&#39;S&#39;</span><span class="p">):</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos"> 460</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos"> 461</span></a><span class="sd">        Convolve two splines (cross, dot, or scalar product).</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos"> 462</span></a>
</span><span id="L-463"><a href="#L-463"><span class="linenos"> 463</span></a><span class="sd">        Parameters</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos"> 464</span></a><span class="sd">        ----------</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos"> 465</span></a><span class="sd">        other : `Spline`</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos"> 466</span></a><span class="sd">            The spline to convolve with self.</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos"> 467</span></a>
</span><span id="L-468"><a href="#L-468"><span class="linenos"> 468</span></a><span class="sd">        indMap : `iterable` or `None`, optional</span>
</span><span id="L-469"><a href="#L-469"><span class="linenos"> 469</span></a><span class="sd">            An iterable of indices or pairs of indices. Each index refers to an independent variable.</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos"> 470</span></a><span class="sd">            Within the iterable, a single index, `n`, maps the nth independent variable of self to the same independent variable of other.</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos"> 471</span></a><span class="sd">            A pair `(n, m)` maps the nth independent variable of self to the mth independent variable of other. </span>
</span><span id="L-472"><a href="#L-472"><span class="linenos"> 472</span></a><span class="sd">            For example, if you wanted to convolve `self(u, v, w)` with `other(u, w)`, you&#39;d pass `[0, (2, 1)]` for `indMap`. </span>
</span><span id="L-473"><a href="#L-473"><span class="linenos"> 473</span></a><span class="sd">            Unmapped independent variables remain independent (the default).</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos"> 474</span></a><span class="sd">            An independent variable can map to no more than one other independent variable.</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos"> 475</span></a>
</span><span id="L-476"><a href="#L-476"><span class="linenos"> 476</span></a><span class="sd">        productType : {&#39;C&#39;, &#39;D&#39;, &#39;S&#39;}, optional</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos"> 477</span></a><span class="sd">            The type of product to perform on the dependent variables (default is &#39;S&#39;).</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos"> 478</span></a><span class="sd">                &#39;C&#39; is for a cross product, self x other (nDep must be 2 or 3).</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos"> 479</span></a><span class="sd">                &#39;D&#39; is for a dot product (nDep must match).</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos"> 480</span></a><span class="sd">                &#39;S&#39; is for a scalar product (nDep must be 1 for one of the splines).</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos"> 481</span></a><span class="sd">        </span>
</span><span id="L-482"><a href="#L-482"><span class="linenos"> 482</span></a><span class="sd">        Returns</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos"> 483</span></a><span class="sd">        -------</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos"> 484</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos"> 485</span></a><span class="sd">            The result of convolving self with other.</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos"> 486</span></a>
</span><span id="L-487"><a href="#L-487"><span class="linenos"> 487</span></a><span class="sd">        See Also</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos"> 488</span></a><span class="sd">        --------</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos"> 489</span></a><span class="sd">        `multiply` : Multiply two splines (cross, dot, or scalar product).</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos"> 490</span></a><span class="sd">        `integrate` : Integrate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos"> 491</span></a>
</span><span id="L-492"><a href="#L-492"><span class="linenos"> 492</span></a><span class="sd">        Notes</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos"> 493</span></a><span class="sd">        -----</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos"> 494</span></a><span class="sd">        Taken in part from Lee, E. T. Y. &quot;Computing a chain of blossoms, with application to products of splines.&quot; </span>
</span><span id="L-495"><a href="#L-495"><span class="linenos"> 495</span></a><span class="sd">        Computer Aided Geometric Design 11, no. 6 (1994): 597-620.</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos"> 496</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos"> 497</span></a>        <span class="k">if</span> <span class="n">indMap</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos"> 498</span></a>            <span class="n">indMap</span> <span class="o">=</span> <span class="p">[(</span><span class="o">*</span><span class="p">(</span><span class="n">mapping</span> <span class="k">if</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">mapping</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">mapping</span><span class="p">)),</span> <span class="kc">True</span><span class="p">)</span> <span class="k">for</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="n">indMap</span><span class="p">]</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos"> 499</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">multiplyAndConvolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span><span class="p">,</span> <span class="n">productType</span><span class="p">)</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos"> 500</span></a>
</span><span id="L-501"><a href="#L-501"><span class="linenos"> 501</span></a>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{}):</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos"> 502</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos"> 503</span></a><span class="sd">        Create a copy of a spline.</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos"> 504</span></a>
</span><span id="L-505"><a href="#L-505"><span class="linenos"> 505</span></a><span class="sd">        Parameters</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos"> 506</span></a><span class="sd">        ----------</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos"> 507</span></a><span class="sd">        metadata : `dict`, optional</span>
</span><span id="L-508"><a href="#L-508"><span class="linenos"> 508</span></a><span class="sd">            A dictionary of ancillary data to store with the spline. Default is {}.</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos"> 509</span></a><span class="sd">        </span>
</span><span id="L-510"><a href="#L-510"><span class="linenos"> 510</span></a><span class="sd">        Returns</span>
</span><span id="L-511"><a href="#L-511"><span class="linenos"> 511</span></a><span class="sd">        -------</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos"> 512</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos"> 513</span></a><span class="sd">            The spline copy.</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos"> 514</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos"> 515</span></a>        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="bp">self</span><span class="o">.</span><span class="n">nInd</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">knots</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">accuracy</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos"> 516</span></a>
</span><span id="L-517"><a href="#L-517"><span class="linenos"> 517</span></a>    <span class="k">def</span> <span class="nf">cross</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vector</span><span class="p">):</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos"> 518</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos"> 519</span></a><span class="sd">        Cross product a spline with `nDep` of 2 or 3 by the given vector.</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos"> 520</span></a>
</span><span id="L-521"><a href="#L-521"><span class="linenos"> 521</span></a><span class="sd">        Parameters</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos"> 522</span></a><span class="sd">        ----------</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos"> 523</span></a><span class="sd">        vector : array-like or `Spline`</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos"> 524</span></a><span class="sd">            An array of length 2 or 3 or spline with `nDep` of 2 or 3 that specifies the vector.</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos"> 525</span></a>
</span><span id="L-526"><a href="#L-526"><span class="linenos"> 526</span></a><span class="sd">        Returns</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos"> 527</span></a><span class="sd">        -------</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos"> 528</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos"> 529</span></a><span class="sd">            The crossed spline: self x vector.</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos"> 530</span></a>
</span><span id="L-531"><a href="#L-531"><span class="linenos"> 531</span></a><span class="sd">        See Also</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos"> 532</span></a><span class="sd">        --------</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos"> 533</span></a><span class="sd">        `multiply` : Multiply two splines (cross, dot, or scalar product).</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos"> 534</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos"> 535</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vector</span><span class="p">)</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos"> 536</span></a>
</span><span id="L-537"><a href="#L-537"><span class="linenos"> 537</span></a>    <span class="k">def</span> <span class="nf">derivative</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span><span class="p">,</span> <span class="n">uvw</span><span class="p">):</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos"> 538</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos"> 539</span></a><span class="sd">        Compute the derivative of the spline at given parameter values.</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos"> 540</span></a>
</span><span id="L-541"><a href="#L-541"><span class="linenos"> 541</span></a><span class="sd">        Parameters</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos"> 542</span></a><span class="sd">        ----------</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos"> 543</span></a><span class="sd">        with_respect_to : `iterable`</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos"> 544</span></a><span class="sd">            An iterable of length `nInd` that specifies the integer order of derivative for each independent variable.</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos"> 545</span></a><span class="sd">            A zero-order derivative just evaluates the spline normally.</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos"> 546</span></a><span class="sd">        </span>
</span><span id="L-547"><a href="#L-547"><span class="linenos"> 547</span></a><span class="sd">        uvw : `iterable`</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos"> 548</span></a><span class="sd">            An iterable of length `nInd` that specifies the values of each independent variable (the parameter values).</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos"> 549</span></a>
</span><span id="L-550"><a href="#L-550"><span class="linenos"> 550</span></a><span class="sd">        Returns</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos"> 551</span></a><span class="sd">        -------</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos"> 552</span></a><span class="sd">        value : `numpy.array`</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos"> 553</span></a><span class="sd">            The value of the derivative of the spline at the given parameter values.</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos"> 554</span></a>
</span><span id="L-555"><a href="#L-555"><span class="linenos"> 555</span></a><span class="sd">        See Also</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos"> 556</span></a><span class="sd">        --------</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos"> 557</span></a><span class="sd">        `evaluate` : Compute the value of the spline at a given parameter value.</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos"> 558</span></a><span class="sd">        `differentiate` : Differentiate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos"> 559</span></a><span class="sd">        `integral` : Compute the integral of the spline at a given parameter value.</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos"> 560</span></a><span class="sd">        `integrate` : Integrate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos"> 561</span></a>
</span><span id="L-562"><a href="#L-562"><span class="linenos"> 562</span></a><span class="sd">        Notes</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos"> 563</span></a><span class="sd">        -----</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos"> 564</span></a><span class="sd">        The derivative method uses the de Boor recurrence relations for a B-spline</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos"> 565</span></a><span class="sd">        series to evaluate a spline.  The non-zero B-splines are</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos"> 566</span></a><span class="sd">        evaluated, then the dot product of those B-splines with the vector of</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos"> 567</span></a><span class="sd">        B-spline coefficients is computed.</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos"> 568</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos"> 569</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span><span class="p">,</span> <span class="n">uvw</span><span class="p">)</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos"> 570</span></a>
</span><span id="L-571"><a href="#L-571"><span class="linenos"> 571</span></a>    <span class="k">def</span> <span class="nf">differentiate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos"> 572</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos"> 573</span></a><span class="sd">        Differentiate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos"> 574</span></a>
</span><span id="L-575"><a href="#L-575"><span class="linenos"> 575</span></a><span class="sd">        Parameters</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos"> 576</span></a><span class="sd">        ----------</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos"> 577</span></a><span class="sd">        with_respect_to : integer, optional</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos"> 578</span></a><span class="sd">            The number of the independent variable to differentiate. Default is zero.</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos"> 579</span></a>
</span><span id="L-580"><a href="#L-580"><span class="linenos"> 580</span></a><span class="sd">        Returns</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos"> 581</span></a><span class="sd">        -------</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos"> 582</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos"> 583</span></a><span class="sd">            The spline that results from differentiating the original spline with respect to the given independent variable.</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos"> 584</span></a>
</span><span id="L-585"><a href="#L-585"><span class="linenos"> 585</span></a><span class="sd">        See Also</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos"> 586</span></a><span class="sd">        --------</span>
</span><span id="L-587"><a href="#L-587"><span class="linenos"> 587</span></a><span class="sd">        `derivative` : Compute the derivative of the spline at a given parameter value.</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos"> 588</span></a><span class="sd">        `integral` : Compute the integral of the spline at a given parameter value.</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos"> 589</span></a><span class="sd">        `integrate` : Integrate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="L-590"><a href="#L-590"><span class="linenos"> 590</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos"> 591</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">differentiate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span><span class="p">)</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos"> 592</span></a>
</span><span id="L-593"><a href="#L-593"><span class="linenos"> 593</span></a>    <span class="k">def</span> <span class="nf">domain</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos"> 594</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos"> 595</span></a><span class="sd">        Return the domain of a spline.</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos"> 596</span></a>
</span><span id="L-597"><a href="#L-597"><span class="linenos"> 597</span></a><span class="sd">        Returns</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos"> 598</span></a><span class="sd">        -------</span>
</span><span id="L-599"><a href="#L-599"><span class="linenos"> 599</span></a><span class="sd">        bounds : `numpy.array`</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos"> 600</span></a><span class="sd">            nInd x 2 array of the upper and lower bounds on each of the independent variables.</span>
</span><span id="L-601"><a href="#L-601"><span class="linenos"> 601</span></a>
</span><span id="L-602"><a href="#L-602"><span class="linenos"> 602</span></a><span class="sd">        See Also</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos"> 603</span></a><span class="sd">        --------</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos"> 604</span></a><span class="sd">        `reparametrize` : Reparametrize a spline to match new domain bounds</span>
</span><span id="L-605"><a href="#L-605"><span class="linenos"> 605</span></a><span class="sd">        `trim` : Trim the domain of a spline.</span>
</span><span id="L-606"><a href="#L-606"><span class="linenos"> 606</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos"> 607</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">domain</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-608"><a href="#L-608"><span class="linenos"> 608</span></a>
</span><span id="L-609"><a href="#L-609"><span class="linenos"> 609</span></a>    <span class="k">def</span> <span class="nf">dot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vector</span><span class="p">):</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos"> 610</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos"> 611</span></a><span class="sd">        Dot product a spline by the given vector.</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos"> 612</span></a>
</span><span id="L-613"><a href="#L-613"><span class="linenos"> 613</span></a><span class="sd">        Parameters</span>
</span><span id="L-614"><a href="#L-614"><span class="linenos"> 614</span></a><span class="sd">        ----------</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos"> 615</span></a><span class="sd">        vector : array-like or `Spline`</span>
</span><span id="L-616"><a href="#L-616"><span class="linenos"> 616</span></a><span class="sd">            An array of length `nDep` or spline with matching `nDep` that specifies the vector.</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos"> 617</span></a>
</span><span id="L-618"><a href="#L-618"><span class="linenos"> 618</span></a><span class="sd">        Returns</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos"> 619</span></a><span class="sd">        -------</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos"> 620</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-621"><a href="#L-621"><span class="linenos"> 621</span></a><span class="sd">            The dotted spline.</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos"> 622</span></a>
</span><span id="L-623"><a href="#L-623"><span class="linenos"> 623</span></a><span class="sd">        See Also</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos"> 624</span></a><span class="sd">        --------</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos"> 625</span></a><span class="sd">        `multiply` : Multiply two splines (cross, dot, or scalar product).</span>
</span><span id="L-626"><a href="#L-626"><span class="linenos"> 626</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos"> 627</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vector</span><span class="p">)</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos"> 628</span></a>
</span><span id="L-629"><a href="#L-629"><span class="linenos"> 629</span></a>    <span class="k">def</span> <span class="nf">elevate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">m</span><span class="p">):</span>
</span><span id="L-630"><a href="#L-630"><span class="linenos"> 630</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos"> 631</span></a><span class="sd">        Elevate a spline, increasing its order by `m`.</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos"> 632</span></a>
</span><span id="L-633"><a href="#L-633"><span class="linenos"> 633</span></a><span class="sd">        Parameters</span>
</span><span id="L-634"><a href="#L-634"><span class="linenos"> 634</span></a><span class="sd">        ----------</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos"> 635</span></a><span class="sd">        m : `iterable` of length `nInd`</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos"> 636</span></a><span class="sd">            An iterable that specifies the non-negative integer amount to increase the order </span>
</span><span id="L-637"><a href="#L-637"><span class="linenos"> 637</span></a><span class="sd">            for each independent variable of the spline.</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos"> 638</span></a>
</span><span id="L-639"><a href="#L-639"><span class="linenos"> 639</span></a><span class="sd">        Returns</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos"> 640</span></a><span class="sd">        -------</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos"> 641</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos"> 642</span></a><span class="sd">            A spline with the order of the current spline plus `m`.</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos"> 643</span></a>
</span><span id="L-644"><a href="#L-644"><span class="linenos"> 644</span></a><span class="sd">        See Also</span>
</span><span id="L-645"><a href="#L-645"><span class="linenos"> 645</span></a><span class="sd">        --------</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos"> 646</span></a><span class="sd">        `insert_knots` : Insert new knots into a spline.</span>
</span><span id="L-647"><a href="#L-647"><span class="linenos"> 647</span></a><span class="sd">        `elevate_and_insert_knots` : Elevate a spline and insert new knots.</span>
</span><span id="L-648"><a href="#L-648"><span class="linenos"> 648</span></a>
</span><span id="L-649"><a href="#L-649"><span class="linenos"> 649</span></a><span class="sd">        Notes</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos"> 650</span></a><span class="sd">        -----</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos"> 651</span></a><span class="sd">        Implements the algorithm from Huang, Qi-Xing, Shi-Min Hu, and Ralph R. Martin. </span>
</span><span id="L-652"><a href="#L-652"><span class="linenos"> 652</span></a><span class="sd">        &quot;Fast degree elevation and knot insertion for B-spline curves.&quot; Computer Aided Geometric Design 22, no. 2 (2005): 183-197.</span>
</span><span id="L-653"><a href="#L-653"><span class="linenos"> 653</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-654"><a href="#L-654"><span class="linenos"> 654</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">elevate_and_insert_knots</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nInd</span> <span class="o">*</span> <span class="p">[[]])</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos"> 655</span></a>
</span><span id="L-656"><a href="#L-656"><span class="linenos"> 656</span></a>    <span class="k">def</span> <span class="nf">elevate_and_insert_knots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">newKnots</span><span class="p">):</span>
</span><span id="L-657"><a href="#L-657"><span class="linenos"> 657</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-658"><a href="#L-658"><span class="linenos"> 658</span></a><span class="sd">        Elevate a spline and insert new knots.</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos"> 659</span></a>
</span><span id="L-660"><a href="#L-660"><span class="linenos"> 660</span></a><span class="sd">        Parameters</span>
</span><span id="L-661"><a href="#L-661"><span class="linenos"> 661</span></a><span class="sd">        ----------</span>
</span><span id="L-662"><a href="#L-662"><span class="linenos"> 662</span></a><span class="sd">        m : `iterable` of length `nInd`</span>
</span><span id="L-663"><a href="#L-663"><span class="linenos"> 663</span></a><span class="sd">            An iterable that specifies the non-negative integer amount to increase the order </span>
</span><span id="L-664"><a href="#L-664"><span class="linenos"> 664</span></a><span class="sd">            for each independent variable of the spline.</span>
</span><span id="L-665"><a href="#L-665"><span class="linenos"> 665</span></a>
</span><span id="L-666"><a href="#L-666"><span class="linenos"> 666</span></a><span class="sd">        newKnots : `iterable` of length `nInd`</span>
</span><span id="L-667"><a href="#L-667"><span class="linenos"> 667</span></a><span class="sd">            An iterable that specifies the knots to be added to each independent variable&#39;s knots. </span>
</span><span id="L-668"><a href="#L-668"><span class="linenos"> 668</span></a><span class="sd">            len(newKnots[ind]) == 0 if no knots are to be added for the `ind` independent variable.</span>
</span><span id="L-669"><a href="#L-669"><span class="linenos"> 669</span></a>
</span><span id="L-670"><a href="#L-670"><span class="linenos"> 670</span></a><span class="sd">        Returns</span>
</span><span id="L-671"><a href="#L-671"><span class="linenos"> 671</span></a><span class="sd">        -------</span>
</span><span id="L-672"><a href="#L-672"><span class="linenos"> 672</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-673"><a href="#L-673"><span class="linenos"> 673</span></a><span class="sd">            A spline with the order of the current spline plus `m` that includes the new knots.</span>
</span><span id="L-674"><a href="#L-674"><span class="linenos"> 674</span></a>
</span><span id="L-675"><a href="#L-675"><span class="linenos"> 675</span></a><span class="sd">        See Also</span>
</span><span id="L-676"><a href="#L-676"><span class="linenos"> 676</span></a><span class="sd">        --------</span>
</span><span id="L-677"><a href="#L-677"><span class="linenos"> 677</span></a><span class="sd">        `insert_knots` : Insert new knots into a spline.</span>
</span><span id="L-678"><a href="#L-678"><span class="linenos"> 678</span></a><span class="sd">        `clamp` : Clamp the left and/or right side of a spline.</span>
</span><span id="L-679"><a href="#L-679"><span class="linenos"> 679</span></a><span class="sd">        `elevate` : Elevate a spline, increasing its order by `m`.</span>
</span><span id="L-680"><a href="#L-680"><span class="linenos"> 680</span></a>
</span><span id="L-681"><a href="#L-681"><span class="linenos"> 681</span></a><span class="sd">        Notes</span>
</span><span id="L-682"><a href="#L-682"><span class="linenos"> 682</span></a><span class="sd">        -----</span>
</span><span id="L-683"><a href="#L-683"><span class="linenos"> 683</span></a><span class="sd">        Implements the algorithm from Huang, Qi-Xing, Shi-Min Hu, and Ralph R. Martin. </span>
</span><span id="L-684"><a href="#L-684"><span class="linenos"> 684</span></a><span class="sd">        &quot;Fast degree elevation and knot insertion for B-spline curves.&quot; Computer Aided Geometric Design 22, no. 2 (2005): 183-197.</span>
</span><span id="L-685"><a href="#L-685"><span class="linenos"> 685</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-686"><a href="#L-686"><span class="linenos"> 686</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">elevate_and_insert_knots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">newKnots</span><span class="p">)</span>
</span><span id="L-687"><a href="#L-687"><span class="linenos"> 687</span></a>
</span><span id="L-688"><a href="#L-688"><span class="linenos"> 688</span></a>    <span class="k">def</span> <span class="nf">evaluate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">):</span>
</span><span id="L-689"><a href="#L-689"><span class="linenos"> 689</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-690"><a href="#L-690"><span class="linenos"> 690</span></a><span class="sd">        Compute the value of the spline at given parameter values.</span>
</span><span id="L-691"><a href="#L-691"><span class="linenos"> 691</span></a>
</span><span id="L-692"><a href="#L-692"><span class="linenos"> 692</span></a><span class="sd">        Parameters</span>
</span><span id="L-693"><a href="#L-693"><span class="linenos"> 693</span></a><span class="sd">        ----------</span>
</span><span id="L-694"><a href="#L-694"><span class="linenos"> 694</span></a><span class="sd">        uvw : `iterable`</span>
</span><span id="L-695"><a href="#L-695"><span class="linenos"> 695</span></a><span class="sd">            An iterable of length `nInd` that specifies the values of each independent variable (the parameter values).</span>
</span><span id="L-696"><a href="#L-696"><span class="linenos"> 696</span></a>
</span><span id="L-697"><a href="#L-697"><span class="linenos"> 697</span></a><span class="sd">        Returns</span>
</span><span id="L-698"><a href="#L-698"><span class="linenos"> 698</span></a><span class="sd">        -------</span>
</span><span id="L-699"><a href="#L-699"><span class="linenos"> 699</span></a><span class="sd">        value : `numpy.array`</span>
</span><span id="L-700"><a href="#L-700"><span class="linenos"> 700</span></a><span class="sd">            The value of the spline at the given parameter values.</span>
</span><span id="L-701"><a href="#L-701"><span class="linenos"> 701</span></a>
</span><span id="L-702"><a href="#L-702"><span class="linenos"> 702</span></a><span class="sd">        See Also</span>
</span><span id="L-703"><a href="#L-703"><span class="linenos"> 703</span></a><span class="sd">        --------</span>
</span><span id="L-704"><a href="#L-704"><span class="linenos"> 704</span></a><span class="sd">        `derivative` : Compute the derivative of the spline at given parameter values.</span>
</span><span id="L-705"><a href="#L-705"><span class="linenos"> 705</span></a>
</span><span id="L-706"><a href="#L-706"><span class="linenos"> 706</span></a><span class="sd">        Notes</span>
</span><span id="L-707"><a href="#L-707"><span class="linenos"> 707</span></a><span class="sd">        -----</span>
</span><span id="L-708"><a href="#L-708"><span class="linenos"> 708</span></a><span class="sd">        The evaluate method uses the de Boor recurrence relations for a B-spline</span>
</span><span id="L-709"><a href="#L-709"><span class="linenos"> 709</span></a><span class="sd">        series to evaluate a spline.  The non-zero B-splines are</span>
</span><span id="L-710"><a href="#L-710"><span class="linenos"> 710</span></a><span class="sd">        evaluated, then the dot product of those B-splines with the vector of</span>
</span><span id="L-711"><a href="#L-711"><span class="linenos"> 711</span></a><span class="sd">        B-spline coefficients is computed.</span>
</span><span id="L-712"><a href="#L-712"><span class="linenos"> 712</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-713"><a href="#L-713"><span class="linenos"> 713</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">)</span>
</span><span id="L-714"><a href="#L-714"><span class="linenos"> 714</span></a>
</span><span id="L-715"><a href="#L-715"><span class="linenos"> 715</span></a>    <span class="k">def</span> <span class="nf">extrapolate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newDomain</span><span class="p">,</span> <span class="n">continuityOrder</span><span class="p">):</span>
</span><span id="L-716"><a href="#L-716"><span class="linenos"> 716</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-717"><a href="#L-717"><span class="linenos"> 717</span></a><span class="sd">        Extrapolate a spline out to an extended domain maintaining a given order of continuity.</span>
</span><span id="L-718"><a href="#L-718"><span class="linenos"> 718</span></a>
</span><span id="L-719"><a href="#L-719"><span class="linenos"> 719</span></a><span class="sd">        Parameters</span>
</span><span id="L-720"><a href="#L-720"><span class="linenos"> 720</span></a><span class="sd">        ----------</span>
</span><span id="L-721"><a href="#L-721"><span class="linenos"> 721</span></a><span class="sd">        newDomain : array-like</span>
</span><span id="L-722"><a href="#L-722"><span class="linenos"> 722</span></a><span class="sd">            nInd x 2 array of the new upper and lower bounds on each of the independent variables (same form as </span>
</span><span id="L-723"><a href="#L-723"><span class="linenos"> 723</span></a><span class="sd">            returned from `domain`). If a bound is None or nan then the original bound (and knots) are left unchanged.</span>
</span><span id="L-724"><a href="#L-724"><span class="linenos"> 724</span></a>
</span><span id="L-725"><a href="#L-725"><span class="linenos"> 725</span></a><span class="sd">        continuityOrder : `int`</span>
</span><span id="L-726"><a href="#L-726"><span class="linenos"> 726</span></a><span class="sd">            The order of continuity of the extrapolation (the number of derivatives that match at the endpoints). </span>
</span><span id="L-727"><a href="#L-727"><span class="linenos"> 727</span></a><span class="sd">            A continuity order of zero means the extrapolation just matches the spline value at the endpoints. </span>
</span><span id="L-728"><a href="#L-728"><span class="linenos"> 728</span></a><span class="sd">            The continuity order is automatically limited to one less than the degree of the spline.</span>
</span><span id="L-729"><a href="#L-729"><span class="linenos"> 729</span></a>
</span><span id="L-730"><a href="#L-730"><span class="linenos"> 730</span></a><span class="sd">        Returns</span>
</span><span id="L-731"><a href="#L-731"><span class="linenos"> 731</span></a><span class="sd">        -------</span>
</span><span id="L-732"><a href="#L-732"><span class="linenos"> 732</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-733"><a href="#L-733"><span class="linenos"> 733</span></a><span class="sd">            Extrapolated spline. If all the knots are unchanged, the original spline is returned.</span>
</span><span id="L-734"><a href="#L-734"><span class="linenos"> 734</span></a>
</span><span id="L-735"><a href="#L-735"><span class="linenos"> 735</span></a><span class="sd">        See Also</span>
</span><span id="L-736"><a href="#L-736"><span class="linenos"> 736</span></a><span class="sd">        --------</span>
</span><span id="L-737"><a href="#L-737"><span class="linenos"> 737</span></a><span class="sd">        `domain` : Return the domain of a spline.</span>
</span><span id="L-738"><a href="#L-738"><span class="linenos"> 738</span></a><span class="sd">        `trim` : Trim the domain of a spline.</span>
</span><span id="L-739"><a href="#L-739"><span class="linenos"> 739</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-740"><a href="#L-740"><span class="linenos"> 740</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">extrapolate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newDomain</span><span class="p">,</span> <span class="n">continuityOrder</span><span class="p">)</span>
</span><span id="L-741"><a href="#L-741"><span class="linenos"> 741</span></a>
</span><span id="L-742"><a href="#L-742"><span class="linenos"> 742</span></a>    <span class="k">def</span> <span class="nf">fold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">foldedInd</span><span class="p">):</span>
</span><span id="L-743"><a href="#L-743"><span class="linenos"> 743</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-744"><a href="#L-744"><span class="linenos"> 744</span></a><span class="sd">        Fold the coefficients of a spline&#39;s indicated independent variables into the coefficients of the remaining independent variables, retaining the </span>
</span><span id="L-745"><a href="#L-745"><span class="linenos"> 745</span></a><span class="sd">        indicated independent variables&#39; knots and orders in a second spline with no coefficients.</span>
</span><span id="L-746"><a href="#L-746"><span class="linenos"> 746</span></a>
</span><span id="L-747"><a href="#L-747"><span class="linenos"> 747</span></a><span class="sd">        Parameters</span>
</span><span id="L-748"><a href="#L-748"><span class="linenos"> 748</span></a><span class="sd">        ----------</span>
</span><span id="L-749"><a href="#L-749"><span class="linenos"> 749</span></a><span class="sd">        foldedInd : `iterable`</span>
</span><span id="L-750"><a href="#L-750"><span class="linenos"> 750</span></a><span class="sd">            An iterable that specifies the independent variables whose coefficients should be folded.</span>
</span><span id="L-751"><a href="#L-751"><span class="linenos"> 751</span></a>
</span><span id="L-752"><a href="#L-752"><span class="linenos"> 752</span></a><span class="sd">        Returns</span>
</span><span id="L-753"><a href="#L-753"><span class="linenos"> 753</span></a><span class="sd">        -------</span>
</span><span id="L-754"><a href="#L-754"><span class="linenos"> 754</span></a><span class="sd">        foldedSpline, coefficientlessSpline : `Spline`, `Spline`</span>
</span><span id="L-755"><a href="#L-755"><span class="linenos"> 755</span></a><span class="sd">            The folded spline and the coefficientless spline that retains the indicated independent variables&#39; knots and orders.</span>
</span><span id="L-756"><a href="#L-756"><span class="linenos"> 756</span></a>
</span><span id="L-757"><a href="#L-757"><span class="linenos"> 757</span></a><span class="sd">        See Also</span>
</span><span id="L-758"><a href="#L-758"><span class="linenos"> 758</span></a><span class="sd">        --------</span>
</span><span id="L-759"><a href="#L-759"><span class="linenos"> 759</span></a><span class="sd">        `unfold` : Unfold the coefficients of an original spline&#39;s indicated independent variables back into the spline.</span>
</span><span id="L-760"><a href="#L-760"><span class="linenos"> 760</span></a>
</span><span id="L-761"><a href="#L-761"><span class="linenos"> 761</span></a><span class="sd">        Notes</span>
</span><span id="L-762"><a href="#L-762"><span class="linenos"> 762</span></a><span class="sd">        -----</span>
</span><span id="L-763"><a href="#L-763"><span class="linenos"> 763</span></a><span class="sd">        Given a spline whose coefficients are an nDep x n0 x ... x nk array and a list of (ordered) indices which form a proper subset of {n0, ... , nk}, it should return 2 splines.</span>
</span><span id="L-764"><a href="#L-764"><span class="linenos"> 764</span></a><span class="sd">        The first one is a spline with k + 1 - length(index subset) independent variables where the knot sets of all the dimensions which have been removed have been removed.  However, </span>
</span><span id="L-765"><a href="#L-765"><span class="linenos"> 765</span></a><span class="sd">        all of the coefficient data is still intact, so that the resulting coefficient array has shape (nDep nj0 nj1 ... njj) x nk0 x ... x nkk.  The second spline should be a spline </span>
</span><span id="L-766"><a href="#L-766"><span class="linenos"> 766</span></a><span class="sd">        with 0 dependent variables which contains all the knot sequences that were removed from the spline.  The unfold method takes the two splines as input and reverses the process, </span>
</span><span id="L-767"><a href="#L-767"><span class="linenos"> 767</span></a><span class="sd">        returning the original spline.</span>
</span><span id="L-768"><a href="#L-768"><span class="linenos"> 768</span></a>
</span><span id="L-769"><a href="#L-769"><span class="linenos"> 769</span></a><span class="sd">        Here&#39;s an example. Suppose spl is a spline with 3 independent variables and 3 dependent variables which has nCoef = [4, 5, 6] and knots = [knots0, knots1, knots2]. </span>
</span><span id="L-770"><a href="#L-770"><span class="linenos"> 770</span></a><span class="sd">        Then spl.fold([0, 2]) should return a spline with 1 independent variable and 72 dependent variables.  It should have nCoef = [5], knots = [knots1], and its coefs array should have </span>
</span><span id="L-771"><a href="#L-771"><span class="linenos"> 771</span></a><span class="sd">        shape (72, 5).  The other spline should have 0 dependent variables, 2 independent variables, and knots = [knots0, knots2].  How things get ordered in coefs probably doesn&#39;t matter </span>
</span><span id="L-772"><a href="#L-772"><span class="linenos"> 772</span></a><span class="sd">        so long as unfold unscrambles things in the corresponding way.  The second spline is needed to hold the basis information that was dropped so that it can be undone.</span>
</span><span id="L-773"><a href="#L-773"><span class="linenos"> 773</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-774"><a href="#L-774"><span class="linenos"> 774</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">fold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">foldedInd</span><span class="p">)</span>
</span><span id="L-775"><a href="#L-775"><span class="linenos"> 775</span></a>    
</span><span id="L-776"><a href="#L-776"><span class="linenos"> 776</span></a>    <span class="k">def</span> <span class="nf">insert_knots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newKnots</span><span class="p">):</span>
</span><span id="L-777"><a href="#L-777"><span class="linenos"> 777</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-778"><a href="#L-778"><span class="linenos"> 778</span></a><span class="sd">        Insert new knots into a spline.</span>
</span><span id="L-779"><a href="#L-779"><span class="linenos"> 779</span></a>
</span><span id="L-780"><a href="#L-780"><span class="linenos"> 780</span></a><span class="sd">        Parameters</span>
</span><span id="L-781"><a href="#L-781"><span class="linenos"> 781</span></a><span class="sd">        ----------</span>
</span><span id="L-782"><a href="#L-782"><span class="linenos"> 782</span></a><span class="sd">        newKnots : `iterable` of length `nInd`</span>
</span><span id="L-783"><a href="#L-783"><span class="linenos"> 783</span></a><span class="sd">            An iterable that specifies the knots to be added to each independent variable&#39;s knots. </span>
</span><span id="L-784"><a href="#L-784"><span class="linenos"> 784</span></a><span class="sd">            len(newKnots[ind]) == 0 if no knots are to be added for the `ind` independent variable.</span>
</span><span id="L-785"><a href="#L-785"><span class="linenos"> 785</span></a>
</span><span id="L-786"><a href="#L-786"><span class="linenos"> 786</span></a><span class="sd">        Returns</span>
</span><span id="L-787"><a href="#L-787"><span class="linenos"> 787</span></a><span class="sd">        -------</span>
</span><span id="L-788"><a href="#L-788"><span class="linenos"> 788</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-789"><a href="#L-789"><span class="linenos"> 789</span></a><span class="sd">            A spline with the new knots inserted. If no knots were inserted, the original spline is returned.</span>
</span><span id="L-790"><a href="#L-790"><span class="linenos"> 790</span></a>
</span><span id="L-791"><a href="#L-791"><span class="linenos"> 791</span></a><span class="sd">        See Also</span>
</span><span id="L-792"><a href="#L-792"><span class="linenos"> 792</span></a><span class="sd">        --------</span>
</span><span id="L-793"><a href="#L-793"><span class="linenos"> 793</span></a><span class="sd">        `clamp` : Clamp the left and/or right side of a spline.</span>
</span><span id="L-794"><a href="#L-794"><span class="linenos"> 794</span></a>
</span><span id="L-795"><a href="#L-795"><span class="linenos"> 795</span></a><span class="sd">        Notes</span>
</span><span id="L-796"><a href="#L-796"><span class="linenos"> 796</span></a><span class="sd">        -----</span>
</span><span id="L-797"><a href="#L-797"><span class="linenos"> 797</span></a><span class="sd">        Implements Boehm&#39;s standard knot insertion algorithm.</span>
</span><span id="L-798"><a href="#L-798"><span class="linenos"> 798</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-799"><a href="#L-799"><span class="linenos"> 799</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">insert_knots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newKnots</span><span class="p">)</span>
</span><span id="L-800"><a href="#L-800"><span class="linenos"> 800</span></a>
</span><span id="L-801"><a href="#L-801"><span class="linenos"> 801</span></a>    <span class="k">def</span> <span class="nf">integral</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span><span class="p">,</span> <span class="n">uvw1</span><span class="p">,</span> <span class="n">uvw2</span><span class="p">,</span> <span class="n">returnSpline</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="L-802"><a href="#L-802"><span class="linenos"> 802</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-803"><a href="#L-803"><span class="linenos"> 803</span></a><span class="sd">        Compute the derivative of the spline at given parameter values.</span>
</span><span id="L-804"><a href="#L-804"><span class="linenos"> 804</span></a>
</span><span id="L-805"><a href="#L-805"><span class="linenos"> 805</span></a><span class="sd">        Parameters</span>
</span><span id="L-806"><a href="#L-806"><span class="linenos"> 806</span></a><span class="sd">        ----------</span>
</span><span id="L-807"><a href="#L-807"><span class="linenos"> 807</span></a><span class="sd">        with_respect_to : `iterable`</span>
</span><span id="L-808"><a href="#L-808"><span class="linenos"> 808</span></a><span class="sd">            An iterable of length `nInd` that specifies the integer order of integral for each independent variable.</span>
</span><span id="L-809"><a href="#L-809"><span class="linenos"> 809</span></a><span class="sd">            A zero-order integral just evaluates the spline normally.</span>
</span><span id="L-810"><a href="#L-810"><span class="linenos"> 810</span></a><span class="sd">        </span>
</span><span id="L-811"><a href="#L-811"><span class="linenos"> 811</span></a><span class="sd">        uvw1 : `iterable`</span>
</span><span id="L-812"><a href="#L-812"><span class="linenos"> 812</span></a><span class="sd">            An iterable of length `nInd` that specifies the lower limit of each independent variable (the parameter values).</span>
</span><span id="L-813"><a href="#L-813"><span class="linenos"> 813</span></a><span class="sd">        </span>
</span><span id="L-814"><a href="#L-814"><span class="linenos"> 814</span></a><span class="sd">        uvw2 : `iterable`</span>
</span><span id="L-815"><a href="#L-815"><span class="linenos"> 815</span></a><span class="sd">            An iterable of length `nInd` that specifies the upper limit of each independent variable (the parameter values).</span>
</span><span id="L-816"><a href="#L-816"><span class="linenos"> 816</span></a>
</span><span id="L-817"><a href="#L-817"><span class="linenos"> 817</span></a><span class="sd">        returnSpline : `boolean`, optional</span>
</span><span id="L-818"><a href="#L-818"><span class="linenos"> 818</span></a><span class="sd">            A boolean flag that if true returns the integrated spline along with the value of its integral. Default is false.</span>
</span><span id="L-819"><a href="#L-819"><span class="linenos"> 819</span></a><span class="sd"> </span>
</span><span id="L-820"><a href="#L-820"><span class="linenos"> 820</span></a><span class="sd">        Returns</span>
</span><span id="L-821"><a href="#L-821"><span class="linenos"> 821</span></a><span class="sd">        -------</span>
</span><span id="L-822"><a href="#L-822"><span class="linenos"> 822</span></a><span class="sd">        value : `numpy.array`</span>
</span><span id="L-823"><a href="#L-823"><span class="linenos"> 823</span></a><span class="sd">            The value of the integral of the spline at the given parameter limits.</span>
</span><span id="L-824"><a href="#L-824"><span class="linenos"> 824</span></a>
</span><span id="L-825"><a href="#L-825"><span class="linenos"> 825</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-826"><a href="#L-826"><span class="linenos"> 826</span></a><span class="sd">            The integrated spline, which is only returned if `returnSpline` is `True`.</span>
</span><span id="L-827"><a href="#L-827"><span class="linenos"> 827</span></a>
</span><span id="L-828"><a href="#L-828"><span class="linenos"> 828</span></a><span class="sd">        See Also</span>
</span><span id="L-829"><a href="#L-829"><span class="linenos"> 829</span></a><span class="sd">        --------</span>
</span><span id="L-830"><a href="#L-830"><span class="linenos"> 830</span></a><span class="sd">        `integrate` : Integrate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="L-831"><a href="#L-831"><span class="linenos"> 831</span></a><span class="sd">        `evaluate` : Compute the value of the spline at a given parameter value.</span>
</span><span id="L-832"><a href="#L-832"><span class="linenos"> 832</span></a><span class="sd">        `differentiate` : Differentiate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="L-833"><a href="#L-833"><span class="linenos"> 833</span></a><span class="sd">        `derivative` : Compute the derivative of the spline at a given parameter value.</span>
</span><span id="L-834"><a href="#L-834"><span class="linenos"> 834</span></a>
</span><span id="L-835"><a href="#L-835"><span class="linenos"> 835</span></a><span class="sd">        Notes</span>
</span><span id="L-836"><a href="#L-836"><span class="linenos"> 836</span></a><span class="sd">        -----</span>
</span><span id="L-837"><a href="#L-837"><span class="linenos"> 837</span></a><span class="sd">        The integral method uses the integrate method to integrate the spline `with_respect_to` times for each independent variable.</span>
</span><span id="L-838"><a href="#L-838"><span class="linenos"> 838</span></a><span class="sd">        Then the method returns that integrated spline&#39;s value at `uw2` minus its value at `uw1` (optionally along with the spline).</span>
</span><span id="L-839"><a href="#L-839"><span class="linenos"> 839</span></a><span class="sd">        The method doesn&#39;t calculate the integral directly because the number of operations required is nearly the same as constructing</span>
</span><span id="L-840"><a href="#L-840"><span class="linenos"> 840</span></a><span class="sd">        the integrated spline.</span>
</span><span id="L-841"><a href="#L-841"><span class="linenos"> 841</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-842"><a href="#L-842"><span class="linenos"> 842</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span><span class="p">,</span> <span class="n">uvw1</span><span class="p">,</span> <span class="n">uvw2</span><span class="p">,</span> <span class="n">returnSpline</span><span class="p">)</span>
</span><span id="L-843"><a href="#L-843"><span class="linenos"> 843</span></a>
</span><span id="L-844"><a href="#L-844"><span class="linenos"> 844</span></a>    <span class="k">def</span> <span class="nf">integrate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="L-845"><a href="#L-845"><span class="linenos"> 845</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-846"><a href="#L-846"><span class="linenos"> 846</span></a><span class="sd">        Integrate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="L-847"><a href="#L-847"><span class="linenos"> 847</span></a>
</span><span id="L-848"><a href="#L-848"><span class="linenos"> 848</span></a><span class="sd">        Parameters</span>
</span><span id="L-849"><a href="#L-849"><span class="linenos"> 849</span></a><span class="sd">        ----------</span>
</span><span id="L-850"><a href="#L-850"><span class="linenos"> 850</span></a><span class="sd">        with_respect_to : integer, optional</span>
</span><span id="L-851"><a href="#L-851"><span class="linenos"> 851</span></a><span class="sd">            The number of the independent variable to integrate. Default is zero.</span>
</span><span id="L-852"><a href="#L-852"><span class="linenos"> 852</span></a>
</span><span id="L-853"><a href="#L-853"><span class="linenos"> 853</span></a><span class="sd">        Returns</span>
</span><span id="L-854"><a href="#L-854"><span class="linenos"> 854</span></a><span class="sd">        -------</span>
</span><span id="L-855"><a href="#L-855"><span class="linenos"> 855</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-856"><a href="#L-856"><span class="linenos"> 856</span></a><span class="sd">            The spline that results from integrating the original spline with respect to the given independent variable.</span>
</span><span id="L-857"><a href="#L-857"><span class="linenos"> 857</span></a>
</span><span id="L-858"><a href="#L-858"><span class="linenos"> 858</span></a><span class="sd">        See Also</span>
</span><span id="L-859"><a href="#L-859"><span class="linenos"> 859</span></a><span class="sd">        --------</span>
</span><span id="L-860"><a href="#L-860"><span class="linenos"> 860</span></a><span class="sd">        `differentiate` : Differentiate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="L-861"><a href="#L-861"><span class="linenos"> 861</span></a><span class="sd">        `derivative` : Compute the derivative of the spline at a given parameter value.</span>
</span><span id="L-862"><a href="#L-862"><span class="linenos"> 862</span></a><span class="sd">        `integral` : Compute the integral of the spline at a given parameter value.</span>
</span><span id="L-863"><a href="#L-863"><span class="linenos"> 863</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-864"><a href="#L-864"><span class="linenos"> 864</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span><span class="p">)</span>
</span><span id="L-865"><a href="#L-865"><span class="linenos"> 865</span></a>
</span><span id="L-866"><a href="#L-866"><span class="linenos"> 866</span></a>    <span class="k">def</span> <span class="nf">intersect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-867"><a href="#L-867"><span class="linenos"> 867</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-868"><a href="#L-868"><span class="linenos"> 868</span></a><span class="sd">        Intersect two splines.</span>
</span><span id="L-869"><a href="#L-869"><span class="linenos"> 869</span></a>
</span><span id="L-870"><a href="#L-870"><span class="linenos"> 870</span></a><span class="sd">        Parameters</span>
</span><span id="L-871"><a href="#L-871"><span class="linenos"> 871</span></a><span class="sd">        ----------</span>
</span><span id="L-872"><a href="#L-872"><span class="linenos"> 872</span></a><span class="sd">        other : `Spline`</span>
</span><span id="L-873"><a href="#L-873"><span class="linenos"> 873</span></a><span class="sd">            The spline to intersect with self (`other.nDep` match match `self.nDep`).</span>
</span><span id="L-874"><a href="#L-874"><span class="linenos"> 874</span></a>
</span><span id="L-875"><a href="#L-875"><span class="linenos"> 875</span></a><span class="sd">        Returns</span>
</span><span id="L-876"><a href="#L-876"><span class="linenos"> 876</span></a><span class="sd">        -------</span>
</span><span id="L-877"><a href="#L-877"><span class="linenos"> 877</span></a><span class="sd">        intersection : `iterable` or `NotImplemented`</span>
</span><span id="L-878"><a href="#L-878"><span class="linenos"> 878</span></a><span class="sd">            If `self.nInd + other.nInd - self.nDep` is 0, returns an iterable of intersection points in the </span>
</span><span id="L-879"><a href="#L-879"><span class="linenos"> 879</span></a><span class="sd">            parameter space of the two splines (a vector of size `self.nInd + other.nInd`).</span>
</span><span id="L-880"><a href="#L-880"><span class="linenos"> 880</span></a><span class="sd">            If `self.nInd + other.nInd - self.nDep` is 1, returns an iterable of `Spline` curves, each of whose domain is [0, 1] </span>
</span><span id="L-881"><a href="#L-881"><span class="linenos"> 881</span></a><span class="sd">            and each of whose range is in the parameter space of the two splines (a vector of size `self.nInd + other.nInd`).</span>
</span><span id="L-882"><a href="#L-882"><span class="linenos"> 882</span></a><span class="sd">            If `self.nInd + other.nInd - self.nDep` is &lt; 0 or &gt; 1, `NotImplemented` is returned.</span>
</span><span id="L-883"><a href="#L-883"><span class="linenos"> 883</span></a><span class="sd">        </span>
</span><span id="L-884"><a href="#L-884"><span class="linenos"> 884</span></a><span class="sd">        See Also</span>
</span><span id="L-885"><a href="#L-885"><span class="linenos"> 885</span></a><span class="sd">        --------</span>
</span><span id="L-886"><a href="#L-886"><span class="linenos"> 886</span></a><span class="sd">        `zeros` : Find the roots of a spline (nInd must match nDep).</span>
</span><span id="L-887"><a href="#L-887"><span class="linenos"> 887</span></a><span class="sd">        `contours` : Find all the contour curves of a spline.</span>
</span><span id="L-888"><a href="#L-888"><span class="linenos"> 888</span></a>
</span><span id="L-889"><a href="#L-889"><span class="linenos"> 889</span></a><span class="sd">        Notes</span>
</span><span id="L-890"><a href="#L-890"><span class="linenos"> 890</span></a><span class="sd">        -----</span>
</span><span id="L-891"><a href="#L-891"><span class="linenos"> 891</span></a><span class="sd">        Uses `zeros` to find all intersection points and `contours` to find all the intersection curves.</span>
</span><span id="L-892"><a href="#L-892"><span class="linenos"> 892</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-893"><a href="#L-893"><span class="linenos"> 893</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nDep</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">nDep</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The number of dependent variables for both splines much match.&quot;</span><span class="p">)</span>
</span><span id="L-894"><a href="#L-894"><span class="linenos"> 894</span></a>        <span class="n">freeParameters</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nInd</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">nInd</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span>
</span><span id="L-895"><a href="#L-895"><span class="linenos"> 895</span></a>        <span class="k">if</span> <span class="n">freeParameters</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-896"><a href="#L-896"><span class="linenos"> 896</span></a>            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span> <span class="o">-</span> <span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">zeros</span><span class="p">()</span>
</span><span id="L-897"><a href="#L-897"><span class="linenos"> 897</span></a>        <span class="k">elif</span> <span class="n">freeParameters</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-898"><a href="#L-898"><span class="linenos"> 898</span></a>            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span> <span class="o">-</span> <span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">contours</span><span class="p">()</span>
</span><span id="L-899"><a href="#L-899"><span class="linenos"> 899</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-900"><a href="#L-900"><span class="linenos"> 900</span></a>            <span class="k">return</span> <span class="bp">NotImplemented</span>
</span><span id="L-901"><a href="#L-901"><span class="linenos"> 901</span></a>
</span><span id="L-902"><a href="#L-902"><span class="linenos"> 902</span></a>    <span class="nd">@staticmethod</span>
</span><span id="L-903"><a href="#L-903"><span class="linenos"> 903</span></a>    <span class="k">def</span> <span class="nf">join</span><span class="p">(</span><span class="n">splineList</span><span class="p">):</span>
</span><span id="L-904"><a href="#L-904"><span class="linenos"> 904</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-905"><a href="#L-905"><span class="linenos"> 905</span></a><span class="sd">        Join a list of splines together into a single spline.</span>
</span><span id="L-906"><a href="#L-906"><span class="linenos"> 906</span></a>
</span><span id="L-907"><a href="#L-907"><span class="linenos"> 907</span></a><span class="sd">        Parameters</span>
</span><span id="L-908"><a href="#L-908"><span class="linenos"> 908</span></a><span class="sd">        ----------</span>
</span><span id="L-909"><a href="#L-909"><span class="linenos"> 909</span></a><span class="sd">        splineList : `iterable`</span>
</span><span id="L-910"><a href="#L-910"><span class="linenos"> 910</span></a><span class="sd">            The list of splines to join together.  All must have the same number of dependent variables.</span>
</span><span id="L-911"><a href="#L-911"><span class="linenos"> 911</span></a>
</span><span id="L-912"><a href="#L-912"><span class="linenos"> 912</span></a><span class="sd">        Returns</span>
</span><span id="L-913"><a href="#L-913"><span class="linenos"> 913</span></a><span class="sd">        -------</span>
</span><span id="L-914"><a href="#L-914"><span class="linenos"> 914</span></a><span class="sd">        joinedSpline : `Spline`</span>
</span><span id="L-915"><a href="#L-915"><span class="linenos"> 915</span></a><span class="sd">            A single spline whose image is the union of all the images of the input splines.  The resulting spline</span>
</span><span id="L-916"><a href="#L-916"><span class="linenos"> 916</span></a><span class="sd">            is parametrized over the unit cube.</span>
</span><span id="L-917"><a href="#L-917"><span class="linenos"> 917</span></a><span class="sd">                </span>
</span><span id="L-918"><a href="#L-918"><span class="linenos"> 918</span></a><span class="sd">        Notes</span>
</span><span id="L-919"><a href="#L-919"><span class="linenos"> 919</span></a><span class="sd">        -----</span>
</span><span id="L-920"><a href="#L-920"><span class="linenos"> 920</span></a><span class="sd">        Currently only works for univariate splines.</span>
</span><span id="L-921"><a href="#L-921"><span class="linenos"> 921</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-922"><a href="#L-922"><span class="linenos"> 922</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">splineList</span><span class="p">)</span>
</span><span id="L-923"><a href="#L-923"><span class="linenos"> 923</span></a>       
</span><span id="L-924"><a href="#L-924"><span class="linenos"> 924</span></a>    <span class="nd">@staticmethod</span>
</span><span id="L-925"><a href="#L-925"><span class="linenos"> 925</span></a>    <span class="k">def</span> <span class="nf">least_squares</span><span class="p">(</span><span class="n">nInd</span><span class="p">,</span> <span class="n">nDep</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">dataPoints</span><span class="p">,</span> <span class="n">knots</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">compression</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="p">{}):</span>
</span><span id="L-926"><a href="#L-926"><span class="linenos"> 926</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-927"><a href="#L-927"><span class="linenos"> 927</span></a><span class="sd">        Fit a spline to an array of data points using the method of least squares.</span>
</span><span id="L-928"><a href="#L-928"><span class="linenos"> 928</span></a>
</span><span id="L-929"><a href="#L-929"><span class="linenos"> 929</span></a><span class="sd">        Parameters</span>
</span><span id="L-930"><a href="#L-930"><span class="linenos"> 930</span></a><span class="sd">        ----------</span>
</span><span id="L-931"><a href="#L-931"><span class="linenos"> 931</span></a><span class="sd">        nInd : `int`</span>
</span><span id="L-932"><a href="#L-932"><span class="linenos"> 932</span></a><span class="sd">            The number of independent variables of the spline.</span>
</span><span id="L-933"><a href="#L-933"><span class="linenos"> 933</span></a>
</span><span id="L-934"><a href="#L-934"><span class="linenos"> 934</span></a><span class="sd">        nDep : `int`</span>
</span><span id="L-935"><a href="#L-935"><span class="linenos"> 935</span></a><span class="sd">            The number of dependent variables of the spline.</span>
</span><span id="L-936"><a href="#L-936"><span class="linenos"> 936</span></a><span class="sd">        </span>
</span><span id="L-937"><a href="#L-937"><span class="linenos"> 937</span></a><span class="sd">        order : `tuple`</span>
</span><span id="L-938"><a href="#L-938"><span class="linenos"> 938</span></a><span class="sd">            A tuple of length nInd where each integer entry represents the</span>
</span><span id="L-939"><a href="#L-939"><span class="linenos"> 939</span></a><span class="sd">            polynomial order of the spline in that variable. When in doubt,</span>
</span><span id="L-940"><a href="#L-940"><span class="linenos"> 940</span></a><span class="sd">            use `[4] * nInd` (a cubic spline).</span>
</span><span id="L-941"><a href="#L-941"><span class="linenos"> 941</span></a>
</span><span id="L-942"><a href="#L-942"><span class="linenos"> 942</span></a><span class="sd">        dataPoints : `iterable` of array-like values</span>
</span><span id="L-943"><a href="#L-943"><span class="linenos"> 943</span></a><span class="sd">            A collection of data points. Each data point is an array of length `nInd + nDep`. </span>
</span><span id="L-944"><a href="#L-944"><span class="linenos"> 944</span></a><span class="sd">            The first `nInd` values designate the independent values for the point.</span>
</span><span id="L-945"><a href="#L-945"><span class="linenos"> 945</span></a><span class="sd">            The next `nDep` values designate the dependent values for the point. </span>
</span><span id="L-946"><a href="#L-946"><span class="linenos"> 946</span></a><span class="sd">            The data points need not form a regular mesh nor be in any particular order.</span>
</span><span id="L-947"><a href="#L-947"><span class="linenos"> 947</span></a><span class="sd">            In addition, each data point may instead have `nInd + nDep * (nInd + 1)` values, </span>
</span><span id="L-948"><a href="#L-948"><span class="linenos"> 948</span></a><span class="sd">            the first `nInd` being independent and the next `nInd + 1` sets of `nDep` values designating </span>
</span><span id="L-949"><a href="#L-949"><span class="linenos"> 949</span></a><span class="sd">            the dependent point and its first derivatives with respect to each independent variable.</span>
</span><span id="L-950"><a href="#L-950"><span class="linenos"> 950</span></a>
</span><span id="L-951"><a href="#L-951"><span class="linenos"> 951</span></a><span class="sd">        knots : `list`, optional</span>
</span><span id="L-952"><a href="#L-952"><span class="linenos"> 952</span></a><span class="sd">            A list of the lists of the knots of the spline in each independent variable.</span>
</span><span id="L-953"><a href="#L-953"><span class="linenos"> 953</span></a><span class="sd">            Default is `None`, in which case knots are chosen automatically.</span>
</span><span id="L-954"><a href="#L-954"><span class="linenos"> 954</span></a><span class="sd">        </span>
</span><span id="L-955"><a href="#L-955"><span class="linenos"> 955</span></a><span class="sd">        compression : `int`, optional</span>
</span><span id="L-956"><a href="#L-956"><span class="linenos"> 956</span></a><span class="sd">            The desired compression of data used as a percentage of the number of data points (0 - 99). </span>
</span><span id="L-957"><a href="#L-957"><span class="linenos"> 957</span></a><span class="sd">            This percentage is used to determine the total number of spline coefficients when </span>
</span><span id="L-958"><a href="#L-958"><span class="linenos"> 958</span></a><span class="sd">            knots are chosen automatically (it&#39;s ignored otherwise). The actual compression will be slightly less </span>
</span><span id="L-959"><a href="#L-959"><span class="linenos"> 959</span></a><span class="sd">            because the number of coefficients is rounded up. The default value is zero (interpolation, no compression).</span>
</span><span id="L-960"><a href="#L-960"><span class="linenos"> 960</span></a>
</span><span id="L-961"><a href="#L-961"><span class="linenos"> 961</span></a><span class="sd">        metadata : `dict`, optional</span>
</span><span id="L-962"><a href="#L-962"><span class="linenos"> 962</span></a><span class="sd">            A dictionary of ancillary data to store with the spline. Default is {}.</span>
</span><span id="L-963"><a href="#L-963"><span class="linenos"> 963</span></a>
</span><span id="L-964"><a href="#L-964"><span class="linenos"> 964</span></a><span class="sd">        Returns</span>
</span><span id="L-965"><a href="#L-965"><span class="linenos"> 965</span></a><span class="sd">        -------</span>
</span><span id="L-966"><a href="#L-966"><span class="linenos"> 966</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-967"><a href="#L-967"><span class="linenos"> 967</span></a><span class="sd">            A spline curve which approximates the data points.</span>
</span><span id="L-968"><a href="#L-968"><span class="linenos"> 968</span></a>
</span><span id="L-969"><a href="#L-969"><span class="linenos"> 969</span></a><span class="sd">        Notes</span>
</span><span id="L-970"><a href="#L-970"><span class="linenos"> 970</span></a><span class="sd">        -----</span>
</span><span id="L-971"><a href="#L-971"><span class="linenos"> 971</span></a><span class="sd">        Uses `numpy.linalg.lstsq` to compute the least squares solution. The returned spline.accuracy is computed </span>
</span><span id="L-972"><a href="#L-972"><span class="linenos"> 972</span></a><span class="sd">        from the sum of the residual across dependent variables and the system epsilon. </span>
</span><span id="L-973"><a href="#L-973"><span class="linenos"> 973</span></a><span class="sd">        The algorithm to choose knots automatically is from Piegl, Les A., and Wayne Tiller. </span>
</span><span id="L-974"><a href="#L-974"><span class="linenos"> 974</span></a><span class="sd">        &quot;Surface approximation to scanned data.&quot; The visual computer 16 (2000): 386-395.</span>
</span><span id="L-975"><a href="#L-975"><span class="linenos"> 975</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-976"><a href="#L-976"><span class="linenos"> 976</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_fitting</span><span class="o">.</span><span class="n">least_squares</span><span class="p">(</span><span class="n">nInd</span><span class="p">,</span> <span class="n">nDep</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">dataPoints</span><span class="p">,</span> <span class="n">knots</span><span class="p">,</span> <span class="n">compression</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
</span><span id="L-977"><a href="#L-977"><span class="linenos"> 977</span></a>
</span><span id="L-978"><a href="#L-978"><span class="linenos"> 978</span></a>    <span class="nd">@staticmethod</span>
</span><span id="L-979"><a href="#L-979"><span class="linenos"> 979</span></a>    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="n">fileName</span><span class="p">,</span> <span class="n">splineType</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-980"><a href="#L-980"><span class="linenos"> 980</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-981"><a href="#L-981"><span class="linenos"> 981</span></a><span class="sd">        Load a spline from the specified filename (full path).</span>
</span><span id="L-982"><a href="#L-982"><span class="linenos"> 982</span></a>
</span><span id="L-983"><a href="#L-983"><span class="linenos"> 983</span></a><span class="sd">        Parameters</span>
</span><span id="L-984"><a href="#L-984"><span class="linenos"> 984</span></a><span class="sd">        ----------</span>
</span><span id="L-985"><a href="#L-985"><span class="linenos"> 985</span></a><span class="sd">        fileName : `string`</span>
</span><span id="L-986"><a href="#L-986"><span class="linenos"> 986</span></a><span class="sd">            The full path to the file containing the spline. Can be a relative path.</span>
</span><span id="L-987"><a href="#L-987"><span class="linenos"> 987</span></a><span class="sd">        </span>
</span><span id="L-988"><a href="#L-988"><span class="linenos"> 988</span></a><span class="sd">        splineType : `type`, optional</span>
</span><span id="L-989"><a href="#L-989"><span class="linenos"> 989</span></a><span class="sd">            The class type that should be created. It must be an instance of Spline (the default).</span>
</span><span id="L-990"><a href="#L-990"><span class="linenos"> 990</span></a><span class="sd">        </span>
</span><span id="L-991"><a href="#L-991"><span class="linenos"> 991</span></a><span class="sd">        Returns</span>
</span><span id="L-992"><a href="#L-992"><span class="linenos"> 992</span></a><span class="sd">        -------</span>
</span><span id="L-993"><a href="#L-993"><span class="linenos"> 993</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-994"><a href="#L-994"><span class="linenos"> 994</span></a><span class="sd">            The loaded spline.</span>
</span><span id="L-995"><a href="#L-995"><span class="linenos"> 995</span></a>
</span><span id="L-996"><a href="#L-996"><span class="linenos"> 996</span></a><span class="sd">        See Also</span>
</span><span id="L-997"><a href="#L-997"><span class="linenos"> 997</span></a><span class="sd">        --------</span>
</span><span id="L-998"><a href="#L-998"><span class="linenos"> 998</span></a><span class="sd">        `save` : Save a spline to the specified filename (full path).</span>
</span><span id="L-999"><a href="#L-999"><span class="linenos"> 999</span></a>
</span><span id="L-1000"><a href="#L-1000"><span class="linenos">1000</span></a><span class="sd">        Notes</span>
</span><span id="L-1001"><a href="#L-1001"><span class="linenos">1001</span></a><span class="sd">        -----</span>
</span><span id="L-1002"><a href="#L-1002"><span class="linenos">1002</span></a><span class="sd">        Uses numpy&#39;s load function.</span>
</span><span id="L-1003"><a href="#L-1003"><span class="linenos">1003</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1004"><a href="#L-1004"><span class="linenos">1004</span></a>        <span class="n">kw</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>
</span><span id="L-1005"><a href="#L-1005"><span class="linenos">1005</span></a>        <span class="n">order</span> <span class="o">=</span> <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;order&quot;</span><span class="p">]</span>
</span><span id="L-1006"><a href="#L-1006"><span class="linenos">1006</span></a>        <span class="n">nInd</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
</span><span id="L-1007"><a href="#L-1007"><span class="linenos">1007</span></a>        <span class="n">knots</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1008"><a href="#L-1008"><span class="linenos">1008</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nInd</span><span class="p">):</span>
</span><span id="L-1009"><a href="#L-1009"><span class="linenos">1009</span></a>            <span class="n">knots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">kw</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;knots</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">])</span>
</span><span id="L-1010"><a href="#L-1010"><span class="linenos">1010</span></a>        <span class="n">coefficients</span> <span class="o">=</span> <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;coefficients&quot;</span><span class="p">]</span>
</span><span id="L-1011"><a href="#L-1011"><span class="linenos">1011</span></a>
</span><span id="L-1012"><a href="#L-1012"><span class="linenos">1012</span></a>        <span class="k">if</span> <span class="n">splineType</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1013"><a href="#L-1013"><span class="linenos">1013</span></a>            <span class="n">splineType</span> <span class="o">=</span> <span class="n">Spline</span>
</span><span id="L-1014"><a href="#L-1014"><span class="linenos">1014</span></a>        <span class="n">spline</span> <span class="o">=</span> <span class="n">splineType</span><span class="p">(</span><span class="n">nInd</span><span class="p">,</span> <span class="n">coefficients</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">order</span><span class="p">,</span> <span class="n">coefficients</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">knots</span><span class="p">,</span> <span class="n">coefficients</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">Path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">Name</span><span class="o">=</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">fileName</span><span class="p">)[</span><span class="mi">1</span><span class="p">])[</span><span class="mi">0</span><span class="p">]))</span>
</span><span id="L-1015"><a href="#L-1015"><span class="linenos">1015</span></a>        <span class="k">return</span> <span class="n">spline</span>
</span><span id="L-1016"><a href="#L-1016"><span class="linenos">1016</span></a>
</span><span id="L-1017"><a href="#L-1017"><span class="linenos">1017</span></a>    <span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">productType</span> <span class="o">=</span> <span class="s1">&#39;S&#39;</span><span class="p">):</span>
</span><span id="L-1018"><a href="#L-1018"><span class="linenos">1018</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1019"><a href="#L-1019"><span class="linenos">1019</span></a><span class="sd">        Multiply two splines (cross, dot, or scalar product).</span>
</span><span id="L-1020"><a href="#L-1020"><span class="linenos">1020</span></a>
</span><span id="L-1021"><a href="#L-1021"><span class="linenos">1021</span></a><span class="sd">        Parameters</span>
</span><span id="L-1022"><a href="#L-1022"><span class="linenos">1022</span></a><span class="sd">        ----------</span>
</span><span id="L-1023"><a href="#L-1023"><span class="linenos">1023</span></a><span class="sd">        other : `Spline`</span>
</span><span id="L-1024"><a href="#L-1024"><span class="linenos">1024</span></a><span class="sd">            The spline to multiply by self.</span>
</span><span id="L-1025"><a href="#L-1025"><span class="linenos">1025</span></a>
</span><span id="L-1026"><a href="#L-1026"><span class="linenos">1026</span></a><span class="sd">        indMap : `iterable` or `None`, optional</span>
</span><span id="L-1027"><a href="#L-1027"><span class="linenos">1027</span></a><span class="sd">            An iterable of indices or pairs of indices. Each index refers to an independent variable.</span>
</span><span id="L-1028"><a href="#L-1028"><span class="linenos">1028</span></a><span class="sd">            Within the iterable, a single index, `n`, maps the nth independent variable of self to the same independent variable of other.</span>
</span><span id="L-1029"><a href="#L-1029"><span class="linenos">1029</span></a><span class="sd">            A pair `(n, m)` maps the nth independent variable of self to the mth independent variable of other. </span>
</span><span id="L-1030"><a href="#L-1030"><span class="linenos">1030</span></a><span class="sd">            For example, if you wanted to compute `self(u, v, w) * other(u, w)`, you&#39;d pass `[0, (2, 1)]` for `indMap`. </span>
</span><span id="L-1031"><a href="#L-1031"><span class="linenos">1031</span></a><span class="sd">            Unmapped independent variables remain independent (the default).</span>
</span><span id="L-1032"><a href="#L-1032"><span class="linenos">1032</span></a><span class="sd">            The domains of mapped independent variables must match. </span>
</span><span id="L-1033"><a href="#L-1033"><span class="linenos">1033</span></a><span class="sd">            An independent variable can map to no more than one other independent variable.</span>
</span><span id="L-1034"><a href="#L-1034"><span class="linenos">1034</span></a>
</span><span id="L-1035"><a href="#L-1035"><span class="linenos">1035</span></a><span class="sd">        productType : {&#39;C&#39;, &#39;D&#39;, &#39;S&#39;}, optional</span>
</span><span id="L-1036"><a href="#L-1036"><span class="linenos">1036</span></a><span class="sd">            The type of product to perform on the dependent variables (default is &#39;S&#39;).</span>
</span><span id="L-1037"><a href="#L-1037"><span class="linenos">1037</span></a><span class="sd">                &#39;C&#39; is for a cross product, self x other (nDep must be 2 or 3).</span>
</span><span id="L-1038"><a href="#L-1038"><span class="linenos">1038</span></a><span class="sd">                &#39;D&#39; is for a dot product (nDep must match).</span>
</span><span id="L-1039"><a href="#L-1039"><span class="linenos">1039</span></a><span class="sd">                &#39;S&#39; is for a scalar product (nDep must be 1 for one of the splines).</span>
</span><span id="L-1040"><a href="#L-1040"><span class="linenos">1040</span></a><span class="sd">        </span>
</span><span id="L-1041"><a href="#L-1041"><span class="linenos">1041</span></a><span class="sd">        Returns</span>
</span><span id="L-1042"><a href="#L-1042"><span class="linenos">1042</span></a><span class="sd">        -------</span>
</span><span id="L-1043"><a href="#L-1043"><span class="linenos">1043</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-1044"><a href="#L-1044"><span class="linenos">1044</span></a><span class="sd">            The result of multiplying self and other.</span>
</span><span id="L-1045"><a href="#L-1045"><span class="linenos">1045</span></a>
</span><span id="L-1046"><a href="#L-1046"><span class="linenos">1046</span></a><span class="sd">        See Also</span>
</span><span id="L-1047"><a href="#L-1047"><span class="linenos">1047</span></a><span class="sd">        --------</span>
</span><span id="L-1048"><a href="#L-1048"><span class="linenos">1048</span></a><span class="sd">        `add` : Add two splines.</span>
</span><span id="L-1049"><a href="#L-1049"><span class="linenos">1049</span></a><span class="sd">        `subtract` : Subtract two splines.</span>
</span><span id="L-1050"><a href="#L-1050"><span class="linenos">1050</span></a><span class="sd">        `convolve` : Convolve two splines (cross, dot, or scalar product).</span>
</span><span id="L-1051"><a href="#L-1051"><span class="linenos">1051</span></a>
</span><span id="L-1052"><a href="#L-1052"><span class="linenos">1052</span></a><span class="sd">        Notes</span>
</span><span id="L-1053"><a href="#L-1053"><span class="linenos">1053</span></a><span class="sd">        -----</span>
</span><span id="L-1054"><a href="#L-1054"><span class="linenos">1054</span></a><span class="sd">        Taken in part from Lee, E. T. Y. &quot;Computing a chain of blossoms, with application to products of splines.&quot; </span>
</span><span id="L-1055"><a href="#L-1055"><span class="linenos">1055</span></a><span class="sd">        Computer Aided Geometric Design 11, no. 6 (1994): 597-620.</span>
</span><span id="L-1056"><a href="#L-1056"><span class="linenos">1056</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1057"><a href="#L-1057"><span class="linenos">1057</span></a>        <span class="k">if</span> <span class="n">indMap</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1058"><a href="#L-1058"><span class="linenos">1058</span></a>            <span class="n">indMap</span> <span class="o">=</span> <span class="p">[(</span><span class="o">*</span><span class="p">(</span><span class="n">mapping</span> <span class="k">if</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">mapping</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">mapping</span><span class="p">)),</span> <span class="kc">False</span><span class="p">)</span> <span class="k">for</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="n">indMap</span><span class="p">]</span>
</span><span id="L-1059"><a href="#L-1059"><span class="linenos">1059</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">multiplyAndConvolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span><span class="p">,</span> <span class="n">productType</span><span class="p">)</span>
</span><span id="L-1060"><a href="#L-1060"><span class="linenos">1060</span></a>
</span><span id="L-1061"><a href="#L-1061"><span class="linenos">1061</span></a>    <span class="k">def</span> <span class="nf">normal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">,</span> <span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">indices</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-1062"><a href="#L-1062"><span class="linenos">1062</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1063"><a href="#L-1063"><span class="linenos">1063</span></a><span class="sd">        Compute the normal of the spline at given parameter values. The number of independent variables must be</span>
</span><span id="L-1064"><a href="#L-1064"><span class="linenos">1064</span></a><span class="sd">        one different than the number of dependent variables.</span>
</span><span id="L-1065"><a href="#L-1065"><span class="linenos">1065</span></a>
</span><span id="L-1066"><a href="#L-1066"><span class="linenos">1066</span></a><span class="sd">        Parameters</span>
</span><span id="L-1067"><a href="#L-1067"><span class="linenos">1067</span></a><span class="sd">        ----------</span>
</span><span id="L-1068"><a href="#L-1068"><span class="linenos">1068</span></a><span class="sd">        uvw : `iterable`</span>
</span><span id="L-1069"><a href="#L-1069"><span class="linenos">1069</span></a><span class="sd">            An iterable of length `nInd` that specifies the values of each independent variable (the parameter values).</span>
</span><span id="L-1070"><a href="#L-1070"><span class="linenos">1070</span></a><span class="sd">        </span>
</span><span id="L-1071"><a href="#L-1071"><span class="linenos">1071</span></a><span class="sd">        normalize : `boolean`, optional</span>
</span><span id="L-1072"><a href="#L-1072"><span class="linenos">1072</span></a><span class="sd">            If True the returned normal will have unit length (the default). Otherwise, the normal&#39;s length will</span>
</span><span id="L-1073"><a href="#L-1073"><span class="linenos">1073</span></a><span class="sd">            be the area of the tangent space (for two independent variables, its the length of the cross product of tangent vectors).</span>
</span><span id="L-1074"><a href="#L-1074"><span class="linenos">1074</span></a><span class="sd">        </span>
</span><span id="L-1075"><a href="#L-1075"><span class="linenos">1075</span></a><span class="sd">        indices : `iterable`, optional</span>
</span><span id="L-1076"><a href="#L-1076"><span class="linenos">1076</span></a><span class="sd">            An iterable of normal indices to calculate. For example, `indices=(0, 3)` will return a vector of length 2</span>
</span><span id="L-1077"><a href="#L-1077"><span class="linenos">1077</span></a><span class="sd">            with the first and fourth values of the normal. If `None`, all normal values are returned (the default).</span>
</span><span id="L-1078"><a href="#L-1078"><span class="linenos">1078</span></a>
</span><span id="L-1079"><a href="#L-1079"><span class="linenos">1079</span></a><span class="sd">        Returns</span>
</span><span id="L-1080"><a href="#L-1080"><span class="linenos">1080</span></a><span class="sd">        -------</span>
</span><span id="L-1081"><a href="#L-1081"><span class="linenos">1081</span></a><span class="sd">        normal : `numpy.array`</span>
</span><span id="L-1082"><a href="#L-1082"><span class="linenos">1082</span></a><span class="sd">            The normal vector of the spline at the given parameter values.</span>
</span><span id="L-1083"><a href="#L-1083"><span class="linenos">1083</span></a>
</span><span id="L-1084"><a href="#L-1084"><span class="linenos">1084</span></a><span class="sd">        See Also</span>
</span><span id="L-1085"><a href="#L-1085"><span class="linenos">1085</span></a><span class="sd">        --------</span>
</span><span id="L-1086"><a href="#L-1086"><span class="linenos">1086</span></a><span class="sd">        `derivative` : Compute the derivative of the spline at a given parameter value.</span>
</span><span id="L-1087"><a href="#L-1087"><span class="linenos">1087</span></a><span class="sd">        `normal_spline` : Compute a spline that evaluates to the normal of the given spline (not normalized).</span>
</span><span id="L-1088"><a href="#L-1088"><span class="linenos">1088</span></a>
</span><span id="L-1089"><a href="#L-1089"><span class="linenos">1089</span></a><span class="sd">        Notes</span>
</span><span id="L-1090"><a href="#L-1090"><span class="linenos">1090</span></a><span class="sd">        -----</span>
</span><span id="L-1091"><a href="#L-1091"><span class="linenos">1091</span></a><span class="sd">        Attentive readers will notice that the number of independent variables could be one more than the number of </span>
</span><span id="L-1092"><a href="#L-1092"><span class="linenos">1092</span></a><span class="sd">        dependent variables (instead of one less, as is typical). In that case, the normal represents the null space of </span>
</span><span id="L-1093"><a href="#L-1093"><span class="linenos">1093</span></a><span class="sd">        the matrix formed by the tangents of the spline. If the null space is greater than one dimension, the normal will be zero.</span>
</span><span id="L-1094"><a href="#L-1094"><span class="linenos">1094</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1095"><a href="#L-1095"><span class="linenos">1095</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">,</span> <span class="n">normalize</span><span class="p">,</span> <span class="n">indices</span><span class="p">)</span>
</span><span id="L-1096"><a href="#L-1096"><span class="linenos">1096</span></a>
</span><span id="L-1097"><a href="#L-1097"><span class="linenos">1097</span></a>    <span class="k">def</span> <span class="nf">normal_spline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indices</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-1098"><a href="#L-1098"><span class="linenos">1098</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1099"><a href="#L-1099"><span class="linenos">1099</span></a><span class="sd">        Compute a spline that evaluates to the normal of the given spline. The length of the normal</span>
</span><span id="L-1100"><a href="#L-1100"><span class="linenos">1100</span></a><span class="sd">        is the area of the tangent space (for two independent variables, its the length of the cross product of tangent vectors).</span>
</span><span id="L-1101"><a href="#L-1101"><span class="linenos">1101</span></a><span class="sd">        The number of independent variables must be one different than the number of dependent variables.</span>
</span><span id="L-1102"><a href="#L-1102"><span class="linenos">1102</span></a>
</span><span id="L-1103"><a href="#L-1103"><span class="linenos">1103</span></a><span class="sd">        Parameters</span>
</span><span id="L-1104"><a href="#L-1104"><span class="linenos">1104</span></a><span class="sd">        ----------</span>
</span><span id="L-1105"><a href="#L-1105"><span class="linenos">1105</span></a><span class="sd">        indices : `iterable`, optional</span>
</span><span id="L-1106"><a href="#L-1106"><span class="linenos">1106</span></a><span class="sd">            An iterable of normal indices to calculate. For example, `indices=(0, 3)` will make the returned spline compute a vector of length 2</span>
</span><span id="L-1107"><a href="#L-1107"><span class="linenos">1107</span></a><span class="sd">            with the first and fourth values of the normal. If `None`, all normal values are returned (the default).</span>
</span><span id="L-1108"><a href="#L-1108"><span class="linenos">1108</span></a>
</span><span id="L-1109"><a href="#L-1109"><span class="linenos">1109</span></a><span class="sd">        Returns</span>
</span><span id="L-1110"><a href="#L-1110"><span class="linenos">1110</span></a><span class="sd">        -------</span>
</span><span id="L-1111"><a href="#L-1111"><span class="linenos">1111</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-1112"><a href="#L-1112"><span class="linenos">1112</span></a><span class="sd">            The spline that evaluates to the normal of the given spline.</span>
</span><span id="L-1113"><a href="#L-1113"><span class="linenos">1113</span></a>
</span><span id="L-1114"><a href="#L-1114"><span class="linenos">1114</span></a><span class="sd">        See Also</span>
</span><span id="L-1115"><a href="#L-1115"><span class="linenos">1115</span></a><span class="sd">        --------</span>
</span><span id="L-1116"><a href="#L-1116"><span class="linenos">1116</span></a><span class="sd">        `normal` : Compute the normal of the spline at given parameter values.</span>
</span><span id="L-1117"><a href="#L-1117"><span class="linenos">1117</span></a><span class="sd">        `differentiate` : Differentiate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="L-1118"><a href="#L-1118"><span class="linenos">1118</span></a>
</span><span id="L-1119"><a href="#L-1119"><span class="linenos">1119</span></a><span class="sd">        Notes</span>
</span><span id="L-1120"><a href="#L-1120"><span class="linenos">1120</span></a><span class="sd">        -----</span>
</span><span id="L-1121"><a href="#L-1121"><span class="linenos">1121</span></a><span class="sd">        Attentive readers will notice that the number of independent variables could be one more than the number of </span>
</span><span id="L-1122"><a href="#L-1122"><span class="linenos">1122</span></a><span class="sd">        dependent variables (instead of one less, as is typical). In that case, the normal represents the null space of </span>
</span><span id="L-1123"><a href="#L-1123"><span class="linenos">1123</span></a><span class="sd">        the matrix formed by the tangents of the spline. If the null space is greater than one dimension, the normal will be zero.</span>
</span><span id="L-1124"><a href="#L-1124"><span class="linenos">1124</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1125"><a href="#L-1125"><span class="linenos">1125</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">normal_spline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indices</span><span class="p">)</span>
</span><span id="L-1126"><a href="#L-1126"><span class="linenos">1126</span></a>
</span><span id="L-1127"><a href="#L-1127"><span class="linenos">1127</span></a>    <span class="k">def</span> <span class="nf">range_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1128"><a href="#L-1128"><span class="linenos">1128</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1129"><a href="#L-1129"><span class="linenos">1129</span></a><span class="sd">        Return the range of a spline as lower and upper bounds on each of the</span>
</span><span id="L-1130"><a href="#L-1130"><span class="linenos">1130</span></a><span class="sd">        dependent variables</span>
</span><span id="L-1131"><a href="#L-1131"><span class="linenos">1131</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1132"><a href="#L-1132"><span class="linenos">1132</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">range_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-1133"><a href="#L-1133"><span class="linenos">1133</span></a>
</span><span id="L-1134"><a href="#L-1134"><span class="linenos">1134</span></a>    <span class="k">def</span> <span class="nf">remove_knots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">oldKnots</span><span class="o">=</span><span class="p">((),),</span> <span class="n">maxRemovalsPerKnot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-1135"><a href="#L-1135"><span class="linenos">1135</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1136"><a href="#L-1136"><span class="linenos">1136</span></a><span class="sd">        Remove interior knots from a spline.</span>
</span><span id="L-1137"><a href="#L-1137"><span class="linenos">1137</span></a>
</span><span id="L-1138"><a href="#L-1138"><span class="linenos">1138</span></a><span class="sd">        Parameters</span>
</span><span id="L-1139"><a href="#L-1139"><span class="linenos">1139</span></a><span class="sd">        ----------</span>
</span><span id="L-1140"><a href="#L-1140"><span class="linenos">1140</span></a><span class="sd">        oldKnots : `iterable` of length `nInd`, optional</span>
</span><span id="L-1141"><a href="#L-1141"><span class="linenos">1141</span></a><span class="sd">            An iterable that specifies the knots that can be removed from each independent variable&#39;s interior knots. </span>
</span><span id="L-1142"><a href="#L-1142"><span class="linenos">1142</span></a><span class="sd">            len(newKnots[ind]) == 0 if all interior knots can be removed for the `ind` independent variable (the default). </span>
</span><span id="L-1143"><a href="#L-1143"><span class="linenos">1143</span></a><span class="sd">            Knots that don&#39;t appear in the independent variable&#39;s interior knots are ignored.</span>
</span><span id="L-1144"><a href="#L-1144"><span class="linenos">1144</span></a><span class="sd">        </span>
</span><span id="L-1145"><a href="#L-1145"><span class="linenos">1145</span></a><span class="sd">        maxRemovalsPerKnot : `int`, optional</span>
</span><span id="L-1146"><a href="#L-1146"><span class="linenos">1146</span></a><span class="sd">            A non-zero count of the largest number of times a knot can be removed. For example, one means that </span>
</span><span id="L-1147"><a href="#L-1147"><span class="linenos">1147</span></a><span class="sd">            only one instance of each knot can be removed. (Zero means each knot can be removed completely, </span>
</span><span id="L-1148"><a href="#L-1148"><span class="linenos">1148</span></a><span class="sd">            which is the default.)</span>
</span><span id="L-1149"><a href="#L-1149"><span class="linenos">1149</span></a><span class="sd">        </span>
</span><span id="L-1150"><a href="#L-1150"><span class="linenos">1150</span></a><span class="sd">        tolerance : `float` or `None`, optional</span>
</span><span id="L-1151"><a href="#L-1151"><span class="linenos">1151</span></a><span class="sd">            The maximum residual error permitted after removing a knot. Knots will not be removed if the </span>
</span><span id="L-1152"><a href="#L-1152"><span class="linenos">1152</span></a><span class="sd">            resulting residual error is above this threshold. Default is `None`, meaning all specified knots </span>
</span><span id="L-1153"><a href="#L-1153"><span class="linenos">1153</span></a><span class="sd">            will be removed up to `maxRemovalsPerKnot`.</span>
</span><span id="L-1154"><a href="#L-1154"><span class="linenos">1154</span></a>
</span><span id="L-1155"><a href="#L-1155"><span class="linenos">1155</span></a><span class="sd">        Returns</span>
</span><span id="L-1156"><a href="#L-1156"><span class="linenos">1156</span></a><span class="sd">        -------</span>
</span><span id="L-1157"><a href="#L-1157"><span class="linenos">1157</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-1158"><a href="#L-1158"><span class="linenos">1158</span></a><span class="sd">            A spline with the knots removed.</span>
</span><span id="L-1159"><a href="#L-1159"><span class="linenos">1159</span></a><span class="sd">        </span>
</span><span id="L-1160"><a href="#L-1160"><span class="linenos">1160</span></a><span class="sd">        totalRemoved : `int`</span>
</span><span id="L-1161"><a href="#L-1161"><span class="linenos">1161</span></a><span class="sd">            The total number of knots removed.</span>
</span><span id="L-1162"><a href="#L-1162"><span class="linenos">1162</span></a><span class="sd">        </span>
</span><span id="L-1163"><a href="#L-1163"><span class="linenos">1163</span></a><span class="sd">        residualError : `float`</span>
</span><span id="L-1164"><a href="#L-1164"><span class="linenos">1164</span></a><span class="sd">            The residual error relative to the old spline. (The returned spline&#39;s accuracy is also adjusted accordingly.)</span>
</span><span id="L-1165"><a href="#L-1165"><span class="linenos">1165</span></a>
</span><span id="L-1166"><a href="#L-1166"><span class="linenos">1166</span></a><span class="sd">        See Also</span>
</span><span id="L-1167"><a href="#L-1167"><span class="linenos">1167</span></a><span class="sd">        --------</span>
</span><span id="L-1168"><a href="#L-1168"><span class="linenos">1168</span></a><span class="sd">        `insert_knots` : Insert new knots into a spline.</span>
</span><span id="L-1169"><a href="#L-1169"><span class="linenos">1169</span></a><span class="sd">        `trim` : Trim the domain of a spline.</span>
</span><span id="L-1170"><a href="#L-1170"><span class="linenos">1170</span></a>
</span><span id="L-1171"><a href="#L-1171"><span class="linenos">1171</span></a><span class="sd">        Notes</span>
</span><span id="L-1172"><a href="#L-1172"><span class="linenos">1172</span></a><span class="sd">        -----</span>
</span><span id="L-1173"><a href="#L-1173"><span class="linenos">1173</span></a><span class="sd">        Implements a variation of the algorithms from Tiller, Wayne. &quot;Knot-removal algorithms for NURBS curves and surfaces.&quot; Computer-Aided Design 24, no. 8 (1992): 445-453.</span>
</span><span id="L-1174"><a href="#L-1174"><span class="linenos">1174</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1175"><a href="#L-1175"><span class="linenos">1175</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">remove_knots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">oldKnots</span><span class="p">,</span> <span class="n">maxRemovalsPerKnot</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span>
</span><span id="L-1176"><a href="#L-1176"><span class="linenos">1176</span></a>
</span><span id="L-1177"><a href="#L-1177"><span class="linenos">1177</span></a>    <span class="k">def</span> <span class="nf">reparametrize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newDomain</span><span class="p">):</span>
</span><span id="L-1178"><a href="#L-1178"><span class="linenos">1178</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1179"><a href="#L-1179"><span class="linenos">1179</span></a><span class="sd">        Reparametrize a spline to match new domain bounds. The spline&#39;s number of knots and its coefficients remain unchanged.</span>
</span><span id="L-1180"><a href="#L-1180"><span class="linenos">1180</span></a>
</span><span id="L-1181"><a href="#L-1181"><span class="linenos">1181</span></a><span class="sd">        Parameters</span>
</span><span id="L-1182"><a href="#L-1182"><span class="linenos">1182</span></a><span class="sd">        ----------</span>
</span><span id="L-1183"><a href="#L-1183"><span class="linenos">1183</span></a><span class="sd">        newDomain : array-like</span>
</span><span id="L-1184"><a href="#L-1184"><span class="linenos">1184</span></a><span class="sd">            nInd x 2 array of the new upper and lower bounds on each of the independent variables (same form as </span>
</span><span id="L-1185"><a href="#L-1185"><span class="linenos">1185</span></a><span class="sd">            returned from `domain`). If a bound pair is `None` then the original bound (and knots) are left unchanged. </span>
</span><span id="L-1186"><a href="#L-1186"><span class="linenos">1186</span></a><span class="sd">            For example, `[[0.0, 1.0], None]` will reparametrize the first independent variable and leave the second unchanged)</span>
</span><span id="L-1187"><a href="#L-1187"><span class="linenos">1187</span></a>
</span><span id="L-1188"><a href="#L-1188"><span class="linenos">1188</span></a><span class="sd">        Returns</span>
</span><span id="L-1189"><a href="#L-1189"><span class="linenos">1189</span></a><span class="sd">        -------</span>
</span><span id="L-1190"><a href="#L-1190"><span class="linenos">1190</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-1191"><a href="#L-1191"><span class="linenos">1191</span></a><span class="sd">            Reparametrized spline.</span>
</span><span id="L-1192"><a href="#L-1192"><span class="linenos">1192</span></a>
</span><span id="L-1193"><a href="#L-1193"><span class="linenos">1193</span></a><span class="sd">        See Also</span>
</span><span id="L-1194"><a href="#L-1194"><span class="linenos">1194</span></a><span class="sd">        --------</span>
</span><span id="L-1195"><a href="#L-1195"><span class="linenos">1195</span></a><span class="sd">        `domain` : Return the domain of a spline.</span>
</span><span id="L-1196"><a href="#L-1196"><span class="linenos">1196</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1197"><a href="#L-1197"><span class="linenos">1197</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">reparametrize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newDomain</span><span class="p">)</span>
</span><span id="L-1198"><a href="#L-1198"><span class="linenos">1198</span></a>
</span><span id="L-1199"><a href="#L-1199"><span class="linenos">1199</span></a>    <span class="k">def</span> <span class="nf">reverse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">variable</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="L-1200"><a href="#L-1200"><span class="linenos">1200</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1201"><a href="#L-1201"><span class="linenos">1201</span></a><span class="sd">        Reverse the direction of a spline along one of the independent variables</span>
</span><span id="L-1202"><a href="#L-1202"><span class="linenos">1202</span></a>
</span><span id="L-1203"><a href="#L-1203"><span class="linenos">1203</span></a><span class="sd">        Parameters</span>
</span><span id="L-1204"><a href="#L-1204"><span class="linenos">1204</span></a><span class="sd">        ----------</span>
</span><span id="L-1205"><a href="#L-1205"><span class="linenos">1205</span></a><span class="sd">        variable : integer</span>
</span><span id="L-1206"><a href="#L-1206"><span class="linenos">1206</span></a><span class="sd">            index of the independent variable to reverse the direction of.</span>
</span><span id="L-1207"><a href="#L-1207"><span class="linenos">1207</span></a><span class="sd">        </span>
</span><span id="L-1208"><a href="#L-1208"><span class="linenos">1208</span></a><span class="sd">        Returns</span>
</span><span id="L-1209"><a href="#L-1209"><span class="linenos">1209</span></a><span class="sd">        -------</span>
</span><span id="L-1210"><a href="#L-1210"><span class="linenos">1210</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-1211"><a href="#L-1211"><span class="linenos">1211</span></a><span class="sd">            Reparametrized (i.e. reversed) spline.</span>
</span><span id="L-1212"><a href="#L-1212"><span class="linenos">1212</span></a><span class="sd">        </span>
</span><span id="L-1213"><a href="#L-1213"><span class="linenos">1213</span></a><span class="sd">        See Also</span>
</span><span id="L-1214"><a href="#L-1214"><span class="linenos">1214</span></a><span class="sd">        --------</span>
</span><span id="L-1215"><a href="#L-1215"><span class="linenos">1215</span></a><span class="sd">        `reparametrize` : Reparametrize a spline</span>
</span><span id="L-1216"><a href="#L-1216"><span class="linenos">1216</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1217"><a href="#L-1217"><span class="linenos">1217</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">reverse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">variable</span><span class="p">)</span>
</span><span id="L-1218"><a href="#L-1218"><span class="linenos">1218</span></a>
</span><span id="L-1219"><a href="#L-1219"><span class="linenos">1219</span></a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileName</span><span class="p">):</span>
</span><span id="L-1220"><a href="#L-1220"><span class="linenos">1220</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1221"><a href="#L-1221"><span class="linenos">1221</span></a><span class="sd">        Save a spline to the specified filename (full path).</span>
</span><span id="L-1222"><a href="#L-1222"><span class="linenos">1222</span></a>
</span><span id="L-1223"><a href="#L-1223"><span class="linenos">1223</span></a><span class="sd">        Parameters</span>
</span><span id="L-1224"><a href="#L-1224"><span class="linenos">1224</span></a><span class="sd">        ----------</span>
</span><span id="L-1225"><a href="#L-1225"><span class="linenos">1225</span></a><span class="sd">        fileName : `string`</span>
</span><span id="L-1226"><a href="#L-1226"><span class="linenos">1226</span></a><span class="sd">            The full path to the file containing the spline. Can be a relative path.</span>
</span><span id="L-1227"><a href="#L-1227"><span class="linenos">1227</span></a><span class="sd">        </span>
</span><span id="L-1228"><a href="#L-1228"><span class="linenos">1228</span></a><span class="sd">        See Also</span>
</span><span id="L-1229"><a href="#L-1229"><span class="linenos">1229</span></a><span class="sd">        --------</span>
</span><span id="L-1230"><a href="#L-1230"><span class="linenos">1230</span></a><span class="sd">        `load` : Load a spline from the specified filename (full path).</span>
</span><span id="L-1231"><a href="#L-1231"><span class="linenos">1231</span></a>
</span><span id="L-1232"><a href="#L-1232"><span class="linenos">1232</span></a><span class="sd">        Notes</span>
</span><span id="L-1233"><a href="#L-1233"><span class="linenos">1233</span></a><span class="sd">        -----</span>
</span><span id="L-1234"><a href="#L-1234"><span class="linenos">1234</span></a><span class="sd">        Uses numpy&#39;s savez function. Accuracy and metadata are not saved.</span>
</span><span id="L-1235"><a href="#L-1235"><span class="linenos">1235</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1236"><a href="#L-1236"><span class="linenos">1236</span></a>        <span class="n">kw</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-1237"><a href="#L-1237"><span class="linenos">1237</span></a>        <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;order&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">order</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>
</span><span id="L-1238"><a href="#L-1238"><span class="linenos">1238</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">knots</span><span class="p">)):</span>
</span><span id="L-1239"><a href="#L-1239"><span class="linenos">1239</span></a>            <span class="n">kw</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;knots</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">knots</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="L-1240"><a href="#L-1240"><span class="linenos">1240</span></a>        <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;coefficients&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span>
</span><span id="L-1241"><a href="#L-1241"><span class="linenos">1241</span></a>        <span class="n">np</span><span class="o">.</span><span class="n">savez</span><span class="p">(</span><span class="n">fileName</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span> <span class="p">)</span>
</span><span id="L-1242"><a href="#L-1242"><span class="linenos">1242</span></a>
</span><span id="L-1243"><a href="#L-1243"><span class="linenos">1243</span></a>    <span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiplier</span><span class="p">):</span>
</span><span id="L-1244"><a href="#L-1244"><span class="linenos">1244</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1245"><a href="#L-1245"><span class="linenos">1245</span></a><span class="sd">        Scale a spline by the given scalar or scale vector.</span>
</span><span id="L-1246"><a href="#L-1246"><span class="linenos">1246</span></a>
</span><span id="L-1247"><a href="#L-1247"><span class="linenos">1247</span></a><span class="sd">        Parameters</span>
</span><span id="L-1248"><a href="#L-1248"><span class="linenos">1248</span></a><span class="sd">        ----------</span>
</span><span id="L-1249"><a href="#L-1249"><span class="linenos">1249</span></a><span class="sd">        multiplier : scalar, array-like, or `Spline`</span>
</span><span id="L-1250"><a href="#L-1250"><span class="linenos">1250</span></a><span class="sd">            A scalar, an array of length `nDep`, or spline that specifies the multiplier.</span>
</span><span id="L-1251"><a href="#L-1251"><span class="linenos">1251</span></a>
</span><span id="L-1252"><a href="#L-1252"><span class="linenos">1252</span></a><span class="sd">        Returns</span>
</span><span id="L-1253"><a href="#L-1253"><span class="linenos">1253</span></a><span class="sd">        -------</span>
</span><span id="L-1254"><a href="#L-1254"><span class="linenos">1254</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-1255"><a href="#L-1255"><span class="linenos">1255</span></a><span class="sd">            The scaled spline.</span>
</span><span id="L-1256"><a href="#L-1256"><span class="linenos">1256</span></a>
</span><span id="L-1257"><a href="#L-1257"><span class="linenos">1257</span></a><span class="sd">        See Also</span>
</span><span id="L-1258"><a href="#L-1258"><span class="linenos">1258</span></a><span class="sd">        --------</span>
</span><span id="L-1259"><a href="#L-1259"><span class="linenos">1259</span></a><span class="sd">        `multiply` : Multiply two splines (cross, dot, or scalar product).</span>
</span><span id="L-1260"><a href="#L-1260"><span class="linenos">1260</span></a><span class="sd">        `transform` : Transform a spline by the given matrix.</span>
</span><span id="L-1261"><a href="#L-1261"><span class="linenos">1261</span></a><span class="sd">        `translate` : Translate a spline by the given translation vector.</span>
</span><span id="L-1262"><a href="#L-1262"><span class="linenos">1262</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1263"><a href="#L-1263"><span class="linenos">1263</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiplier</span><span class="p">)</span>
</span><span id="L-1264"><a href="#L-1264"><span class="linenos">1264</span></a>    
</span><span id="L-1265"><a href="#L-1265"><span class="linenos">1265</span></a>    <span class="nd">@staticmethod</span>
</span><span id="L-1266"><a href="#L-1266"><span class="linenos">1266</span></a>    <span class="k">def</span> <span class="nf">section</span><span class="p">(</span><span class="n">xytk</span><span class="p">):</span>
</span><span id="L-1267"><a href="#L-1267"><span class="linenos">1267</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1268"><a href="#L-1268"><span class="linenos">1268</span></a><span class="sd">        Fit a planar section to the list of 4-tuples of data.</span>
</span><span id="L-1269"><a href="#L-1269"><span class="linenos">1269</span></a>
</span><span id="L-1270"><a href="#L-1270"><span class="linenos">1270</span></a><span class="sd">        Parameters</span>
</span><span id="L-1271"><a href="#L-1271"><span class="linenos">1271</span></a><span class="sd">        ----------</span>
</span><span id="L-1272"><a href="#L-1272"><span class="linenos">1272</span></a><span class="sd">        xytk : array-like</span>
</span><span id="L-1273"><a href="#L-1273"><span class="linenos">1273</span></a><span class="sd">            A list of points to fit an interpolating spline to.  Each point in the list contains</span>
</span><span id="L-1274"><a href="#L-1274"><span class="linenos">1274</span></a><span class="sd">            four values.  The first two are x and y coordinates of the point.  The third value is the</span>
</span><span id="L-1275"><a href="#L-1275"><span class="linenos">1275</span></a><span class="sd">            angle that the tangent makes as the desired section passes through that point (in degrees).</span>
</span><span id="L-1276"><a href="#L-1276"><span class="linenos">1276</span></a><span class="sd">            The fourth value is the desired curvature at that point</span>
</span><span id="L-1277"><a href="#L-1277"><span class="linenos">1277</span></a>
</span><span id="L-1278"><a href="#L-1278"><span class="linenos">1278</span></a><span class="sd">        Returns</span>
</span><span id="L-1279"><a href="#L-1279"><span class="linenos">1279</span></a><span class="sd">        -------</span>
</span><span id="L-1280"><a href="#L-1280"><span class="linenos">1280</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-1281"><a href="#L-1281"><span class="linenos">1281</span></a><span class="sd">            A quartic spline which interpolates the given values.</span>
</span><span id="L-1282"><a href="#L-1282"><span class="linenos">1282</span></a>
</span><span id="L-1283"><a href="#L-1283"><span class="linenos">1283</span></a><span class="sd">        Notes</span>
</span><span id="L-1284"><a href="#L-1284"><span class="linenos">1284</span></a><span class="sd">        -----</span>
</span><span id="L-1285"><a href="#L-1285"><span class="linenos">1285</span></a><span class="sd">        The spline is shape-preserving.  Each consecutive pair of data points must describe a convex or</span>
</span><span id="L-1286"><a href="#L-1286"><span class="linenos">1286</span></a><span class="sd">        concave curve.  In particular, if it is impossible for a differentiable curve to interpolate two</span>
</span><span id="L-1287"><a href="#L-1287"><span class="linenos">1287</span></a><span class="sd">        consecutive data points without passing through an intermediate inflection point (i.e. a point which</span>
</span><span id="L-1288"><a href="#L-1288"><span class="linenos">1288</span></a><span class="sd">        has zero curvature and at which the sign of the curvature changes), then this method will fail</span>
</span><span id="L-1289"><a href="#L-1289"><span class="linenos">1289</span></a><span class="sd">        with an error.</span>
</span><span id="L-1290"><a href="#L-1290"><span class="linenos">1290</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1291"><a href="#L-1291"><span class="linenos">1291</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_fitting</span><span class="o">.</span><span class="n">section</span><span class="p">(</span><span class="n">xytk</span><span class="p">)</span>
</span><span id="L-1292"><a href="#L-1292"><span class="linenos">1292</span></a>
</span><span id="L-1293"><a href="#L-1293"><span class="linenos">1293</span></a>    <span class="k">def</span> <span class="nf">subtract</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-1294"><a href="#L-1294"><span class="linenos">1294</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1295"><a href="#L-1295"><span class="linenos">1295</span></a><span class="sd">        Subtract two splines.</span>
</span><span id="L-1296"><a href="#L-1296"><span class="linenos">1296</span></a>
</span><span id="L-1297"><a href="#L-1297"><span class="linenos">1297</span></a><span class="sd">        Parameters</span>
</span><span id="L-1298"><a href="#L-1298"><span class="linenos">1298</span></a><span class="sd">        ----------</span>
</span><span id="L-1299"><a href="#L-1299"><span class="linenos">1299</span></a><span class="sd">        other : `Spline`</span>
</span><span id="L-1300"><a href="#L-1300"><span class="linenos">1300</span></a><span class="sd">            The spline to subtract from self. The number of dependent variables must match self.</span>
</span><span id="L-1301"><a href="#L-1301"><span class="linenos">1301</span></a>
</span><span id="L-1302"><a href="#L-1302"><span class="linenos">1302</span></a><span class="sd">        indMap : `iterable` or `None`, optional</span>
</span><span id="L-1303"><a href="#L-1303"><span class="linenos">1303</span></a><span class="sd">            An iterable of indices or pairs of indices. Each index refers to an independent variable.</span>
</span><span id="L-1304"><a href="#L-1304"><span class="linenos">1304</span></a><span class="sd">            Within the iterable, a single index, `n`, maps the nth independent variable of self to the same independent variable of other.</span>
</span><span id="L-1305"><a href="#L-1305"><span class="linenos">1305</span></a><span class="sd">            A pair `(n, m)` maps the nth independent variable of self to the mth independent variable of other. </span>
</span><span id="L-1306"><a href="#L-1306"><span class="linenos">1306</span></a><span class="sd">            For example, if you wanted to compute `self(u, v, w) - other(u, w)`, you&#39;d pass `[0, (2, 1)]` for `indMap`. </span>
</span><span id="L-1307"><a href="#L-1307"><span class="linenos">1307</span></a><span class="sd">            Unmapped independent variables remain independent (the default).</span>
</span><span id="L-1308"><a href="#L-1308"><span class="linenos">1308</span></a><span class="sd">            The domains of mapped independent variables must match. </span>
</span><span id="L-1309"><a href="#L-1309"><span class="linenos">1309</span></a><span class="sd">            An independent variable can map to no more than one other independent variable.</span>
</span><span id="L-1310"><a href="#L-1310"><span class="linenos">1310</span></a>
</span><span id="L-1311"><a href="#L-1311"><span class="linenos">1311</span></a><span class="sd">        Returns</span>
</span><span id="L-1312"><a href="#L-1312"><span class="linenos">1312</span></a><span class="sd">        -------</span>
</span><span id="L-1313"><a href="#L-1313"><span class="linenos">1313</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-1314"><a href="#L-1314"><span class="linenos">1314</span></a><span class="sd">            The result of subtracting other from self.</span>
</span><span id="L-1315"><a href="#L-1315"><span class="linenos">1315</span></a>
</span><span id="L-1316"><a href="#L-1316"><span class="linenos">1316</span></a><span class="sd">        See Also</span>
</span><span id="L-1317"><a href="#L-1317"><span class="linenos">1317</span></a><span class="sd">        --------</span>
</span><span id="L-1318"><a href="#L-1318"><span class="linenos">1318</span></a><span class="sd">        `add` : Add two splines.</span>
</span><span id="L-1319"><a href="#L-1319"><span class="linenos">1319</span></a><span class="sd">        `multiply` : Multiply two splines.</span>
</span><span id="L-1320"><a href="#L-1320"><span class="linenos">1320</span></a><span class="sd">        `common_basis` : Align a collection of splines to a common basis, elevating the order and adding knots as needed.</span>
</span><span id="L-1321"><a href="#L-1321"><span class="linenos">1321</span></a>
</span><span id="L-1322"><a href="#L-1322"><span class="linenos">1322</span></a><span class="sd">        Notes</span>
</span><span id="L-1323"><a href="#L-1323"><span class="linenos">1323</span></a><span class="sd">        -----</span>
</span><span id="L-1324"><a href="#L-1324"><span class="linenos">1324</span></a><span class="sd">        Uses `common_basis` to ensure mapped variables share the same order and knots. </span>
</span><span id="L-1325"><a href="#L-1325"><span class="linenos">1325</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1326"><a href="#L-1326"><span class="linenos">1326</span></a>        <span class="k">if</span> <span class="n">indMap</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1327"><a href="#L-1327"><span class="linenos">1327</span></a>            <span class="n">indMap</span> <span class="o">=</span> <span class="p">[</span><span class="n">mapping</span> <span class="k">if</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">mapping</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">mapping</span><span class="p">)</span> <span class="k">for</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="n">indMap</span><span class="p">]</span>
</span><span id="L-1328"><a href="#L-1328"><span class="linenos">1328</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">),</span> <span class="n">indMap</span><span class="p">)</span>
</span><span id="L-1329"><a href="#L-1329"><span class="linenos">1329</span></a>
</span><span id="L-1330"><a href="#L-1330"><span class="linenos">1330</span></a>    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">,</span> <span class="n">maxSingularValue</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-1331"><a href="#L-1331"><span class="linenos">1331</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1332"><a href="#L-1332"><span class="linenos">1332</span></a><span class="sd">        Transform a spline by the given matrix.</span>
</span><span id="L-1333"><a href="#L-1333"><span class="linenos">1333</span></a>
</span><span id="L-1334"><a href="#L-1334"><span class="linenos">1334</span></a><span class="sd">        Parameters</span>
</span><span id="L-1335"><a href="#L-1335"><span class="linenos">1335</span></a><span class="sd">        ----------</span>
</span><span id="L-1336"><a href="#L-1336"><span class="linenos">1336</span></a><span class="sd">        matrix : array-like</span>
</span><span id="L-1337"><a href="#L-1337"><span class="linenos">1337</span></a><span class="sd">            An array of size `newNDep`x`nDep` that specifies the transform matrix.</span>
</span><span id="L-1338"><a href="#L-1338"><span class="linenos">1338</span></a>
</span><span id="L-1339"><a href="#L-1339"><span class="linenos">1339</span></a><span class="sd">        maxSingularValue : `float`, optional</span>
</span><span id="L-1340"><a href="#L-1340"><span class="linenos">1340</span></a><span class="sd">            The largest singular value of `matrix`, used to update the accuracy of the spline. </span>
</span><span id="L-1341"><a href="#L-1341"><span class="linenos">1341</span></a><span class="sd">            If no value is provided (default), the largest singular value is computed.</span>
</span><span id="L-1342"><a href="#L-1342"><span class="linenos">1342</span></a>
</span><span id="L-1343"><a href="#L-1343"><span class="linenos">1343</span></a><span class="sd">        Returns</span>
</span><span id="L-1344"><a href="#L-1344"><span class="linenos">1344</span></a><span class="sd">        -------</span>
</span><span id="L-1345"><a href="#L-1345"><span class="linenos">1345</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-1346"><a href="#L-1346"><span class="linenos">1346</span></a><span class="sd">            The transformed spline.</span>
</span><span id="L-1347"><a href="#L-1347"><span class="linenos">1347</span></a>
</span><span id="L-1348"><a href="#L-1348"><span class="linenos">1348</span></a><span class="sd">        See Also</span>
</span><span id="L-1349"><a href="#L-1349"><span class="linenos">1349</span></a><span class="sd">        --------</span>
</span><span id="L-1350"><a href="#L-1350"><span class="linenos">1350</span></a><span class="sd">        `scale` : Scale a spline by the given scalar or scale vector.</span>
</span><span id="L-1351"><a href="#L-1351"><span class="linenos">1351</span></a><span class="sd">        `translate` : Translate a spline by the given translation vector.</span>
</span><span id="L-1352"><a href="#L-1352"><span class="linenos">1352</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1353"><a href="#L-1353"><span class="linenos">1353</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">,</span> <span class="n">maxSingularValue</span><span class="p">)</span>
</span><span id="L-1354"><a href="#L-1354"><span class="linenos">1354</span></a>
</span><span id="L-1355"><a href="#L-1355"><span class="linenos">1355</span></a>    <span class="k">def</span> <span class="nf">translate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">translationVector</span><span class="p">):</span>
</span><span id="L-1356"><a href="#L-1356"><span class="linenos">1356</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1357"><a href="#L-1357"><span class="linenos">1357</span></a><span class="sd">        Translate a spline by the given translation vector.</span>
</span><span id="L-1358"><a href="#L-1358"><span class="linenos">1358</span></a>
</span><span id="L-1359"><a href="#L-1359"><span class="linenos">1359</span></a><span class="sd">        Parameters</span>
</span><span id="L-1360"><a href="#L-1360"><span class="linenos">1360</span></a><span class="sd">        ----------</span>
</span><span id="L-1361"><a href="#L-1361"><span class="linenos">1361</span></a><span class="sd">        translationVector : array-like</span>
</span><span id="L-1362"><a href="#L-1362"><span class="linenos">1362</span></a><span class="sd">            An array of length `nDep` that specifies the translation vector.</span>
</span><span id="L-1363"><a href="#L-1363"><span class="linenos">1363</span></a>
</span><span id="L-1364"><a href="#L-1364"><span class="linenos">1364</span></a><span class="sd">        Returns</span>
</span><span id="L-1365"><a href="#L-1365"><span class="linenos">1365</span></a><span class="sd">        -------</span>
</span><span id="L-1366"><a href="#L-1366"><span class="linenos">1366</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-1367"><a href="#L-1367"><span class="linenos">1367</span></a><span class="sd">            The translated spline.</span>
</span><span id="L-1368"><a href="#L-1368"><span class="linenos">1368</span></a>
</span><span id="L-1369"><a href="#L-1369"><span class="linenos">1369</span></a><span class="sd">        See Also</span>
</span><span id="L-1370"><a href="#L-1370"><span class="linenos">1370</span></a><span class="sd">        --------</span>
</span><span id="L-1371"><a href="#L-1371"><span class="linenos">1371</span></a><span class="sd">        `scale` : Scale a spline by the given scalar or scale vector.</span>
</span><span id="L-1372"><a href="#L-1372"><span class="linenos">1372</span></a><span class="sd">        `transform` : Transform a spline by the given matrix.</span>
</span><span id="L-1373"><a href="#L-1373"><span class="linenos">1373</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1374"><a href="#L-1374"><span class="linenos">1374</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">translationVector</span><span class="p">)</span>
</span><span id="L-1375"><a href="#L-1375"><span class="linenos">1375</span></a>
</span><span id="L-1376"><a href="#L-1376"><span class="linenos">1376</span></a>    <span class="k">def</span> <span class="nf">trim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newDomain</span><span class="p">):</span>
</span><span id="L-1377"><a href="#L-1377"><span class="linenos">1377</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1378"><a href="#L-1378"><span class="linenos">1378</span></a><span class="sd">        Trim the domain of a spline.</span>
</span><span id="L-1379"><a href="#L-1379"><span class="linenos">1379</span></a>
</span><span id="L-1380"><a href="#L-1380"><span class="linenos">1380</span></a><span class="sd">        Parameters</span>
</span><span id="L-1381"><a href="#L-1381"><span class="linenos">1381</span></a><span class="sd">        ----------</span>
</span><span id="L-1382"><a href="#L-1382"><span class="linenos">1382</span></a><span class="sd">        newDomain : array-like</span>
</span><span id="L-1383"><a href="#L-1383"><span class="linenos">1383</span></a><span class="sd">            nInd x 2 array of the new upper and lower bounds on each of the independent variables (same form as </span>
</span><span id="L-1384"><a href="#L-1384"><span class="linenos">1384</span></a><span class="sd">            returned from `domain`). If a bound is None or nan then the original bound (and knots) are left unchanged.</span>
</span><span id="L-1385"><a href="#L-1385"><span class="linenos">1385</span></a>
</span><span id="L-1386"><a href="#L-1386"><span class="linenos">1386</span></a><span class="sd">        Returns</span>
</span><span id="L-1387"><a href="#L-1387"><span class="linenos">1387</span></a><span class="sd">        -------</span>
</span><span id="L-1388"><a href="#L-1388"><span class="linenos">1388</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="L-1389"><a href="#L-1389"><span class="linenos">1389</span></a><span class="sd">            Trimmed spline. If all the knots are unchanged, the original spline is returned.</span>
</span><span id="L-1390"><a href="#L-1390"><span class="linenos">1390</span></a>
</span><span id="L-1391"><a href="#L-1391"><span class="linenos">1391</span></a><span class="sd">        See Also</span>
</span><span id="L-1392"><a href="#L-1392"><span class="linenos">1392</span></a><span class="sd">        --------</span>
</span><span id="L-1393"><a href="#L-1393"><span class="linenos">1393</span></a><span class="sd">        `domain` : Return the domain of a spline.</span>
</span><span id="L-1394"><a href="#L-1394"><span class="linenos">1394</span></a><span class="sd">        `extrapolate` : Extrapolate a spline out to an extended domain maintaining a given order of continuity.</span>
</span><span id="L-1395"><a href="#L-1395"><span class="linenos">1395</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1396"><a href="#L-1396"><span class="linenos">1396</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newDomain</span><span class="p">)</span>
</span><span id="L-1397"><a href="#L-1397"><span class="linenos">1397</span></a>
</span><span id="L-1398"><a href="#L-1398"><span class="linenos">1398</span></a>    <span class="k">def</span> <span class="nf">unfold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">foldedInd</span><span class="p">,</span> <span class="n">coefficientlessSpline</span><span class="p">):</span>
</span><span id="L-1399"><a href="#L-1399"><span class="linenos">1399</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1400"><a href="#L-1400"><span class="linenos">1400</span></a><span class="sd">        Unfold the coefficients of an original spline&#39;s indicated independent variables back into the spline, using the </span>
</span><span id="L-1401"><a href="#L-1401"><span class="linenos">1401</span></a><span class="sd">        indicated independent variables&#39; knots and orders from a second spline with no coefficients.</span>
</span><span id="L-1402"><a href="#L-1402"><span class="linenos">1402</span></a>
</span><span id="L-1403"><a href="#L-1403"><span class="linenos">1403</span></a><span class="sd">        Parameters</span>
</span><span id="L-1404"><a href="#L-1404"><span class="linenos">1404</span></a><span class="sd">        ----------</span>
</span><span id="L-1405"><a href="#L-1405"><span class="linenos">1405</span></a><span class="sd">        foldedInd : `iterable`</span>
</span><span id="L-1406"><a href="#L-1406"><span class="linenos">1406</span></a><span class="sd">            An iterable that specifies the independent variables whose coefficients should be unfolded.</span>
</span><span id="L-1407"><a href="#L-1407"><span class="linenos">1407</span></a>
</span><span id="L-1408"><a href="#L-1408"><span class="linenos">1408</span></a><span class="sd">        coefficientlessSpline : `Spline`</span>
</span><span id="L-1409"><a href="#L-1409"><span class="linenos">1409</span></a><span class="sd">            The coefficientless spline that retains the indicated independent variables&#39; knots and orders.</span>
</span><span id="L-1410"><a href="#L-1410"><span class="linenos">1410</span></a>
</span><span id="L-1411"><a href="#L-1411"><span class="linenos">1411</span></a><span class="sd">        Returns</span>
</span><span id="L-1412"><a href="#L-1412"><span class="linenos">1412</span></a><span class="sd">        -------</span>
</span><span id="L-1413"><a href="#L-1413"><span class="linenos">1413</span></a><span class="sd">        unfoldedSpline : `Spline`, `Spline`</span>
</span><span id="L-1414"><a href="#L-1414"><span class="linenos">1414</span></a><span class="sd">            The unfolded spline.</span>
</span><span id="L-1415"><a href="#L-1415"><span class="linenos">1415</span></a>
</span><span id="L-1416"><a href="#L-1416"><span class="linenos">1416</span></a><span class="sd">        See Also</span>
</span><span id="L-1417"><a href="#L-1417"><span class="linenos">1417</span></a><span class="sd">        --------</span>
</span><span id="L-1418"><a href="#L-1418"><span class="linenos">1418</span></a><span class="sd">        `fold` : Fold the coefficients of a spline&#39;s indicated independent variables into the coefficients of the remaining independent variables.</span>
</span><span id="L-1419"><a href="#L-1419"><span class="linenos">1419</span></a>
</span><span id="L-1420"><a href="#L-1420"><span class="linenos">1420</span></a><span class="sd">        Notes</span>
</span><span id="L-1421"><a href="#L-1421"><span class="linenos">1421</span></a><span class="sd">        -----</span>
</span><span id="L-1422"><a href="#L-1422"><span class="linenos">1422</span></a><span class="sd">        Given a spline whose coefficients are an nDep x n0 x ... x nk array and a list of (ordered) indices which form a proper subset of {n0, ... , nk}, it should return 2 splines.</span>
</span><span id="L-1423"><a href="#L-1423"><span class="linenos">1423</span></a><span class="sd">        The first one is a spline with k + 1 - length(index subset) independent variables where the knot sets of all the dimensions which have been removed have been removed.  However, </span>
</span><span id="L-1424"><a href="#L-1424"><span class="linenos">1424</span></a><span class="sd">        all of the coefficient data is still intact, so that the resulting coefficient array has shape (nDep nj0 nj1 ... njj) x nk0 x ... x nkk.  The second spline should be a spline </span>
</span><span id="L-1425"><a href="#L-1425"><span class="linenos">1425</span></a><span class="sd">        with 0 dependent variables which contains all the knot sequences that were removed from the spline.  The unfold method takes the two splines as input and reverses the process, </span>
</span><span id="L-1426"><a href="#L-1426"><span class="linenos">1426</span></a><span class="sd">        returning the original spline.</span>
</span><span id="L-1427"><a href="#L-1427"><span class="linenos">1427</span></a>
</span><span id="L-1428"><a href="#L-1428"><span class="linenos">1428</span></a><span class="sd">        Here&#39;s an example. Suppose spl is a spline with 3 independent variables and 3 dependent variables which has nCoef = [4, 5, 6] and knots = [knots0, knots1, knots2]. </span>
</span><span id="L-1429"><a href="#L-1429"><span class="linenos">1429</span></a><span class="sd">        Then spl.fold([0, 2]) should return a spline with 1 independent variable and 72 dependent variables.  It should have nCoef = [5], knots = [knots1], and its coefs array should have </span>
</span><span id="L-1430"><a href="#L-1430"><span class="linenos">1430</span></a><span class="sd">        shape (72, 5).  The other spline should have 0 dependent variables, 2 independent variables, and knots = [knots0, knots2].  How things get ordered in coefs probably doesn&#39;t matter </span>
</span><span id="L-1431"><a href="#L-1431"><span class="linenos">1431</span></a><span class="sd">        so long as unfold unscrambles things in the corresponding way.  The second spline is needed to hold the basis information that was dropped so that it can be undone.</span>
</span><span id="L-1432"><a href="#L-1432"><span class="linenos">1432</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1433"><a href="#L-1433"><span class="linenos">1433</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">unfold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">foldedInd</span><span class="p">,</span> <span class="n">coefficientlessSpline</span><span class="p">)</span>
</span><span id="L-1434"><a href="#L-1434"><span class="linenos">1434</span></a>
</span><span id="L-1435"><a href="#L-1435"><span class="linenos">1435</span></a>    <span class="k">def</span> <span class="nf">zeros</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-1436"><a href="#L-1436"><span class="linenos">1436</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1437"><a href="#L-1437"><span class="linenos">1437</span></a><span class="sd">        Find the roots of a spline (nInd must match nDep).</span>
</span><span id="L-1438"><a href="#L-1438"><span class="linenos">1438</span></a>
</span><span id="L-1439"><a href="#L-1439"><span class="linenos">1439</span></a><span class="sd">        Parameters</span>
</span><span id="L-1440"><a href="#L-1440"><span class="linenos">1440</span></a><span class="sd">        ----------</span>
</span><span id="L-1441"><a href="#L-1441"><span class="linenos">1441</span></a><span class="sd">        epsilon : `float`, optional</span>
</span><span id="L-1442"><a href="#L-1442"><span class="linenos">1442</span></a><span class="sd">            Tolerance for root precision. The root will be within epsilon of the actual root. </span>
</span><span id="L-1443"><a href="#L-1443"><span class="linenos">1443</span></a><span class="sd">            The default is the max of spline accuracy and machine epsilon.</span>
</span><span id="L-1444"><a href="#L-1444"><span class="linenos">1444</span></a>
</span><span id="L-1445"><a href="#L-1445"><span class="linenos">1445</span></a><span class="sd">        Returns</span>
</span><span id="L-1446"><a href="#L-1446"><span class="linenos">1446</span></a><span class="sd">        -------</span>
</span><span id="L-1447"><a href="#L-1447"><span class="linenos">1447</span></a><span class="sd">        roots : `iterable`</span>
</span><span id="L-1448"><a href="#L-1448"><span class="linenos">1448</span></a><span class="sd">            An iterable containing the roots of the spline. If the spline is </span>
</span><span id="L-1449"><a href="#L-1449"><span class="linenos">1449</span></a><span class="sd">            zero over an interval, that root will appear as a tuple of the interval. </span>
</span><span id="L-1450"><a href="#L-1450"><span class="linenos">1450</span></a><span class="sd">            For curves (nInd == 1), the roots are ordered.</span>
</span><span id="L-1451"><a href="#L-1451"><span class="linenos">1451</span></a><span class="sd">        </span>
</span><span id="L-1452"><a href="#L-1452"><span class="linenos">1452</span></a><span class="sd">        See Also</span>
</span><span id="L-1453"><a href="#L-1453"><span class="linenos">1453</span></a><span class="sd">        --------</span>
</span><span id="L-1454"><a href="#L-1454"><span class="linenos">1454</span></a><span class="sd">        `intersect` : Intersect two splines.</span>
</span><span id="L-1455"><a href="#L-1455"><span class="linenos">1455</span></a><span class="sd">        `contour` : Fit a spline to the contour defined by `F(x) = 0`.</span>
</span><span id="L-1456"><a href="#L-1456"><span class="linenos">1456</span></a>
</span><span id="L-1457"><a href="#L-1457"><span class="linenos">1457</span></a><span class="sd">        Notes</span>
</span><span id="L-1458"><a href="#L-1458"><span class="linenos">1458</span></a><span class="sd">        -----</span>
</span><span id="L-1459"><a href="#L-1459"><span class="linenos">1459</span></a><span class="sd">        For curves (nInd == 1), it implements interval Newton&#39;s method from Grandine, Thomas A. &quot;Computing zeroes of spline functions.&quot; </span>
</span><span id="L-1460"><a href="#L-1460"><span class="linenos">1460</span></a><span class="sd">        Computer Aided Geometric Design 6, no. 2 (1989): 129-136.</span>
</span><span id="L-1461"><a href="#L-1461"><span class="linenos">1461</span></a><span class="sd">        For all higher dimensions, it implements the projected-polyhedron technique from Sherbrooke, Evan C., and Nicholas M. Patrikalakis. </span>
</span><span id="L-1462"><a href="#L-1462"><span class="linenos">1462</span></a><span class="sd">        &quot;Computation of the solutions of nonlinear polynomial systems.&quot; Computer Aided Geometric Design 10, no. 5 (1993): 379-405.</span>
</span><span id="L-1463"><a href="#L-1463"><span class="linenos">1463</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1464"><a href="#L-1464"><span class="linenos">1464</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nInd</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The number of independent variables (nInd) must match the number of dependent variables (nDep).&quot;</span><span class="p">)</span>
</span><span id="L-1465"><a href="#L-1465"><span class="linenos">1465</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nInd</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-1466"><a href="#L-1466"><span class="linenos">1466</span></a>            <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_intersection</span><span class="o">.</span><span class="n">zeros_using_interval_newton</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-1467"><a href="#L-1467"><span class="linenos">1467</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1468"><a href="#L-1468"><span class="linenos">1468</span></a>            <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_intersection</span><span class="o">.</span><span class="n">zeros_using_projected_polyhedron</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)</span>
</span></pre></div>


            </section>
                <section id="Spline">
                            <input id="Spline-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Spline</span>:

                <label class="view-source-button" for="Spline-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline-18"><a href="#Spline-18"><span class="linenos">  18</span></a><span class="k">class</span> <span class="nc">Spline</span><span class="p">:</span>
</span><span id="Spline-19"><a href="#Spline-19"><span class="linenos">  19</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-20"><a href="#Spline-20"><span class="linenos">  20</span></a><span class="sd">    A class to model, represent, and process piecewise polynomial tensor product</span>
</span><span id="Spline-21"><a href="#Spline-21"><span class="linenos">  21</span></a><span class="sd">    functions (splines) as linear combinations of B-splines. </span>
</span><span id="Spline-22"><a href="#Spline-22"><span class="linenos">  22</span></a>
</span><span id="Spline-23"><a href="#Spline-23"><span class="linenos">  23</span></a><span class="sd">    Parameters</span>
</span><span id="Spline-24"><a href="#Spline-24"><span class="linenos">  24</span></a><span class="sd">    ----------</span>
</span><span id="Spline-25"><a href="#Spline-25"><span class="linenos">  25</span></a><span class="sd">    nInd : `int`</span>
</span><span id="Spline-26"><a href="#Spline-26"><span class="linenos">  26</span></a><span class="sd">        The number of independent variables of the spline.</span>
</span><span id="Spline-27"><a href="#Spline-27"><span class="linenos">  27</span></a>
</span><span id="Spline-28"><a href="#Spline-28"><span class="linenos">  28</span></a><span class="sd">    nDep : `int`</span>
</span><span id="Spline-29"><a href="#Spline-29"><span class="linenos">  29</span></a><span class="sd">        The number of dependent variables of the spline.</span>
</span><span id="Spline-30"><a href="#Spline-30"><span class="linenos">  30</span></a><span class="sd">    </span>
</span><span id="Spline-31"><a href="#Spline-31"><span class="linenos">  31</span></a><span class="sd">    order : `tuple`</span>
</span><span id="Spline-32"><a href="#Spline-32"><span class="linenos">  32</span></a><span class="sd">        A tuple of length nInd where each integer entry represents the</span>
</span><span id="Spline-33"><a href="#Spline-33"><span class="linenos">  33</span></a><span class="sd">        polynomial order of the spline in that variable.</span>
</span><span id="Spline-34"><a href="#Spline-34"><span class="linenos">  34</span></a>
</span><span id="Spline-35"><a href="#Spline-35"><span class="linenos">  35</span></a><span class="sd">    nCoef : `tuple`</span>
</span><span id="Spline-36"><a href="#Spline-36"><span class="linenos">  36</span></a><span class="sd">        A tuple of length nInd where each integer entry represents the</span>
</span><span id="Spline-37"><a href="#Spline-37"><span class="linenos">  37</span></a><span class="sd">        dimension (i.e. number of B-spline coefficients) of the spline</span>
</span><span id="Spline-38"><a href="#Spline-38"><span class="linenos">  38</span></a><span class="sd">        in that variable.</span>
</span><span id="Spline-39"><a href="#Spline-39"><span class="linenos">  39</span></a>
</span><span id="Spline-40"><a href="#Spline-40"><span class="linenos">  40</span></a><span class="sd">    knots : `list`</span>
</span><span id="Spline-41"><a href="#Spline-41"><span class="linenos">  41</span></a><span class="sd">        A list of the lists of the knots of the spline in each independent variable.</span>
</span><span id="Spline-42"><a href="#Spline-42"><span class="linenos">  42</span></a>
</span><span id="Spline-43"><a href="#Spline-43"><span class="linenos">  43</span></a><span class="sd">    coefs : array-like</span>
</span><span id="Spline-44"><a href="#Spline-44"><span class="linenos">  44</span></a><span class="sd">        A list of the B-spline coefficients of the spline.</span>
</span><span id="Spline-45"><a href="#Spline-45"><span class="linenos">  45</span></a><span class="sd">    </span>
</span><span id="Spline-46"><a href="#Spline-46"><span class="linenos">  46</span></a><span class="sd">    accuracy : `float`, optional</span>
</span><span id="Spline-47"><a href="#Spline-47"><span class="linenos">  47</span></a><span class="sd">        Each spline is presumed to be an approximation of something else. </span>
</span><span id="Spline-48"><a href="#Spline-48"><span class="linenos">  48</span></a><span class="sd">        The `accuracy` stores the infinity norm error of the difference between </span>
</span><span id="Spline-49"><a href="#Spline-49"><span class="linenos">  49</span></a><span class="sd">        the given spline and that something else. Default is zero.</span>
</span><span id="Spline-50"><a href="#Spline-50"><span class="linenos">  50</span></a>
</span><span id="Spline-51"><a href="#Spline-51"><span class="linenos">  51</span></a><span class="sd">    metadata : `dict`, optional</span>
</span><span id="Spline-52"><a href="#Spline-52"><span class="linenos">  52</span></a><span class="sd">        A dictionary of ancillary data to store with the spline. Default is {}.</span>
</span><span id="Spline-53"><a href="#Spline-53"><span class="linenos">  53</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Spline-54"><a href="#Spline-54"><span class="linenos">  54</span></a>    
</span><span id="Spline-55"><a href="#Spline-55"><span class="linenos">  55</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nInd</span><span class="p">,</span> <span class="n">nDep</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">nCoef</span><span class="p">,</span> <span class="n">knots</span><span class="p">,</span> <span class="n">coefs</span><span class="p">,</span> <span class="n">accuracy</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="p">{}):</span>
</span><span id="Spline-56"><a href="#Spline-56"><span class="linenos">  56</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">nInd</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;nInd &lt; 0&quot;</span><span class="p">)</span>
</span><span id="Spline-57"><a href="#Spline-57"><span class="linenos">  57</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nInd</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">nInd</span><span class="p">)</span>
</span><span id="Spline-58"><a href="#Spline-58"><span class="linenos">  58</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">nDep</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;nDep &lt; 0&quot;</span><span class="p">)</span>
</span><span id="Spline-59"><a href="#Spline-59"><span class="linenos">  59</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">nDep</span><span class="p">)</span>
</span><span id="Spline-60"><a href="#Spline-60"><span class="linenos">  60</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">nInd</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;len(order) != nInd&quot;</span><span class="p">)</span>
</span><span id="Spline-61"><a href="#Spline-61"><span class="linenos">  61</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">order</span><span class="p">)</span>
</span><span id="Spline-62"><a href="#Spline-62"><span class="linenos">  62</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nCoef</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">nInd</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;len(nCoef) != nInd&quot;</span><span class="p">)</span>
</span><span id="Spline-63"><a href="#Spline-63"><span class="linenos">  63</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">nCoef</span><span class="p">)</span>
</span><span id="Spline-64"><a href="#Spline-64"><span class="linenos">  64</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">knots</span><span class="p">)</span> <span class="o">==</span> <span class="n">nInd</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;len(knots) != nInd&quot;</span><span class="p">)</span>
</span><span id="Spline-65"><a href="#Spline-65"><span class="linenos">  65</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">knots</span><span class="p">)):</span>
</span><span id="Spline-66"><a href="#Spline-66"><span class="linenos">  66</span></a>            <span class="n">nKnots</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="Spline-67"><a href="#Spline-67"><span class="linenos">  67</span></a>            <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">knots</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">==</span> <span class="n">nKnots</span><span class="p">):</span>
</span><span id="Spline-68"><a href="#Spline-68"><span class="linenos">  68</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Knots array for variable </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2"> should have length </span><span class="si">{</span><span class="n">nKnots</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="Spline-69"><a href="#Spline-69"><span class="linenos">  69</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">knots</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">kk</span><span class="p">)</span> <span class="k">for</span> <span class="n">kk</span> <span class="ow">in</span> <span class="n">knots</span><span class="p">)</span>
</span><span id="Spline-70"><a href="#Spline-70"><span class="linenos">  70</span></a>        <span class="k">for</span> <span class="n">knots</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">nCoef</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">knots</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">):</span>
</span><span id="Spline-71"><a href="#Spline-71"><span class="linenos">  71</span></a>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nCoef</span><span class="p">):</span>
</span><span id="Spline-72"><a href="#Spline-72"><span class="linenos">  72</span></a>                <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">knots</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">knots</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">knots</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">knots</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">order</span><span class="p">]):</span>
</span><span id="Spline-73"><a href="#Spline-73"><span class="linenos">  73</span></a>                       <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Improperly ordered knot sequence&quot;</span><span class="p">)</span>
</span><span id="Spline-74"><a href="#Spline-74"><span class="linenos">  74</span></a>        <span class="n">totalCoefs</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="Spline-75"><a href="#Spline-75"><span class="linenos">  75</span></a>        <span class="k">for</span> <span class="n">nCoef</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">:</span>
</span><span id="Spline-76"><a href="#Spline-76"><span class="linenos">  76</span></a>            <span class="n">totalCoefs</span> <span class="o">*=</span> <span class="n">nCoef</span>
</span><span id="Spline-77"><a href="#Spline-77"><span class="linenos">  77</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">coefs</span><span class="p">)</span> <span class="o">==</span> <span class="n">totalCoefs</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">coefs</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="p">):</span>
</span><span id="Spline-78"><a href="#Spline-78"><span class="linenos">  78</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Length of coefs should be </span><span class="si">{</span><span class="n">totalCoefs</span><span class="si">}</span><span class="s2"> or </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="Spline-79"><a href="#Spline-79"><span class="linenos">  79</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">coefs</span><span class="p">)</span>
</span><span id="Spline-80"><a href="#Spline-80"><span class="linenos">  80</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span><span class="o">.</span><span class="n">shape</span> <span class="o">!=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="p">,</span> <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">):</span>
</span><span id="Spline-81"><a href="#Spline-81"><span class="linenos">  81</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coefs</span><span class="p">)</span> <span class="o">==</span> <span class="n">totalCoefs</span><span class="p">:</span>
</span><span id="Spline-82"><a href="#Spline-82"><span class="linenos">  82</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
</span><span id="Spline-83"><a href="#Spline-83"><span class="linenos">  83</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Spline-84"><a href="#Spline-84"><span class="linenos">  84</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">c</span><span class="o">.</span><span class="n">T</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="p">,</span> <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">))</span>
</span><span id="Spline-85"><a href="#Spline-85"><span class="linenos">  85</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy</span>
</span><span id="Spline-86"><a href="#Spline-86"><span class="linenos">  86</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>
</span><span id="Spline-87"><a href="#Spline-87"><span class="linenos">  87</span></a>
</span><span id="Spline-88"><a href="#Spline-88"><span class="linenos">  88</span></a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">):</span>
</span><span id="Spline-89"><a href="#Spline-89"><span class="linenos">  89</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">uvw</span><span class="p">)</span>
</span><span id="Spline-90"><a href="#Spline-90"><span class="linenos">  90</span></a>
</span><span id="Spline-91"><a href="#Spline-91"><span class="linenos">  91</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Spline-92"><a href="#Spline-92"><span class="linenos">  92</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Spline(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nInd</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="si">}</span><span class="s2">, &quot;</span> <span class="o">+</span> \
</span><span id="Spline-93"><a href="#Spline-93"><span class="linenos">  93</span></a>               <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">knots</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">coefs</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">accuracy</span><span class="si">}</span><span class="s2">, &quot;</span> <span class="o">+</span> \
</span><span id="Spline-94"><a href="#Spline-94"><span class="linenos">  94</span></a>               <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="si">}</span><span class="s2">)&quot;</span>
</span><span id="Spline-95"><a href="#Spline-95"><span class="linenos">  95</span></a>
</span><span id="Spline-96"><a href="#Spline-96"><span class="linenos">  96</span></a>    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Spline-97"><a href="#Spline-97"><span class="linenos">  97</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Spline</span><span class="p">):</span>
</span><span id="Spline-98"><a href="#Spline-98"><span class="linenos">  98</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="Spline-99"><a href="#Spline-99"><span class="linenos">  99</span></a>        <span class="k">elif</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="Spline-100"><a href="#Spline-100"><span class="linenos"> 100</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="Spline-101"><a href="#Spline-101"><span class="linenos"> 101</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Spline-102"><a href="#Spline-102"><span class="linenos"> 102</span></a>            <span class="k">return</span> <span class="bp">NotImplemented</span>
</span><span id="Spline-103"><a href="#Spline-103"><span class="linenos"> 103</span></a>
</span><span id="Spline-104"><a href="#Spline-104"><span class="linenos"> 104</span></a>    <span class="k">def</span> <span class="fm">__radd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Spline-105"><a href="#Spline-105"><span class="linenos"> 105</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Spline</span><span class="p">):</span>
</span><span id="Spline-106"><a href="#Spline-106"><span class="linenos"> 106</span></a>            <span class="k">return</span> <span class="n">other</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Spline-107"><a href="#Spline-107"><span class="linenos"> 107</span></a>        <span class="k">elif</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="Spline-108"><a href="#Spline-108"><span class="linenos"> 108</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="Spline-109"><a href="#Spline-109"><span class="linenos"> 109</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Spline-110"><a href="#Spline-110"><span class="linenos"> 110</span></a>            <span class="k">return</span> <span class="bp">NotImplemented</span>
</span><span id="Spline-111"><a href="#Spline-111"><span class="linenos"> 111</span></a>
</span><span id="Spline-112"><a href="#Spline-112"><span class="linenos"> 112</span></a>    <span class="k">def</span> <span class="fm">__matmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Spline-113"><a href="#Spline-113"><span class="linenos"> 113</span></a>        <span class="k">if</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="Spline-114"><a href="#Spline-114"><span class="linenos"> 114</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
</span><span id="Spline-115"><a href="#Spline-115"><span class="linenos"> 115</span></a>                <span class="n">other</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="Spline-116"><a href="#Spline-116"><span class="linenos"> 116</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="Spline-117"><a href="#Spline-117"><span class="linenos"> 117</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
</span><span id="Spline-118"><a href="#Spline-118"><span class="linenos"> 118</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Spline-119"><a href="#Spline-119"><span class="linenos"> 119</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="Spline-120"><a href="#Spline-120"><span class="linenos"> 120</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Spline-121"><a href="#Spline-121"><span class="linenos"> 121</span></a>            <span class="k">return</span> <span class="bp">NotImplemented</span>
</span><span id="Spline-122"><a href="#Spline-122"><span class="linenos"> 122</span></a>
</span><span id="Spline-123"><a href="#Spline-123"><span class="linenos"> 123</span></a>    <span class="k">def</span> <span class="fm">__rmatmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Spline-124"><a href="#Spline-124"><span class="linenos"> 124</span></a>        <span class="k">if</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="Spline-125"><a href="#Spline-125"><span class="linenos"> 125</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
</span><span id="Spline-126"><a href="#Spline-126"><span class="linenos"> 126</span></a>                <span class="n">other</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="Spline-127"><a href="#Spline-127"><span class="linenos"> 127</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="Spline-128"><a href="#Spline-128"><span class="linenos"> 128</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="Spline-129"><a href="#Spline-129"><span class="linenos"> 129</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Spline-130"><a href="#Spline-130"><span class="linenos"> 130</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="Spline-131"><a href="#Spline-131"><span class="linenos"> 131</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Spline-132"><a href="#Spline-132"><span class="linenos"> 132</span></a>            <span class="k">return</span> <span class="bp">NotImplemented</span>
</span><span id="Spline-133"><a href="#Spline-133"><span class="linenos"> 133</span></a>
</span><span id="Spline-134"><a href="#Spline-134"><span class="linenos"> 134</span></a>    <span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Spline-135"><a href="#Spline-135"><span class="linenos"> 135</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Spline</span><span class="p">):</span>
</span><span id="Spline-136"><a href="#Spline-136"><span class="linenos"> 136</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">nDep</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Spline-137"><a href="#Spline-137"><span class="linenos"> 137</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">)</span>
</span><span id="Spline-138"><a href="#Spline-138"><span class="linenos"> 138</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Spline-139"><a href="#Spline-139"><span class="linenos"> 139</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">)</span>
</span><span id="Spline-140"><a href="#Spline-140"><span class="linenos"> 140</span></a>        <span class="k">elif</span> <span class="n">np</span><span class="o">.</span><span class="n">isscalar</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">or</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="Spline-141"><a href="#Spline-141"><span class="linenos"> 141</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="Spline-142"><a href="#Spline-142"><span class="linenos"> 142</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Spline-143"><a href="#Spline-143"><span class="linenos"> 143</span></a>            <span class="k">return</span> <span class="bp">NotImplemented</span>
</span><span id="Spline-144"><a href="#Spline-144"><span class="linenos"> 144</span></a>
</span><span id="Spline-145"><a href="#Spline-145"><span class="linenos"> 145</span></a>    <span class="k">def</span> <span class="fm">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Spline-146"><a href="#Spline-146"><span class="linenos"> 146</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Spline</span><span class="p">):</span>
</span><span id="Spline-147"><a href="#Spline-147"><span class="linenos"> 147</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">nDep</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Spline-148"><a href="#Spline-148"><span class="linenos"> 148</span></a>                <span class="k">return</span> <span class="n">other</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">)</span>
</span><span id="Spline-149"><a href="#Spline-149"><span class="linenos"> 149</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Spline-150"><a href="#Spline-150"><span class="linenos"> 150</span></a>                <span class="k">return</span> <span class="n">other</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">)</span>
</span><span id="Spline-151"><a href="#Spline-151"><span class="linenos"> 151</span></a>            <span class="k">return</span> <span class="n">other</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Spline-152"><a href="#Spline-152"><span class="linenos"> 152</span></a>        <span class="k">elif</span> <span class="n">np</span><span class="o">.</span><span class="n">isscalar</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">or</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="Spline-153"><a href="#Spline-153"><span class="linenos"> 153</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="Spline-154"><a href="#Spline-154"><span class="linenos"> 154</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Spline-155"><a href="#Spline-155"><span class="linenos"> 155</span></a>            <span class="k">return</span> <span class="bp">NotImplemented</span>
</span><span id="Spline-156"><a href="#Spline-156"><span class="linenos"> 156</span></a>
</span><span id="Spline-157"><a href="#Spline-157"><span class="linenos"> 157</span></a>    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Spline-158"><a href="#Spline-158"><span class="linenos"> 158</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Spline</span><span class="p">):</span>
</span><span id="Spline-159"><a href="#Spline-159"><span class="linenos"> 159</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="Spline-160"><a href="#Spline-160"><span class="linenos"> 160</span></a>        <span class="k">elif</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="Spline-161"><a href="#Spline-161"><span class="linenos"> 161</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
</span><span id="Spline-162"><a href="#Spline-162"><span class="linenos"> 162</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Spline-163"><a href="#Spline-163"><span class="linenos"> 163</span></a>            <span class="k">return</span> <span class="bp">NotImplemented</span>
</span><span id="Spline-164"><a href="#Spline-164"><span class="linenos"> 164</span></a>
</span><span id="Spline-165"><a href="#Spline-165"><span class="linenos"> 165</span></a>    <span class="k">def</span> <span class="fm">__rsub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Spline-166"><a href="#Spline-166"><span class="linenos"> 166</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Spline</span><span class="p">):</span>
</span><span id="Spline-167"><a href="#Spline-167"><span class="linenos"> 167</span></a>            <span class="k">return</span> <span class="n">other</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Spline-168"><a href="#Spline-168"><span class="linenos"> 168</span></a>        <span class="k">elif</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
</span><span id="Spline-169"><a href="#Spline-169"><span class="linenos"> 169</span></a>            <span class="n">spline</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
</span><span id="Spline-170"><a href="#Spline-170"><span class="linenos"> 170</span></a>            <span class="k">return</span> <span class="n">spline</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</span><span id="Spline-171"><a href="#Spline-171"><span class="linenos"> 171</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Spline-172"><a href="#Spline-172"><span class="linenos"> 172</span></a>            <span class="k">return</span> <span class="bp">NotImplemented</span>
</span><span id="Spline-173"><a href="#Spline-173"><span class="linenos"> 173</span></a>
</span><span id="Spline-174"><a href="#Spline-174"><span class="linenos"> 174</span></a>    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="Spline-175"><a href="#Spline-175"><span class="linenos"> 175</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-176"><a href="#Spline-176"><span class="linenos"> 176</span></a><span class="sd">        Add two splines.</span>
</span><span id="Spline-177"><a href="#Spline-177"><span class="linenos"> 177</span></a>
</span><span id="Spline-178"><a href="#Spline-178"><span class="linenos"> 178</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-179"><a href="#Spline-179"><span class="linenos"> 179</span></a><span class="sd">        ----------</span>
</span><span id="Spline-180"><a href="#Spline-180"><span class="linenos"> 180</span></a><span class="sd">        other : `Spline`</span>
</span><span id="Spline-181"><a href="#Spline-181"><span class="linenos"> 181</span></a><span class="sd">            The spline to add to self. The number of dependent variables must match self.</span>
</span><span id="Spline-182"><a href="#Spline-182"><span class="linenos"> 182</span></a>
</span><span id="Spline-183"><a href="#Spline-183"><span class="linenos"> 183</span></a><span class="sd">        indMap : `iterable` or `None`, optional</span>
</span><span id="Spline-184"><a href="#Spline-184"><span class="linenos"> 184</span></a><span class="sd">            An iterable of indices or pairs of indices. Each index refers to an independent variable.</span>
</span><span id="Spline-185"><a href="#Spline-185"><span class="linenos"> 185</span></a><span class="sd">            Within the iterable, a single index, `n`, maps the nth independent variable of self to the same independent variable of other.</span>
</span><span id="Spline-186"><a href="#Spline-186"><span class="linenos"> 186</span></a><span class="sd">            A pair `(n, m)` maps the nth independent variable of self to the mth independent variable of other. </span>
</span><span id="Spline-187"><a href="#Spline-187"><span class="linenos"> 187</span></a><span class="sd">            For example, if you wanted to compute `self(u, v, w) + other(u, w)`, you&#39;d pass `[0, (2, 1)]` for `indMap`. </span>
</span><span id="Spline-188"><a href="#Spline-188"><span class="linenos"> 188</span></a><span class="sd">            Unmapped independent variables remain independent (the default).</span>
</span><span id="Spline-189"><a href="#Spline-189"><span class="linenos"> 189</span></a><span class="sd">            The domains of mapped independent variables must match. </span>
</span><span id="Spline-190"><a href="#Spline-190"><span class="linenos"> 190</span></a><span class="sd">            An independent variable can map to no more than one other independent variable.</span>
</span><span id="Spline-191"><a href="#Spline-191"><span class="linenos"> 191</span></a>
</span><span id="Spline-192"><a href="#Spline-192"><span class="linenos"> 192</span></a><span class="sd">        Returns</span>
</span><span id="Spline-193"><a href="#Spline-193"><span class="linenos"> 193</span></a><span class="sd">        -------</span>
</span><span id="Spline-194"><a href="#Spline-194"><span class="linenos"> 194</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-195"><a href="#Spline-195"><span class="linenos"> 195</span></a><span class="sd">            The result of adding self and other.</span>
</span><span id="Spline-196"><a href="#Spline-196"><span class="linenos"> 196</span></a>
</span><span id="Spline-197"><a href="#Spline-197"><span class="linenos"> 197</span></a><span class="sd">        See Also</span>
</span><span id="Spline-198"><a href="#Spline-198"><span class="linenos"> 198</span></a><span class="sd">        --------</span>
</span><span id="Spline-199"><a href="#Spline-199"><span class="linenos"> 199</span></a><span class="sd">        `subtract` : Subtract two splines.</span>
</span><span id="Spline-200"><a href="#Spline-200"><span class="linenos"> 200</span></a><span class="sd">        `multiply` : Multiply two splines.</span>
</span><span id="Spline-201"><a href="#Spline-201"><span class="linenos"> 201</span></a><span class="sd">        `common_basis` : Align a collection of splines to a common basis, elevating the order and adding knots as needed.</span>
</span><span id="Spline-202"><a href="#Spline-202"><span class="linenos"> 202</span></a>
</span><span id="Spline-203"><a href="#Spline-203"><span class="linenos"> 203</span></a><span class="sd">        Notes</span>
</span><span id="Spline-204"><a href="#Spline-204"><span class="linenos"> 204</span></a><span class="sd">        -----</span>
</span><span id="Spline-205"><a href="#Spline-205"><span class="linenos"> 205</span></a><span class="sd">        Uses `common_basis` to ensure mapped variables share the same order and knots. </span>
</span><span id="Spline-206"><a href="#Spline-206"><span class="linenos"> 206</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-207"><a href="#Spline-207"><span class="linenos"> 207</span></a>        <span class="k">if</span> <span class="n">indMap</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Spline-208"><a href="#Spline-208"><span class="linenos"> 208</span></a>            <span class="n">indMap</span> <span class="o">=</span> <span class="p">[</span><span class="n">mapping</span> <span class="k">if</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">mapping</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">mapping</span><span class="p">)</span> <span class="k">for</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="n">indMap</span><span class="p">]</span>
</span><span id="Spline-209"><a href="#Spline-209"><span class="linenos"> 209</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span><span class="p">)</span>
</span><span id="Spline-210"><a href="#Spline-210"><span class="linenos"> 210</span></a>
</span><span id="Spline-211"><a href="#Spline-211"><span class="linenos"> 211</span></a>    <span class="k">def</span> <span class="nf">blossom</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">):</span>
</span><span id="Spline-212"><a href="#Spline-212"><span class="linenos"> 212</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-213"><a href="#Spline-213"><span class="linenos"> 213</span></a><span class="sd">        Compute the blossom of the spline at given parameter values.</span>
</span><span id="Spline-214"><a href="#Spline-214"><span class="linenos"> 214</span></a>
</span><span id="Spline-215"><a href="#Spline-215"><span class="linenos"> 215</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-216"><a href="#Spline-216"><span class="linenos"> 216</span></a><span class="sd">        ----------</span>
</span><span id="Spline-217"><a href="#Spline-217"><span class="linenos"> 217</span></a><span class="sd">        uvwValues : `iterable`</span>
</span><span id="Spline-218"><a href="#Spline-218"><span class="linenos"> 218</span></a><span class="sd">            An iterable of length `nInd` that specifies the degree-sized vectors of blossom parameters for each independent variable.</span>
</span><span id="Spline-219"><a href="#Spline-219"><span class="linenos"> 219</span></a>
</span><span id="Spline-220"><a href="#Spline-220"><span class="linenos"> 220</span></a><span class="sd">        Returns</span>
</span><span id="Spline-221"><a href="#Spline-221"><span class="linenos"> 221</span></a><span class="sd">        -------</span>
</span><span id="Spline-222"><a href="#Spline-222"><span class="linenos"> 222</span></a><span class="sd">        value : `numpy.array`</span>
</span><span id="Spline-223"><a href="#Spline-223"><span class="linenos"> 223</span></a><span class="sd">            The value of the spline&#39;s blossom at the given blossom parameters.</span>
</span><span id="Spline-224"><a href="#Spline-224"><span class="linenos"> 224</span></a>
</span><span id="Spline-225"><a href="#Spline-225"><span class="linenos"> 225</span></a><span class="sd">        See Also</span>
</span><span id="Spline-226"><a href="#Spline-226"><span class="linenos"> 226</span></a><span class="sd">        --------</span>
</span><span id="Spline-227"><a href="#Spline-227"><span class="linenos"> 227</span></a><span class="sd">        `evaluate` : Compute the value of the spline at a given parameter value.</span>
</span><span id="Spline-228"><a href="#Spline-228"><span class="linenos"> 228</span></a>
</span><span id="Spline-229"><a href="#Spline-229"><span class="linenos"> 229</span></a><span class="sd">        Notes</span>
</span><span id="Spline-230"><a href="#Spline-230"><span class="linenos"> 230</span></a><span class="sd">        -----</span>
</span><span id="Spline-231"><a href="#Spline-231"><span class="linenos"> 231</span></a><span class="sd">        Evaluates the blossom based on blossoming algorithm 1 found in Goldman, Ronald N. &quot;Blossoming and knot insertion algorithms for B-spline curves.&quot; </span>
</span><span id="Spline-232"><a href="#Spline-232"><span class="linenos"> 232</span></a><span class="sd">        Computer Aided Geometric Design 7, no. 1-4 (1990): 69-81.</span>
</span><span id="Spline-233"><a href="#Spline-233"><span class="linenos"> 233</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-234"><a href="#Spline-234"><span class="linenos"> 234</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">blossom</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">)</span>
</span><span id="Spline-235"><a href="#Spline-235"><span class="linenos"> 235</span></a>
</span><span id="Spline-236"><a href="#Spline-236"><span class="linenos"> 236</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Spline-237"><a href="#Spline-237"><span class="linenos"> 237</span></a>    <span class="k">def</span> <span class="nf">bspline_values</span><span class="p">(</span><span class="n">knot</span><span class="p">,</span> <span class="n">knots</span><span class="p">,</span> <span class="n">splineOrder</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">derivativeOrder</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">taylorCoefs</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="Spline-238"><a href="#Spline-238"><span class="linenos"> 238</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-239"><a href="#Spline-239"><span class="linenos"> 239</span></a><span class="sd">        Compute bspline values or their derivatives for a 1D bspline segment given the rightmost knot of the segment and a parameter value within that segment.</span>
</span><span id="Spline-240"><a href="#Spline-240"><span class="linenos"> 240</span></a>
</span><span id="Spline-241"><a href="#Spline-241"><span class="linenos"> 241</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-242"><a href="#Spline-242"><span class="linenos"> 242</span></a><span class="sd">        ----------</span>
</span><span id="Spline-243"><a href="#Spline-243"><span class="linenos"> 243</span></a><span class="sd">        knot : `int`</span>
</span><span id="Spline-244"><a href="#Spline-244"><span class="linenos"> 244</span></a><span class="sd">            The rightmost knot in the bspline segment.</span>
</span><span id="Spline-245"><a href="#Spline-245"><span class="linenos"> 245</span></a>
</span><span id="Spline-246"><a href="#Spline-246"><span class="linenos"> 246</span></a><span class="sd">        knots : array-like</span>
</span><span id="Spline-247"><a href="#Spline-247"><span class="linenos"> 247</span></a><span class="sd">            The array of knots for the bspline.</span>
</span><span id="Spline-248"><a href="#Spline-248"><span class="linenos"> 248</span></a><span class="sd">        </span>
</span><span id="Spline-249"><a href="#Spline-249"><span class="linenos"> 249</span></a><span class="sd">        splineOrder : `int`</span>
</span><span id="Spline-250"><a href="#Spline-250"><span class="linenos"> 250</span></a><span class="sd">            The order of the bspline.</span>
</span><span id="Spline-251"><a href="#Spline-251"><span class="linenos"> 251</span></a>
</span><span id="Spline-252"><a href="#Spline-252"><span class="linenos"> 252</span></a><span class="sd">        u : `float`</span>
</span><span id="Spline-253"><a href="#Spline-253"><span class="linenos"> 253</span></a><span class="sd">            The parameter value within the segment at which to evaluate it.</span>
</span><span id="Spline-254"><a href="#Spline-254"><span class="linenos"> 254</span></a><span class="sd">        </span>
</span><span id="Spline-255"><a href="#Spline-255"><span class="linenos"> 255</span></a><span class="sd">        derivativeOrder : `int`, optional</span>
</span><span id="Spline-256"><a href="#Spline-256"><span class="linenos"> 256</span></a><span class="sd">            The order of the derivative. A zero-order derivative (default) just evaluates the bspline normally.</span>
</span><span id="Spline-257"><a href="#Spline-257"><span class="linenos"> 257</span></a><span class="sd">        </span>
</span><span id="Spline-258"><a href="#Spline-258"><span class="linenos"> 258</span></a><span class="sd">        taylorCoefs : `boolean`, optional</span>
</span><span id="Spline-259"><a href="#Spline-259"><span class="linenos"> 259</span></a><span class="sd">            A boolean flag that if true returns the derivatives divided by their degree factorial, that is </span>
</span><span id="Spline-260"><a href="#Spline-260"><span class="linenos"> 260</span></a><span class="sd">            the taylor coefficients at the given parameter values. Default is false.</span>
</span><span id="Spline-261"><a href="#Spline-261"><span class="linenos"> 261</span></a>
</span><span id="Spline-262"><a href="#Spline-262"><span class="linenos"> 262</span></a><span class="sd">        Returns</span>
</span><span id="Spline-263"><a href="#Spline-263"><span class="linenos"> 263</span></a><span class="sd">        -------</span>
</span><span id="Spline-264"><a href="#Spline-264"><span class="linenos"> 264</span></a><span class="sd">        value : `numpy.array`</span>
</span><span id="Spline-265"><a href="#Spline-265"><span class="linenos"> 265</span></a><span class="sd">            The value of the bspline or its derivative at the given parameter.</span>
</span><span id="Spline-266"><a href="#Spline-266"><span class="linenos"> 266</span></a>
</span><span id="Spline-267"><a href="#Spline-267"><span class="linenos"> 267</span></a><span class="sd">        See Also</span>
</span><span id="Spline-268"><a href="#Spline-268"><span class="linenos"> 268</span></a><span class="sd">        --------</span>
</span><span id="Spline-269"><a href="#Spline-269"><span class="linenos"> 269</span></a><span class="sd">        `evaluate` : Compute the value of the spline at given parameter values.</span>
</span><span id="Spline-270"><a href="#Spline-270"><span class="linenos"> 270</span></a><span class="sd">        `derivative` : Compute the derivative of the spline at given parameter values.</span>
</span><span id="Spline-271"><a href="#Spline-271"><span class="linenos"> 271</span></a>
</span><span id="Spline-272"><a href="#Spline-272"><span class="linenos"> 272</span></a><span class="sd">        Notes</span>
</span><span id="Spline-273"><a href="#Spline-273"><span class="linenos"> 273</span></a><span class="sd">        -----</span>
</span><span id="Spline-274"><a href="#Spline-274"><span class="linenos"> 274</span></a><span class="sd">        This method does not check parameter values. It is used by other evaluation methods. It uses the de Boor recurrence relations for a B-spline.</span>
</span><span id="Spline-275"><a href="#Spline-275"><span class="linenos"> 275</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-276"><a href="#Spline-276"><span class="linenos"> 276</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">bspline_values</span><span class="p">(</span><span class="n">knot</span><span class="p">,</span> <span class="n">knots</span><span class="p">,</span> <span class="n">splineOrder</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">derivativeOrder</span><span class="p">,</span> <span class="n">taylorCoefs</span><span class="p">)</span>
</span><span id="Spline-277"><a href="#Spline-277"><span class="linenos"> 277</span></a>
</span><span id="Spline-278"><a href="#Spline-278"><span class="linenos"> 278</span></a>
</span><span id="Spline-279"><a href="#Spline-279"><span class="linenos"> 279</span></a>    <span class="k">def</span> <span class="nf">clamp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
</span><span id="Spline-280"><a href="#Spline-280"><span class="linenos"> 280</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-281"><a href="#Spline-281"><span class="linenos"> 281</span></a><span class="sd">        Ensure the leftmost/rightmost knot has a full order multiplicity, clamping the spline&#39;s </span>
</span><span id="Spline-282"><a href="#Spline-282"><span class="linenos"> 282</span></a><span class="sd">        value at the first/last knot to its first/last coefficient.</span>
</span><span id="Spline-283"><a href="#Spline-283"><span class="linenos"> 283</span></a>
</span><span id="Spline-284"><a href="#Spline-284"><span class="linenos"> 284</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-285"><a href="#Spline-285"><span class="linenos"> 285</span></a><span class="sd">        ----------</span>
</span><span id="Spline-286"><a href="#Spline-286"><span class="linenos"> 286</span></a><span class="sd">        left : `iterable`</span>
</span><span id="Spline-287"><a href="#Spline-287"><span class="linenos"> 287</span></a><span class="sd">            An iterable of independent variables to clamp on the left side.</span>
</span><span id="Spline-288"><a href="#Spline-288"><span class="linenos"> 288</span></a>
</span><span id="Spline-289"><a href="#Spline-289"><span class="linenos"> 289</span></a><span class="sd">        right : `iterable`</span>
</span><span id="Spline-290"><a href="#Spline-290"><span class="linenos"> 290</span></a><span class="sd">            An iterable of independent variables to clamp on the right side.</span>
</span><span id="Spline-291"><a href="#Spline-291"><span class="linenos"> 291</span></a>
</span><span id="Spline-292"><a href="#Spline-292"><span class="linenos"> 292</span></a><span class="sd">        Returns</span>
</span><span id="Spline-293"><a href="#Spline-293"><span class="linenos"> 293</span></a><span class="sd">        -------</span>
</span><span id="Spline-294"><a href="#Spline-294"><span class="linenos"> 294</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-295"><a href="#Spline-295"><span class="linenos"> 295</span></a><span class="sd">            The clamped spline. If the spline was already clamped, the original spline is returned.</span>
</span><span id="Spline-296"><a href="#Spline-296"><span class="linenos"> 296</span></a>
</span><span id="Spline-297"><a href="#Spline-297"><span class="linenos"> 297</span></a><span class="sd">        See Also</span>
</span><span id="Spline-298"><a href="#Spline-298"><span class="linenos"> 298</span></a><span class="sd">        --------</span>
</span><span id="Spline-299"><a href="#Spline-299"><span class="linenos"> 299</span></a><span class="sd">        `insert_knots` : Insert new knots into a spline.</span>
</span><span id="Spline-300"><a href="#Spline-300"><span class="linenos"> 300</span></a><span class="sd">        `trim` : Trim the domain of a spline.</span>
</span><span id="Spline-301"><a href="#Spline-301"><span class="linenos"> 301</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-302"><a href="#Spline-302"><span class="linenos"> 302</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">clamp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>
</span><span id="Spline-303"><a href="#Spline-303"><span class="linenos"> 303</span></a>
</span><span id="Spline-304"><a href="#Spline-304"><span class="linenos"> 304</span></a>    <span class="k">def</span> <span class="nf">common_basis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">splines</span><span class="p">,</span> <span class="n">indMap</span><span class="p">):</span>
</span><span id="Spline-305"><a href="#Spline-305"><span class="linenos"> 305</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-306"><a href="#Spline-306"><span class="linenos"> 306</span></a><span class="sd">        Align a collection of splines to a common basis, elevating the order and adding knots as needed.</span>
</span><span id="Spline-307"><a href="#Spline-307"><span class="linenos"> 307</span></a>
</span><span id="Spline-308"><a href="#Spline-308"><span class="linenos"> 308</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-309"><a href="#Spline-309"><span class="linenos"> 309</span></a><span class="sd">        ----------</span>
</span><span id="Spline-310"><a href="#Spline-310"><span class="linenos"> 310</span></a><span class="sd">        splines : `iterable`</span>
</span><span id="Spline-311"><a href="#Spline-311"><span class="linenos"> 311</span></a><span class="sd">            The collection of N - 1 splines to align (N total splines, including self).</span>
</span><span id="Spline-312"><a href="#Spline-312"><span class="linenos"> 312</span></a>
</span><span id="Spline-313"><a href="#Spline-313"><span class="linenos"> 313</span></a><span class="sd">        indMap : `iterable`</span>
</span><span id="Spline-314"><a href="#Spline-314"><span class="linenos"> 314</span></a><span class="sd">            The collection of independent variables to align. Since each spline can have multiple </span>
</span><span id="Spline-315"><a href="#Spline-315"><span class="linenos"> 315</span></a><span class="sd">            independent variables, `indMap` is an `iterable` of `iterables` (like a list of lists). </span>
</span><span id="Spline-316"><a href="#Spline-316"><span class="linenos"> 316</span></a><span class="sd">            Each collection of indices (i0, i1, .. iN) maps the i&#39;th independent variable to each other. </span>
</span><span id="Spline-317"><a href="#Spline-317"><span class="linenos"> 317</span></a><span class="sd">            The domains of mapped independent variables must match. </span>
</span><span id="Spline-318"><a href="#Spline-318"><span class="linenos"> 318</span></a><span class="sd">            An independent variable can map to no more than one other independent variable.</span>
</span><span id="Spline-319"><a href="#Spline-319"><span class="linenos"> 319</span></a><span class="sd">            If all the splines are curves (1 independent variable), then `indMap` is ((0, 0, .. 0),).</span>
</span><span id="Spline-320"><a href="#Spline-320"><span class="linenos"> 320</span></a>
</span><span id="Spline-321"><a href="#Spline-321"><span class="linenos"> 321</span></a><span class="sd">        Returns</span>
</span><span id="Spline-322"><a href="#Spline-322"><span class="linenos"> 322</span></a><span class="sd">        -------</span>
</span><span id="Spline-323"><a href="#Spline-323"><span class="linenos"> 323</span></a><span class="sd">        splines : `tuple`</span>
</span><span id="Spline-324"><a href="#Spline-324"><span class="linenos"> 324</span></a><span class="sd">            The aligned collection of N splines.</span>
</span><span id="Spline-325"><a href="#Spline-325"><span class="linenos"> 325</span></a>
</span><span id="Spline-326"><a href="#Spline-326"><span class="linenos"> 326</span></a><span class="sd">        See Also</span>
</span><span id="Spline-327"><a href="#Spline-327"><span class="linenos"> 327</span></a><span class="sd">        --------</span>
</span><span id="Spline-328"><a href="#Spline-328"><span class="linenos"> 328</span></a><span class="sd">        `elevate_and_insert_knots` : Elevate a spline and insert new knots.</span>
</span><span id="Spline-329"><a href="#Spline-329"><span class="linenos"> 329</span></a>
</span><span id="Spline-330"><a href="#Spline-330"><span class="linenos"> 330</span></a><span class="sd">        Notes</span>
</span><span id="Spline-331"><a href="#Spline-331"><span class="linenos"> 331</span></a><span class="sd">        -----</span>
</span><span id="Spline-332"><a href="#Spline-332"><span class="linenos"> 332</span></a><span class="sd">        Uses `elevate_and_insert_knots` to ensure mapped variables share the same order and knots. </span>
</span><span id="Spline-333"><a href="#Spline-333"><span class="linenos"> 333</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-334"><a href="#Spline-334"><span class="linenos"> 334</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">common_basis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">splines</span><span class="p">,</span> <span class="n">indMap</span><span class="p">)</span>
</span><span id="Spline-335"><a href="#Spline-335"><span class="linenos"> 335</span></a>
</span><span id="Spline-336"><a href="#Spline-336"><span class="linenos"> 336</span></a>    <span class="k">def</span> <span class="nf">confine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">range_bounds</span><span class="p">):</span>
</span><span id="Spline-337"><a href="#Spline-337"><span class="linenos"> 337</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-338"><a href="#Spline-338"><span class="linenos"> 338</span></a><span class="sd">        Confine the range of a curve to the given bounds.</span>
</span><span id="Spline-339"><a href="#Spline-339"><span class="linenos"> 339</span></a>
</span><span id="Spline-340"><a href="#Spline-340"><span class="linenos"> 340</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-341"><a href="#Spline-341"><span class="linenos"> 341</span></a><span class="sd">        ----------</span>
</span><span id="Spline-342"><a href="#Spline-342"><span class="linenos"> 342</span></a><span class="sd">        range_bounds : `iterable`</span>
</span><span id="Spline-343"><a href="#Spline-343"><span class="linenos"> 343</span></a><span class="sd">            The collection of `nDep` tuples that specify the lower and upper bounds for the curve.</span>
</span><span id="Spline-344"><a href="#Spline-344"><span class="linenos"> 344</span></a>
</span><span id="Spline-345"><a href="#Spline-345"><span class="linenos"> 345</span></a><span class="sd">        Returns</span>
</span><span id="Spline-346"><a href="#Spline-346"><span class="linenos"> 346</span></a><span class="sd">        -------</span>
</span><span id="Spline-347"><a href="#Spline-347"><span class="linenos"> 347</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-348"><a href="#Spline-348"><span class="linenos"> 348</span></a><span class="sd">            The confined spline. </span>
</span><span id="Spline-349"><a href="#Spline-349"><span class="linenos"> 349</span></a>
</span><span id="Spline-350"><a href="#Spline-350"><span class="linenos"> 350</span></a><span class="sd">        See Also</span>
</span><span id="Spline-351"><a href="#Spline-351"><span class="linenos"> 351</span></a><span class="sd">        --------</span>
</span><span id="Spline-352"><a href="#Spline-352"><span class="linenos"> 352</span></a><span class="sd">        `range_bounds` : Return the range of a spline as lower and upper bounds.</span>
</span><span id="Spline-353"><a href="#Spline-353"><span class="linenos"> 353</span></a><span class="sd">        `contour` : Fit a spline to the contour defined by `F(x) = 0`.</span>
</span><span id="Spline-354"><a href="#Spline-354"><span class="linenos"> 354</span></a>
</span><span id="Spline-355"><a href="#Spline-355"><span class="linenos"> 355</span></a><span class="sd">        Notes</span>
</span><span id="Spline-356"><a href="#Spline-356"><span class="linenos"> 356</span></a><span class="sd">        -----</span>
</span><span id="Spline-357"><a href="#Spline-357"><span class="linenos"> 357</span></a><span class="sd">        Only works for curves (`nInd == 1`). Portions of the curve that lie outside the bounds </span>
</span><span id="Spline-358"><a href="#Spline-358"><span class="linenos"> 358</span></a><span class="sd">        become lines along the boundary.</span>
</span><span id="Spline-359"><a href="#Spline-359"><span class="linenos"> 359</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-360"><a href="#Spline-360"><span class="linenos"> 360</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">confine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">range_bounds</span><span class="p">)</span>
</span><span id="Spline-361"><a href="#Spline-361"><span class="linenos"> 361</span></a>
</span><span id="Spline-362"><a href="#Spline-362"><span class="linenos"> 362</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Spline-363"><a href="#Spline-363"><span class="linenos"> 363</span></a>    <span class="k">def</span> <span class="nf">contour</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">knownXValues</span><span class="p">,</span> <span class="n">dF</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">epsilon</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="p">{}):</span>
</span><span id="Spline-364"><a href="#Spline-364"><span class="linenos"> 364</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-365"><a href="#Spline-365"><span class="linenos"> 365</span></a><span class="sd">        Fit a spline to the contour defined by `F(x) = 0`, where `F` maps n dimensions to </span>
</span><span id="Spline-366"><a href="#Spline-366"><span class="linenos"> 366</span></a><span class="sd">        n-1 dimensions. Thus, the solution, `x(t)`, is a contour curve (one degree of freedom) </span>
</span><span id="Spline-367"><a href="#Spline-367"><span class="linenos"> 367</span></a><span class="sd">        returned in the form of a spline.</span>
</span><span id="Spline-368"><a href="#Spline-368"><span class="linenos"> 368</span></a>
</span><span id="Spline-369"><a href="#Spline-369"><span class="linenos"> 369</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-370"><a href="#Spline-370"><span class="linenos"> 370</span></a><span class="sd">        ----------</span>
</span><span id="Spline-371"><a href="#Spline-371"><span class="linenos"> 371</span></a><span class="sd">        F : function or `Spline`</span>
</span><span id="Spline-372"><a href="#Spline-372"><span class="linenos"> 372</span></a><span class="sd">            A function or spline that takes an array-like argument of length `n` and returns an </span>
</span><span id="Spline-373"><a href="#Spline-373"><span class="linenos"> 373</span></a><span class="sd">            array-like result of length `n - 1`.</span>
</span><span id="Spline-374"><a href="#Spline-374"><span class="linenos"> 374</span></a>
</span><span id="Spline-375"><a href="#Spline-375"><span class="linenos"> 375</span></a><span class="sd">        knownXValues : `iterable` of array-like</span>
</span><span id="Spline-376"><a href="#Spline-376"><span class="linenos"> 376</span></a><span class="sd">            An `iterable` of known x values (array-like) that lie on the desired contour. </span>
</span><span id="Spline-377"><a href="#Spline-377"><span class="linenos"> 377</span></a><span class="sd">            The length of `knownXValues` must be at least 2 (for the two boundary conditions). </span>
</span><span id="Spline-378"><a href="#Spline-378"><span class="linenos"> 378</span></a><span class="sd">            All x values must be length `n` and be listed in the order they appear on the contour.  </span>
</span><span id="Spline-379"><a href="#Spline-379"><span class="linenos"> 379</span></a><span class="sd">            `F(x)` for all known x values must be a zero vector of length `n-1`.</span>
</span><span id="Spline-380"><a href="#Spline-380"><span class="linenos"> 380</span></a>
</span><span id="Spline-381"><a href="#Spline-381"><span class="linenos"> 381</span></a><span class="sd">        dF : `iterable` or `None`, optional</span>
</span><span id="Spline-382"><a href="#Spline-382"><span class="linenos"> 382</span></a><span class="sd">            An `iterable` of the `n` functions representing the `n` first derivatives of `F`. </span>
</span><span id="Spline-383"><a href="#Spline-383"><span class="linenos"> 383</span></a><span class="sd">            If `dF` is `None` (the default), the first derivatives will be computed for you. </span>
</span><span id="Spline-384"><a href="#Spline-384"><span class="linenos"> 384</span></a><span class="sd">            If `F` is not a spline, computing the first derivatives involves multiple calls to `F` </span>
</span><span id="Spline-385"><a href="#Spline-385"><span class="linenos"> 385</span></a><span class="sd">            and can be numerically unstable. </span>
</span><span id="Spline-386"><a href="#Spline-386"><span class="linenos"> 386</span></a>
</span><span id="Spline-387"><a href="#Spline-387"><span class="linenos"> 387</span></a><span class="sd">        epsilon : `float`, optional</span>
</span><span id="Spline-388"><a href="#Spline-388"><span class="linenos"> 388</span></a><span class="sd">            Tolerance for contour precision. Evaluating `F` with contour values will be within epsilon </span>
</span><span id="Spline-389"><a href="#Spline-389"><span class="linenos"> 389</span></a><span class="sd">            of zero. The default is square root of machine epsilon. The actual accuracy of the contour </span>
</span><span id="Spline-390"><a href="#Spline-390"><span class="linenos"> 390</span></a><span class="sd">            is returned as `spline.accuracy`.</span>
</span><span id="Spline-391"><a href="#Spline-391"><span class="linenos"> 391</span></a><span class="sd">            </span>
</span><span id="Spline-392"><a href="#Spline-392"><span class="linenos"> 392</span></a><span class="sd">        metadata : `dict`, optional</span>
</span><span id="Spline-393"><a href="#Spline-393"><span class="linenos"> 393</span></a><span class="sd">            A dictionary of ancillary data to store with the spline. Default is {}.</span>
</span><span id="Spline-394"><a href="#Spline-394"><span class="linenos"> 394</span></a>
</span><span id="Spline-395"><a href="#Spline-395"><span class="linenos"> 395</span></a><span class="sd">        Returns</span>
</span><span id="Spline-396"><a href="#Spline-396"><span class="linenos"> 396</span></a><span class="sd">        -------</span>
</span><span id="Spline-397"><a href="#Spline-397"><span class="linenos"> 397</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-398"><a href="#Spline-398"><span class="linenos"> 398</span></a><span class="sd">            The spline contour, `x(t)`, with nInd == 1 and nDep == n.</span>
</span><span id="Spline-399"><a href="#Spline-399"><span class="linenos"> 399</span></a>
</span><span id="Spline-400"><a href="#Spline-400"><span class="linenos"> 400</span></a><span class="sd">        See Also</span>
</span><span id="Spline-401"><a href="#Spline-401"><span class="linenos"> 401</span></a><span class="sd">        --------</span>
</span><span id="Spline-402"><a href="#Spline-402"><span class="linenos"> 402</span></a><span class="sd">        `least_squares` : Fit a spline to an array of data points using the method of least squares.</span>
</span><span id="Spline-403"><a href="#Spline-403"><span class="linenos"> 403</span></a><span class="sd">        `contours` : Find all the contour curves of a spline.</span>
</span><span id="Spline-404"><a href="#Spline-404"><span class="linenos"> 404</span></a><span class="sd">        `confine` : Confine the range of a curve to the given bounds.</span>
</span><span id="Spline-405"><a href="#Spline-405"><span class="linenos"> 405</span></a>
</span><span id="Spline-406"><a href="#Spline-406"><span class="linenos"> 406</span></a><span class="sd">        Notes</span>
</span><span id="Spline-407"><a href="#Spline-407"><span class="linenos"> 407</span></a><span class="sd">        -----</span>
</span><span id="Spline-408"><a href="#Spline-408"><span class="linenos"> 408</span></a><span class="sd">        The returned spline has constant parametric speed (the length of its derivative is constant). </span>
</span><span id="Spline-409"><a href="#Spline-409"><span class="linenos"> 409</span></a><span class="sd">        If `F` is a `Spline`, then the range of the returned contour is confined to the domain of `F`. </span>
</span><span id="Spline-410"><a href="#Spline-410"><span class="linenos"> 410</span></a><span class="sd">        Implements the algorithm described in section 7 of Grandine, Thomas A. </span>
</span><span id="Spline-411"><a href="#Spline-411"><span class="linenos"> 411</span></a><span class="sd">        &quot;Applications of contouring.&quot; Siam Review 42, no. 2 (2000): 297-316.</span>
</span><span id="Spline-412"><a href="#Spline-412"><span class="linenos"> 412</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-413"><a href="#Spline-413"><span class="linenos"> 413</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_fitting</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">knownXValues</span><span class="p">,</span> <span class="n">dF</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
</span><span id="Spline-414"><a href="#Spline-414"><span class="linenos"> 414</span></a>
</span><span id="Spline-415"><a href="#Spline-415"><span class="linenos"> 415</span></a>    <span class="k">def</span> <span class="nf">contours</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Spline-416"><a href="#Spline-416"><span class="linenos"> 416</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-417"><a href="#Spline-417"><span class="linenos"> 417</span></a><span class="sd">        Find all the contour curves of a spline whose `nInd` is one larger than its `nDep`.</span>
</span><span id="Spline-418"><a href="#Spline-418"><span class="linenos"> 418</span></a>
</span><span id="Spline-419"><a href="#Spline-419"><span class="linenos"> 419</span></a><span class="sd">        Returns</span>
</span><span id="Spline-420"><a href="#Spline-420"><span class="linenos"> 420</span></a><span class="sd">        -------</span>
</span><span id="Spline-421"><a href="#Spline-421"><span class="linenos"> 421</span></a><span class="sd">        curves : `iterable`</span>
</span><span id="Spline-422"><a href="#Spline-422"><span class="linenos"> 422</span></a><span class="sd">            A collection of `Spline` curves, `u(t)`, each of whose domain is [0, 1], whose range is</span>
</span><span id="Spline-423"><a href="#Spline-423"><span class="linenos"> 423</span></a><span class="sd">            in the parameter space of the given spline, and which satisfy `self(u(t)) = 0`. </span>
</span><span id="Spline-424"><a href="#Spline-424"><span class="linenos"> 424</span></a>
</span><span id="Spline-425"><a href="#Spline-425"><span class="linenos"> 425</span></a><span class="sd">        See Also</span>
</span><span id="Spline-426"><a href="#Spline-426"><span class="linenos"> 426</span></a><span class="sd">        --------</span>
</span><span id="Spline-427"><a href="#Spline-427"><span class="linenos"> 427</span></a><span class="sd">        `zeros` : Find the roots of a spline (nInd must match nDep).</span>
</span><span id="Spline-428"><a href="#Spline-428"><span class="linenos"> 428</span></a><span class="sd">        `contour` : Fit a spline to the contour defined by `F(x) = 0`.</span>
</span><span id="Spline-429"><a href="#Spline-429"><span class="linenos"> 429</span></a><span class="sd">        `intersect` : Intersect two splines.</span>
</span><span id="Spline-430"><a href="#Spline-430"><span class="linenos"> 430</span></a>
</span><span id="Spline-431"><a href="#Spline-431"><span class="linenos"> 431</span></a><span class="sd">        Notes</span>
</span><span id="Spline-432"><a href="#Spline-432"><span class="linenos"> 432</span></a><span class="sd">        -----</span>
</span><span id="Spline-433"><a href="#Spline-433"><span class="linenos"> 433</span></a><span class="sd">        Uses `zeros` to find all intersection points and `contour` to find individual intersection curves. </span>
</span><span id="Spline-434"><a href="#Spline-434"><span class="linenos"> 434</span></a><span class="sd">        The algorithm used to to find all intersection curves is from Grandine, Thomas A., and Frederick W. Klein IV. </span>
</span><span id="Spline-435"><a href="#Spline-435"><span class="linenos"> 435</span></a><span class="sd">        &quot;A new approach to the surface intersection problem.&quot; Computer Aided Geometric Design 14, no. 2 (1997): 111-134.</span>
</span><span id="Spline-436"><a href="#Spline-436"><span class="linenos"> 436</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-437"><a href="#Spline-437"><span class="linenos"> 437</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_intersection</span><span class="o">.</span><span class="n">contours</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Spline-438"><a href="#Spline-438"><span class="linenos"> 438</span></a>
</span><span id="Spline-439"><a href="#Spline-439"><span class="linenos"> 439</span></a>    <span class="k">def</span> <span class="nf">contract</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">):</span>
</span><span id="Spline-440"><a href="#Spline-440"><span class="linenos"> 440</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-441"><a href="#Spline-441"><span class="linenos"> 441</span></a><span class="sd">        Contract a spline by assigning a fixed value to one or more of its independent variables.</span>
</span><span id="Spline-442"><a href="#Spline-442"><span class="linenos"> 442</span></a>
</span><span id="Spline-443"><a href="#Spline-443"><span class="linenos"> 443</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-444"><a href="#Spline-444"><span class="linenos"> 444</span></a><span class="sd">        ----------</span>
</span><span id="Spline-445"><a href="#Spline-445"><span class="linenos"> 445</span></a><span class="sd">        uvw : `iterable`</span>
</span><span id="Spline-446"><a href="#Spline-446"><span class="linenos"> 446</span></a><span class="sd">            An iterable of length `nInd` that specifies the values of each independent variable to contract.</span>
</span><span id="Spline-447"><a href="#Spline-447"><span class="linenos"> 447</span></a><span class="sd">            A value of `None` for an independent variable indicates that variable should remain unchanged.</span>
</span><span id="Spline-448"><a href="#Spline-448"><span class="linenos"> 448</span></a>
</span><span id="Spline-449"><a href="#Spline-449"><span class="linenos"> 449</span></a><span class="sd">        Returns</span>
</span><span id="Spline-450"><a href="#Spline-450"><span class="linenos"> 450</span></a><span class="sd">        -------</span>
</span><span id="Spline-451"><a href="#Spline-451"><span class="linenos"> 451</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-452"><a href="#Spline-452"><span class="linenos"> 452</span></a><span class="sd">            The contracted spline.</span>
</span><span id="Spline-453"><a href="#Spline-453"><span class="linenos"> 453</span></a>
</span><span id="Spline-454"><a href="#Spline-454"><span class="linenos"> 454</span></a><span class="sd">        See Also</span>
</span><span id="Spline-455"><a href="#Spline-455"><span class="linenos"> 455</span></a><span class="sd">        --------</span>
</span><span id="Spline-456"><a href="#Spline-456"><span class="linenos"> 456</span></a><span class="sd">        `evaluate` : Compute the value of the spline at given parameter values.</span>
</span><span id="Spline-457"><a href="#Spline-457"><span class="linenos"> 457</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-458"><a href="#Spline-458"><span class="linenos"> 458</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">contract</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">)</span>
</span><span id="Spline-459"><a href="#Spline-459"><span class="linenos"> 459</span></a>
</span><span id="Spline-460"><a href="#Spline-460"><span class="linenos"> 460</span></a>    <span class="k">def</span> <span class="nf">convolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">productType</span> <span class="o">=</span> <span class="s1">&#39;S&#39;</span><span class="p">):</span>
</span><span id="Spline-461"><a href="#Spline-461"><span class="linenos"> 461</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-462"><a href="#Spline-462"><span class="linenos"> 462</span></a><span class="sd">        Convolve two splines (cross, dot, or scalar product).</span>
</span><span id="Spline-463"><a href="#Spline-463"><span class="linenos"> 463</span></a>
</span><span id="Spline-464"><a href="#Spline-464"><span class="linenos"> 464</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-465"><a href="#Spline-465"><span class="linenos"> 465</span></a><span class="sd">        ----------</span>
</span><span id="Spline-466"><a href="#Spline-466"><span class="linenos"> 466</span></a><span class="sd">        other : `Spline`</span>
</span><span id="Spline-467"><a href="#Spline-467"><span class="linenos"> 467</span></a><span class="sd">            The spline to convolve with self.</span>
</span><span id="Spline-468"><a href="#Spline-468"><span class="linenos"> 468</span></a>
</span><span id="Spline-469"><a href="#Spline-469"><span class="linenos"> 469</span></a><span class="sd">        indMap : `iterable` or `None`, optional</span>
</span><span id="Spline-470"><a href="#Spline-470"><span class="linenos"> 470</span></a><span class="sd">            An iterable of indices or pairs of indices. Each index refers to an independent variable.</span>
</span><span id="Spline-471"><a href="#Spline-471"><span class="linenos"> 471</span></a><span class="sd">            Within the iterable, a single index, `n`, maps the nth independent variable of self to the same independent variable of other.</span>
</span><span id="Spline-472"><a href="#Spline-472"><span class="linenos"> 472</span></a><span class="sd">            A pair `(n, m)` maps the nth independent variable of self to the mth independent variable of other. </span>
</span><span id="Spline-473"><a href="#Spline-473"><span class="linenos"> 473</span></a><span class="sd">            For example, if you wanted to convolve `self(u, v, w)` with `other(u, w)`, you&#39;d pass `[0, (2, 1)]` for `indMap`. </span>
</span><span id="Spline-474"><a href="#Spline-474"><span class="linenos"> 474</span></a><span class="sd">            Unmapped independent variables remain independent (the default).</span>
</span><span id="Spline-475"><a href="#Spline-475"><span class="linenos"> 475</span></a><span class="sd">            An independent variable can map to no more than one other independent variable.</span>
</span><span id="Spline-476"><a href="#Spline-476"><span class="linenos"> 476</span></a>
</span><span id="Spline-477"><a href="#Spline-477"><span class="linenos"> 477</span></a><span class="sd">        productType : {&#39;C&#39;, &#39;D&#39;, &#39;S&#39;}, optional</span>
</span><span id="Spline-478"><a href="#Spline-478"><span class="linenos"> 478</span></a><span class="sd">            The type of product to perform on the dependent variables (default is &#39;S&#39;).</span>
</span><span id="Spline-479"><a href="#Spline-479"><span class="linenos"> 479</span></a><span class="sd">                &#39;C&#39; is for a cross product, self x other (nDep must be 2 or 3).</span>
</span><span id="Spline-480"><a href="#Spline-480"><span class="linenos"> 480</span></a><span class="sd">                &#39;D&#39; is for a dot product (nDep must match).</span>
</span><span id="Spline-481"><a href="#Spline-481"><span class="linenos"> 481</span></a><span class="sd">                &#39;S&#39; is for a scalar product (nDep must be 1 for one of the splines).</span>
</span><span id="Spline-482"><a href="#Spline-482"><span class="linenos"> 482</span></a><span class="sd">        </span>
</span><span id="Spline-483"><a href="#Spline-483"><span class="linenos"> 483</span></a><span class="sd">        Returns</span>
</span><span id="Spline-484"><a href="#Spline-484"><span class="linenos"> 484</span></a><span class="sd">        -------</span>
</span><span id="Spline-485"><a href="#Spline-485"><span class="linenos"> 485</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-486"><a href="#Spline-486"><span class="linenos"> 486</span></a><span class="sd">            The result of convolving self with other.</span>
</span><span id="Spline-487"><a href="#Spline-487"><span class="linenos"> 487</span></a>
</span><span id="Spline-488"><a href="#Spline-488"><span class="linenos"> 488</span></a><span class="sd">        See Also</span>
</span><span id="Spline-489"><a href="#Spline-489"><span class="linenos"> 489</span></a><span class="sd">        --------</span>
</span><span id="Spline-490"><a href="#Spline-490"><span class="linenos"> 490</span></a><span class="sd">        `multiply` : Multiply two splines (cross, dot, or scalar product).</span>
</span><span id="Spline-491"><a href="#Spline-491"><span class="linenos"> 491</span></a><span class="sd">        `integrate` : Integrate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="Spline-492"><a href="#Spline-492"><span class="linenos"> 492</span></a>
</span><span id="Spline-493"><a href="#Spline-493"><span class="linenos"> 493</span></a><span class="sd">        Notes</span>
</span><span id="Spline-494"><a href="#Spline-494"><span class="linenos"> 494</span></a><span class="sd">        -----</span>
</span><span id="Spline-495"><a href="#Spline-495"><span class="linenos"> 495</span></a><span class="sd">        Taken in part from Lee, E. T. Y. &quot;Computing a chain of blossoms, with application to products of splines.&quot; </span>
</span><span id="Spline-496"><a href="#Spline-496"><span class="linenos"> 496</span></a><span class="sd">        Computer Aided Geometric Design 11, no. 6 (1994): 597-620.</span>
</span><span id="Spline-497"><a href="#Spline-497"><span class="linenos"> 497</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-498"><a href="#Spline-498"><span class="linenos"> 498</span></a>        <span class="k">if</span> <span class="n">indMap</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Spline-499"><a href="#Spline-499"><span class="linenos"> 499</span></a>            <span class="n">indMap</span> <span class="o">=</span> <span class="p">[(</span><span class="o">*</span><span class="p">(</span><span class="n">mapping</span> <span class="k">if</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">mapping</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">mapping</span><span class="p">)),</span> <span class="kc">True</span><span class="p">)</span> <span class="k">for</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="n">indMap</span><span class="p">]</span>
</span><span id="Spline-500"><a href="#Spline-500"><span class="linenos"> 500</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">multiplyAndConvolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span><span class="p">,</span> <span class="n">productType</span><span class="p">)</span>
</span><span id="Spline-501"><a href="#Spline-501"><span class="linenos"> 501</span></a>
</span><span id="Spline-502"><a href="#Spline-502"><span class="linenos"> 502</span></a>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{}):</span>
</span><span id="Spline-503"><a href="#Spline-503"><span class="linenos"> 503</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-504"><a href="#Spline-504"><span class="linenos"> 504</span></a><span class="sd">        Create a copy of a spline.</span>
</span><span id="Spline-505"><a href="#Spline-505"><span class="linenos"> 505</span></a>
</span><span id="Spline-506"><a href="#Spline-506"><span class="linenos"> 506</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-507"><a href="#Spline-507"><span class="linenos"> 507</span></a><span class="sd">        ----------</span>
</span><span id="Spline-508"><a href="#Spline-508"><span class="linenos"> 508</span></a><span class="sd">        metadata : `dict`, optional</span>
</span><span id="Spline-509"><a href="#Spline-509"><span class="linenos"> 509</span></a><span class="sd">            A dictionary of ancillary data to store with the spline. Default is {}.</span>
</span><span id="Spline-510"><a href="#Spline-510"><span class="linenos"> 510</span></a><span class="sd">        </span>
</span><span id="Spline-511"><a href="#Spline-511"><span class="linenos"> 511</span></a><span class="sd">        Returns</span>
</span><span id="Spline-512"><a href="#Spline-512"><span class="linenos"> 512</span></a><span class="sd">        -------</span>
</span><span id="Spline-513"><a href="#Spline-513"><span class="linenos"> 513</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-514"><a href="#Spline-514"><span class="linenos"> 514</span></a><span class="sd">            The spline copy.</span>
</span><span id="Spline-515"><a href="#Spline-515"><span class="linenos"> 515</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-516"><a href="#Spline-516"><span class="linenos"> 516</span></a>        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="bp">self</span><span class="o">.</span><span class="n">nInd</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">knots</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">accuracy</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
</span><span id="Spline-517"><a href="#Spline-517"><span class="linenos"> 517</span></a>
</span><span id="Spline-518"><a href="#Spline-518"><span class="linenos"> 518</span></a>    <span class="k">def</span> <span class="nf">cross</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vector</span><span class="p">):</span>
</span><span id="Spline-519"><a href="#Spline-519"><span class="linenos"> 519</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-520"><a href="#Spline-520"><span class="linenos"> 520</span></a><span class="sd">        Cross product a spline with `nDep` of 2 or 3 by the given vector.</span>
</span><span id="Spline-521"><a href="#Spline-521"><span class="linenos"> 521</span></a>
</span><span id="Spline-522"><a href="#Spline-522"><span class="linenos"> 522</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-523"><a href="#Spline-523"><span class="linenos"> 523</span></a><span class="sd">        ----------</span>
</span><span id="Spline-524"><a href="#Spline-524"><span class="linenos"> 524</span></a><span class="sd">        vector : array-like or `Spline`</span>
</span><span id="Spline-525"><a href="#Spline-525"><span class="linenos"> 525</span></a><span class="sd">            An array of length 2 or 3 or spline with `nDep` of 2 or 3 that specifies the vector.</span>
</span><span id="Spline-526"><a href="#Spline-526"><span class="linenos"> 526</span></a>
</span><span id="Spline-527"><a href="#Spline-527"><span class="linenos"> 527</span></a><span class="sd">        Returns</span>
</span><span id="Spline-528"><a href="#Spline-528"><span class="linenos"> 528</span></a><span class="sd">        -------</span>
</span><span id="Spline-529"><a href="#Spline-529"><span class="linenos"> 529</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-530"><a href="#Spline-530"><span class="linenos"> 530</span></a><span class="sd">            The crossed spline: self x vector.</span>
</span><span id="Spline-531"><a href="#Spline-531"><span class="linenos"> 531</span></a>
</span><span id="Spline-532"><a href="#Spline-532"><span class="linenos"> 532</span></a><span class="sd">        See Also</span>
</span><span id="Spline-533"><a href="#Spline-533"><span class="linenos"> 533</span></a><span class="sd">        --------</span>
</span><span id="Spline-534"><a href="#Spline-534"><span class="linenos"> 534</span></a><span class="sd">        `multiply` : Multiply two splines (cross, dot, or scalar product).</span>
</span><span id="Spline-535"><a href="#Spline-535"><span class="linenos"> 535</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-536"><a href="#Spline-536"><span class="linenos"> 536</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vector</span><span class="p">)</span>
</span><span id="Spline-537"><a href="#Spline-537"><span class="linenos"> 537</span></a>
</span><span id="Spline-538"><a href="#Spline-538"><span class="linenos"> 538</span></a>    <span class="k">def</span> <span class="nf">derivative</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span><span class="p">,</span> <span class="n">uvw</span><span class="p">):</span>
</span><span id="Spline-539"><a href="#Spline-539"><span class="linenos"> 539</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-540"><a href="#Spline-540"><span class="linenos"> 540</span></a><span class="sd">        Compute the derivative of the spline at given parameter values.</span>
</span><span id="Spline-541"><a href="#Spline-541"><span class="linenos"> 541</span></a>
</span><span id="Spline-542"><a href="#Spline-542"><span class="linenos"> 542</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-543"><a href="#Spline-543"><span class="linenos"> 543</span></a><span class="sd">        ----------</span>
</span><span id="Spline-544"><a href="#Spline-544"><span class="linenos"> 544</span></a><span class="sd">        with_respect_to : `iterable`</span>
</span><span id="Spline-545"><a href="#Spline-545"><span class="linenos"> 545</span></a><span class="sd">            An iterable of length `nInd` that specifies the integer order of derivative for each independent variable.</span>
</span><span id="Spline-546"><a href="#Spline-546"><span class="linenos"> 546</span></a><span class="sd">            A zero-order derivative just evaluates the spline normally.</span>
</span><span id="Spline-547"><a href="#Spline-547"><span class="linenos"> 547</span></a><span class="sd">        </span>
</span><span id="Spline-548"><a href="#Spline-548"><span class="linenos"> 548</span></a><span class="sd">        uvw : `iterable`</span>
</span><span id="Spline-549"><a href="#Spline-549"><span class="linenos"> 549</span></a><span class="sd">            An iterable of length `nInd` that specifies the values of each independent variable (the parameter values).</span>
</span><span id="Spline-550"><a href="#Spline-550"><span class="linenos"> 550</span></a>
</span><span id="Spline-551"><a href="#Spline-551"><span class="linenos"> 551</span></a><span class="sd">        Returns</span>
</span><span id="Spline-552"><a href="#Spline-552"><span class="linenos"> 552</span></a><span class="sd">        -------</span>
</span><span id="Spline-553"><a href="#Spline-553"><span class="linenos"> 553</span></a><span class="sd">        value : `numpy.array`</span>
</span><span id="Spline-554"><a href="#Spline-554"><span class="linenos"> 554</span></a><span class="sd">            The value of the derivative of the spline at the given parameter values.</span>
</span><span id="Spline-555"><a href="#Spline-555"><span class="linenos"> 555</span></a>
</span><span id="Spline-556"><a href="#Spline-556"><span class="linenos"> 556</span></a><span class="sd">        See Also</span>
</span><span id="Spline-557"><a href="#Spline-557"><span class="linenos"> 557</span></a><span class="sd">        --------</span>
</span><span id="Spline-558"><a href="#Spline-558"><span class="linenos"> 558</span></a><span class="sd">        `evaluate` : Compute the value of the spline at a given parameter value.</span>
</span><span id="Spline-559"><a href="#Spline-559"><span class="linenos"> 559</span></a><span class="sd">        `differentiate` : Differentiate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="Spline-560"><a href="#Spline-560"><span class="linenos"> 560</span></a><span class="sd">        `integral` : Compute the integral of the spline at a given parameter value.</span>
</span><span id="Spline-561"><a href="#Spline-561"><span class="linenos"> 561</span></a><span class="sd">        `integrate` : Integrate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="Spline-562"><a href="#Spline-562"><span class="linenos"> 562</span></a>
</span><span id="Spline-563"><a href="#Spline-563"><span class="linenos"> 563</span></a><span class="sd">        Notes</span>
</span><span id="Spline-564"><a href="#Spline-564"><span class="linenos"> 564</span></a><span class="sd">        -----</span>
</span><span id="Spline-565"><a href="#Spline-565"><span class="linenos"> 565</span></a><span class="sd">        The derivative method uses the de Boor recurrence relations for a B-spline</span>
</span><span id="Spline-566"><a href="#Spline-566"><span class="linenos"> 566</span></a><span class="sd">        series to evaluate a spline.  The non-zero B-splines are</span>
</span><span id="Spline-567"><a href="#Spline-567"><span class="linenos"> 567</span></a><span class="sd">        evaluated, then the dot product of those B-splines with the vector of</span>
</span><span id="Spline-568"><a href="#Spline-568"><span class="linenos"> 568</span></a><span class="sd">        B-spline coefficients is computed.</span>
</span><span id="Spline-569"><a href="#Spline-569"><span class="linenos"> 569</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-570"><a href="#Spline-570"><span class="linenos"> 570</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span><span class="p">,</span> <span class="n">uvw</span><span class="p">)</span>
</span><span id="Spline-571"><a href="#Spline-571"><span class="linenos"> 571</span></a>
</span><span id="Spline-572"><a href="#Spline-572"><span class="linenos"> 572</span></a>    <span class="k">def</span> <span class="nf">differentiate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="Spline-573"><a href="#Spline-573"><span class="linenos"> 573</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-574"><a href="#Spline-574"><span class="linenos"> 574</span></a><span class="sd">        Differentiate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="Spline-575"><a href="#Spline-575"><span class="linenos"> 575</span></a>
</span><span id="Spline-576"><a href="#Spline-576"><span class="linenos"> 576</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-577"><a href="#Spline-577"><span class="linenos"> 577</span></a><span class="sd">        ----------</span>
</span><span id="Spline-578"><a href="#Spline-578"><span class="linenos"> 578</span></a><span class="sd">        with_respect_to : integer, optional</span>
</span><span id="Spline-579"><a href="#Spline-579"><span class="linenos"> 579</span></a><span class="sd">            The number of the independent variable to differentiate. Default is zero.</span>
</span><span id="Spline-580"><a href="#Spline-580"><span class="linenos"> 580</span></a>
</span><span id="Spline-581"><a href="#Spline-581"><span class="linenos"> 581</span></a><span class="sd">        Returns</span>
</span><span id="Spline-582"><a href="#Spline-582"><span class="linenos"> 582</span></a><span class="sd">        -------</span>
</span><span id="Spline-583"><a href="#Spline-583"><span class="linenos"> 583</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-584"><a href="#Spline-584"><span class="linenos"> 584</span></a><span class="sd">            The spline that results from differentiating the original spline with respect to the given independent variable.</span>
</span><span id="Spline-585"><a href="#Spline-585"><span class="linenos"> 585</span></a>
</span><span id="Spline-586"><a href="#Spline-586"><span class="linenos"> 586</span></a><span class="sd">        See Also</span>
</span><span id="Spline-587"><a href="#Spline-587"><span class="linenos"> 587</span></a><span class="sd">        --------</span>
</span><span id="Spline-588"><a href="#Spline-588"><span class="linenos"> 588</span></a><span class="sd">        `derivative` : Compute the derivative of the spline at a given parameter value.</span>
</span><span id="Spline-589"><a href="#Spline-589"><span class="linenos"> 589</span></a><span class="sd">        `integral` : Compute the integral of the spline at a given parameter value.</span>
</span><span id="Spline-590"><a href="#Spline-590"><span class="linenos"> 590</span></a><span class="sd">        `integrate` : Integrate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="Spline-591"><a href="#Spline-591"><span class="linenos"> 591</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-592"><a href="#Spline-592"><span class="linenos"> 592</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">differentiate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span><span class="p">)</span>
</span><span id="Spline-593"><a href="#Spline-593"><span class="linenos"> 593</span></a>
</span><span id="Spline-594"><a href="#Spline-594"><span class="linenos"> 594</span></a>    <span class="k">def</span> <span class="nf">domain</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Spline-595"><a href="#Spline-595"><span class="linenos"> 595</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-596"><a href="#Spline-596"><span class="linenos"> 596</span></a><span class="sd">        Return the domain of a spline.</span>
</span><span id="Spline-597"><a href="#Spline-597"><span class="linenos"> 597</span></a>
</span><span id="Spline-598"><a href="#Spline-598"><span class="linenos"> 598</span></a><span class="sd">        Returns</span>
</span><span id="Spline-599"><a href="#Spline-599"><span class="linenos"> 599</span></a><span class="sd">        -------</span>
</span><span id="Spline-600"><a href="#Spline-600"><span class="linenos"> 600</span></a><span class="sd">        bounds : `numpy.array`</span>
</span><span id="Spline-601"><a href="#Spline-601"><span class="linenos"> 601</span></a><span class="sd">            nInd x 2 array of the upper and lower bounds on each of the independent variables.</span>
</span><span id="Spline-602"><a href="#Spline-602"><span class="linenos"> 602</span></a>
</span><span id="Spline-603"><a href="#Spline-603"><span class="linenos"> 603</span></a><span class="sd">        See Also</span>
</span><span id="Spline-604"><a href="#Spline-604"><span class="linenos"> 604</span></a><span class="sd">        --------</span>
</span><span id="Spline-605"><a href="#Spline-605"><span class="linenos"> 605</span></a><span class="sd">        `reparametrize` : Reparametrize a spline to match new domain bounds</span>
</span><span id="Spline-606"><a href="#Spline-606"><span class="linenos"> 606</span></a><span class="sd">        `trim` : Trim the domain of a spline.</span>
</span><span id="Spline-607"><a href="#Spline-607"><span class="linenos"> 607</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-608"><a href="#Spline-608"><span class="linenos"> 608</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">domain</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Spline-609"><a href="#Spline-609"><span class="linenos"> 609</span></a>
</span><span id="Spline-610"><a href="#Spline-610"><span class="linenos"> 610</span></a>    <span class="k">def</span> <span class="nf">dot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vector</span><span class="p">):</span>
</span><span id="Spline-611"><a href="#Spline-611"><span class="linenos"> 611</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-612"><a href="#Spline-612"><span class="linenos"> 612</span></a><span class="sd">        Dot product a spline by the given vector.</span>
</span><span id="Spline-613"><a href="#Spline-613"><span class="linenos"> 613</span></a>
</span><span id="Spline-614"><a href="#Spline-614"><span class="linenos"> 614</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-615"><a href="#Spline-615"><span class="linenos"> 615</span></a><span class="sd">        ----------</span>
</span><span id="Spline-616"><a href="#Spline-616"><span class="linenos"> 616</span></a><span class="sd">        vector : array-like or `Spline`</span>
</span><span id="Spline-617"><a href="#Spline-617"><span class="linenos"> 617</span></a><span class="sd">            An array of length `nDep` or spline with matching `nDep` that specifies the vector.</span>
</span><span id="Spline-618"><a href="#Spline-618"><span class="linenos"> 618</span></a>
</span><span id="Spline-619"><a href="#Spline-619"><span class="linenos"> 619</span></a><span class="sd">        Returns</span>
</span><span id="Spline-620"><a href="#Spline-620"><span class="linenos"> 620</span></a><span class="sd">        -------</span>
</span><span id="Spline-621"><a href="#Spline-621"><span class="linenos"> 621</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-622"><a href="#Spline-622"><span class="linenos"> 622</span></a><span class="sd">            The dotted spline.</span>
</span><span id="Spline-623"><a href="#Spline-623"><span class="linenos"> 623</span></a>
</span><span id="Spline-624"><a href="#Spline-624"><span class="linenos"> 624</span></a><span class="sd">        See Also</span>
</span><span id="Spline-625"><a href="#Spline-625"><span class="linenos"> 625</span></a><span class="sd">        --------</span>
</span><span id="Spline-626"><a href="#Spline-626"><span class="linenos"> 626</span></a><span class="sd">        `multiply` : Multiply two splines (cross, dot, or scalar product).</span>
</span><span id="Spline-627"><a href="#Spline-627"><span class="linenos"> 627</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-628"><a href="#Spline-628"><span class="linenos"> 628</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vector</span><span class="p">)</span>
</span><span id="Spline-629"><a href="#Spline-629"><span class="linenos"> 629</span></a>
</span><span id="Spline-630"><a href="#Spline-630"><span class="linenos"> 630</span></a>    <span class="k">def</span> <span class="nf">elevate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">m</span><span class="p">):</span>
</span><span id="Spline-631"><a href="#Spline-631"><span class="linenos"> 631</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-632"><a href="#Spline-632"><span class="linenos"> 632</span></a><span class="sd">        Elevate a spline, increasing its order by `m`.</span>
</span><span id="Spline-633"><a href="#Spline-633"><span class="linenos"> 633</span></a>
</span><span id="Spline-634"><a href="#Spline-634"><span class="linenos"> 634</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-635"><a href="#Spline-635"><span class="linenos"> 635</span></a><span class="sd">        ----------</span>
</span><span id="Spline-636"><a href="#Spline-636"><span class="linenos"> 636</span></a><span class="sd">        m : `iterable` of length `nInd`</span>
</span><span id="Spline-637"><a href="#Spline-637"><span class="linenos"> 637</span></a><span class="sd">            An iterable that specifies the non-negative integer amount to increase the order </span>
</span><span id="Spline-638"><a href="#Spline-638"><span class="linenos"> 638</span></a><span class="sd">            for each independent variable of the spline.</span>
</span><span id="Spline-639"><a href="#Spline-639"><span class="linenos"> 639</span></a>
</span><span id="Spline-640"><a href="#Spline-640"><span class="linenos"> 640</span></a><span class="sd">        Returns</span>
</span><span id="Spline-641"><a href="#Spline-641"><span class="linenos"> 641</span></a><span class="sd">        -------</span>
</span><span id="Spline-642"><a href="#Spline-642"><span class="linenos"> 642</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-643"><a href="#Spline-643"><span class="linenos"> 643</span></a><span class="sd">            A spline with the order of the current spline plus `m`.</span>
</span><span id="Spline-644"><a href="#Spline-644"><span class="linenos"> 644</span></a>
</span><span id="Spline-645"><a href="#Spline-645"><span class="linenos"> 645</span></a><span class="sd">        See Also</span>
</span><span id="Spline-646"><a href="#Spline-646"><span class="linenos"> 646</span></a><span class="sd">        --------</span>
</span><span id="Spline-647"><a href="#Spline-647"><span class="linenos"> 647</span></a><span class="sd">        `insert_knots` : Insert new knots into a spline.</span>
</span><span id="Spline-648"><a href="#Spline-648"><span class="linenos"> 648</span></a><span class="sd">        `elevate_and_insert_knots` : Elevate a spline and insert new knots.</span>
</span><span id="Spline-649"><a href="#Spline-649"><span class="linenos"> 649</span></a>
</span><span id="Spline-650"><a href="#Spline-650"><span class="linenos"> 650</span></a><span class="sd">        Notes</span>
</span><span id="Spline-651"><a href="#Spline-651"><span class="linenos"> 651</span></a><span class="sd">        -----</span>
</span><span id="Spline-652"><a href="#Spline-652"><span class="linenos"> 652</span></a><span class="sd">        Implements the algorithm from Huang, Qi-Xing, Shi-Min Hu, and Ralph R. Martin. </span>
</span><span id="Spline-653"><a href="#Spline-653"><span class="linenos"> 653</span></a><span class="sd">        &quot;Fast degree elevation and knot insertion for B-spline curves.&quot; Computer Aided Geometric Design 22, no. 2 (2005): 183-197.</span>
</span><span id="Spline-654"><a href="#Spline-654"><span class="linenos"> 654</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-655"><a href="#Spline-655"><span class="linenos"> 655</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">elevate_and_insert_knots</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nInd</span> <span class="o">*</span> <span class="p">[[]])</span>
</span><span id="Spline-656"><a href="#Spline-656"><span class="linenos"> 656</span></a>
</span><span id="Spline-657"><a href="#Spline-657"><span class="linenos"> 657</span></a>    <span class="k">def</span> <span class="nf">elevate_and_insert_knots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">newKnots</span><span class="p">):</span>
</span><span id="Spline-658"><a href="#Spline-658"><span class="linenos"> 658</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-659"><a href="#Spline-659"><span class="linenos"> 659</span></a><span class="sd">        Elevate a spline and insert new knots.</span>
</span><span id="Spline-660"><a href="#Spline-660"><span class="linenos"> 660</span></a>
</span><span id="Spline-661"><a href="#Spline-661"><span class="linenos"> 661</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-662"><a href="#Spline-662"><span class="linenos"> 662</span></a><span class="sd">        ----------</span>
</span><span id="Spline-663"><a href="#Spline-663"><span class="linenos"> 663</span></a><span class="sd">        m : `iterable` of length `nInd`</span>
</span><span id="Spline-664"><a href="#Spline-664"><span class="linenos"> 664</span></a><span class="sd">            An iterable that specifies the non-negative integer amount to increase the order </span>
</span><span id="Spline-665"><a href="#Spline-665"><span class="linenos"> 665</span></a><span class="sd">            for each independent variable of the spline.</span>
</span><span id="Spline-666"><a href="#Spline-666"><span class="linenos"> 666</span></a>
</span><span id="Spline-667"><a href="#Spline-667"><span class="linenos"> 667</span></a><span class="sd">        newKnots : `iterable` of length `nInd`</span>
</span><span id="Spline-668"><a href="#Spline-668"><span class="linenos"> 668</span></a><span class="sd">            An iterable that specifies the knots to be added to each independent variable&#39;s knots. </span>
</span><span id="Spline-669"><a href="#Spline-669"><span class="linenos"> 669</span></a><span class="sd">            len(newKnots[ind]) == 0 if no knots are to be added for the `ind` independent variable.</span>
</span><span id="Spline-670"><a href="#Spline-670"><span class="linenos"> 670</span></a>
</span><span id="Spline-671"><a href="#Spline-671"><span class="linenos"> 671</span></a><span class="sd">        Returns</span>
</span><span id="Spline-672"><a href="#Spline-672"><span class="linenos"> 672</span></a><span class="sd">        -------</span>
</span><span id="Spline-673"><a href="#Spline-673"><span class="linenos"> 673</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-674"><a href="#Spline-674"><span class="linenos"> 674</span></a><span class="sd">            A spline with the order of the current spline plus `m` that includes the new knots.</span>
</span><span id="Spline-675"><a href="#Spline-675"><span class="linenos"> 675</span></a>
</span><span id="Spline-676"><a href="#Spline-676"><span class="linenos"> 676</span></a><span class="sd">        See Also</span>
</span><span id="Spline-677"><a href="#Spline-677"><span class="linenos"> 677</span></a><span class="sd">        --------</span>
</span><span id="Spline-678"><a href="#Spline-678"><span class="linenos"> 678</span></a><span class="sd">        `insert_knots` : Insert new knots into a spline.</span>
</span><span id="Spline-679"><a href="#Spline-679"><span class="linenos"> 679</span></a><span class="sd">        `clamp` : Clamp the left and/or right side of a spline.</span>
</span><span id="Spline-680"><a href="#Spline-680"><span class="linenos"> 680</span></a><span class="sd">        `elevate` : Elevate a spline, increasing its order by `m`.</span>
</span><span id="Spline-681"><a href="#Spline-681"><span class="linenos"> 681</span></a>
</span><span id="Spline-682"><a href="#Spline-682"><span class="linenos"> 682</span></a><span class="sd">        Notes</span>
</span><span id="Spline-683"><a href="#Spline-683"><span class="linenos"> 683</span></a><span class="sd">        -----</span>
</span><span id="Spline-684"><a href="#Spline-684"><span class="linenos"> 684</span></a><span class="sd">        Implements the algorithm from Huang, Qi-Xing, Shi-Min Hu, and Ralph R. Martin. </span>
</span><span id="Spline-685"><a href="#Spline-685"><span class="linenos"> 685</span></a><span class="sd">        &quot;Fast degree elevation and knot insertion for B-spline curves.&quot; Computer Aided Geometric Design 22, no. 2 (2005): 183-197.</span>
</span><span id="Spline-686"><a href="#Spline-686"><span class="linenos"> 686</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-687"><a href="#Spline-687"><span class="linenos"> 687</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">elevate_and_insert_knots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">newKnots</span><span class="p">)</span>
</span><span id="Spline-688"><a href="#Spline-688"><span class="linenos"> 688</span></a>
</span><span id="Spline-689"><a href="#Spline-689"><span class="linenos"> 689</span></a>    <span class="k">def</span> <span class="nf">evaluate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">):</span>
</span><span id="Spline-690"><a href="#Spline-690"><span class="linenos"> 690</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-691"><a href="#Spline-691"><span class="linenos"> 691</span></a><span class="sd">        Compute the value of the spline at given parameter values.</span>
</span><span id="Spline-692"><a href="#Spline-692"><span class="linenos"> 692</span></a>
</span><span id="Spline-693"><a href="#Spline-693"><span class="linenos"> 693</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-694"><a href="#Spline-694"><span class="linenos"> 694</span></a><span class="sd">        ----------</span>
</span><span id="Spline-695"><a href="#Spline-695"><span class="linenos"> 695</span></a><span class="sd">        uvw : `iterable`</span>
</span><span id="Spline-696"><a href="#Spline-696"><span class="linenos"> 696</span></a><span class="sd">            An iterable of length `nInd` that specifies the values of each independent variable (the parameter values).</span>
</span><span id="Spline-697"><a href="#Spline-697"><span class="linenos"> 697</span></a>
</span><span id="Spline-698"><a href="#Spline-698"><span class="linenos"> 698</span></a><span class="sd">        Returns</span>
</span><span id="Spline-699"><a href="#Spline-699"><span class="linenos"> 699</span></a><span class="sd">        -------</span>
</span><span id="Spline-700"><a href="#Spline-700"><span class="linenos"> 700</span></a><span class="sd">        value : `numpy.array`</span>
</span><span id="Spline-701"><a href="#Spline-701"><span class="linenos"> 701</span></a><span class="sd">            The value of the spline at the given parameter values.</span>
</span><span id="Spline-702"><a href="#Spline-702"><span class="linenos"> 702</span></a>
</span><span id="Spline-703"><a href="#Spline-703"><span class="linenos"> 703</span></a><span class="sd">        See Also</span>
</span><span id="Spline-704"><a href="#Spline-704"><span class="linenos"> 704</span></a><span class="sd">        --------</span>
</span><span id="Spline-705"><a href="#Spline-705"><span class="linenos"> 705</span></a><span class="sd">        `derivative` : Compute the derivative of the spline at given parameter values.</span>
</span><span id="Spline-706"><a href="#Spline-706"><span class="linenos"> 706</span></a>
</span><span id="Spline-707"><a href="#Spline-707"><span class="linenos"> 707</span></a><span class="sd">        Notes</span>
</span><span id="Spline-708"><a href="#Spline-708"><span class="linenos"> 708</span></a><span class="sd">        -----</span>
</span><span id="Spline-709"><a href="#Spline-709"><span class="linenos"> 709</span></a><span class="sd">        The evaluate method uses the de Boor recurrence relations for a B-spline</span>
</span><span id="Spline-710"><a href="#Spline-710"><span class="linenos"> 710</span></a><span class="sd">        series to evaluate a spline.  The non-zero B-splines are</span>
</span><span id="Spline-711"><a href="#Spline-711"><span class="linenos"> 711</span></a><span class="sd">        evaluated, then the dot product of those B-splines with the vector of</span>
</span><span id="Spline-712"><a href="#Spline-712"><span class="linenos"> 712</span></a><span class="sd">        B-spline coefficients is computed.</span>
</span><span id="Spline-713"><a href="#Spline-713"><span class="linenos"> 713</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-714"><a href="#Spline-714"><span class="linenos"> 714</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">)</span>
</span><span id="Spline-715"><a href="#Spline-715"><span class="linenos"> 715</span></a>
</span><span id="Spline-716"><a href="#Spline-716"><span class="linenos"> 716</span></a>    <span class="k">def</span> <span class="nf">extrapolate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newDomain</span><span class="p">,</span> <span class="n">continuityOrder</span><span class="p">):</span>
</span><span id="Spline-717"><a href="#Spline-717"><span class="linenos"> 717</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-718"><a href="#Spline-718"><span class="linenos"> 718</span></a><span class="sd">        Extrapolate a spline out to an extended domain maintaining a given order of continuity.</span>
</span><span id="Spline-719"><a href="#Spline-719"><span class="linenos"> 719</span></a>
</span><span id="Spline-720"><a href="#Spline-720"><span class="linenos"> 720</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-721"><a href="#Spline-721"><span class="linenos"> 721</span></a><span class="sd">        ----------</span>
</span><span id="Spline-722"><a href="#Spline-722"><span class="linenos"> 722</span></a><span class="sd">        newDomain : array-like</span>
</span><span id="Spline-723"><a href="#Spline-723"><span class="linenos"> 723</span></a><span class="sd">            nInd x 2 array of the new upper and lower bounds on each of the independent variables (same form as </span>
</span><span id="Spline-724"><a href="#Spline-724"><span class="linenos"> 724</span></a><span class="sd">            returned from `domain`). If a bound is None or nan then the original bound (and knots) are left unchanged.</span>
</span><span id="Spline-725"><a href="#Spline-725"><span class="linenos"> 725</span></a>
</span><span id="Spline-726"><a href="#Spline-726"><span class="linenos"> 726</span></a><span class="sd">        continuityOrder : `int`</span>
</span><span id="Spline-727"><a href="#Spline-727"><span class="linenos"> 727</span></a><span class="sd">            The order of continuity of the extrapolation (the number of derivatives that match at the endpoints). </span>
</span><span id="Spline-728"><a href="#Spline-728"><span class="linenos"> 728</span></a><span class="sd">            A continuity order of zero means the extrapolation just matches the spline value at the endpoints. </span>
</span><span id="Spline-729"><a href="#Spline-729"><span class="linenos"> 729</span></a><span class="sd">            The continuity order is automatically limited to one less than the degree of the spline.</span>
</span><span id="Spline-730"><a href="#Spline-730"><span class="linenos"> 730</span></a>
</span><span id="Spline-731"><a href="#Spline-731"><span class="linenos"> 731</span></a><span class="sd">        Returns</span>
</span><span id="Spline-732"><a href="#Spline-732"><span class="linenos"> 732</span></a><span class="sd">        -------</span>
</span><span id="Spline-733"><a href="#Spline-733"><span class="linenos"> 733</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-734"><a href="#Spline-734"><span class="linenos"> 734</span></a><span class="sd">            Extrapolated spline. If all the knots are unchanged, the original spline is returned.</span>
</span><span id="Spline-735"><a href="#Spline-735"><span class="linenos"> 735</span></a>
</span><span id="Spline-736"><a href="#Spline-736"><span class="linenos"> 736</span></a><span class="sd">        See Also</span>
</span><span id="Spline-737"><a href="#Spline-737"><span class="linenos"> 737</span></a><span class="sd">        --------</span>
</span><span id="Spline-738"><a href="#Spline-738"><span class="linenos"> 738</span></a><span class="sd">        `domain` : Return the domain of a spline.</span>
</span><span id="Spline-739"><a href="#Spline-739"><span class="linenos"> 739</span></a><span class="sd">        `trim` : Trim the domain of a spline.</span>
</span><span id="Spline-740"><a href="#Spline-740"><span class="linenos"> 740</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-741"><a href="#Spline-741"><span class="linenos"> 741</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">extrapolate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newDomain</span><span class="p">,</span> <span class="n">continuityOrder</span><span class="p">)</span>
</span><span id="Spline-742"><a href="#Spline-742"><span class="linenos"> 742</span></a>
</span><span id="Spline-743"><a href="#Spline-743"><span class="linenos"> 743</span></a>    <span class="k">def</span> <span class="nf">fold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">foldedInd</span><span class="p">):</span>
</span><span id="Spline-744"><a href="#Spline-744"><span class="linenos"> 744</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-745"><a href="#Spline-745"><span class="linenos"> 745</span></a><span class="sd">        Fold the coefficients of a spline&#39;s indicated independent variables into the coefficients of the remaining independent variables, retaining the </span>
</span><span id="Spline-746"><a href="#Spline-746"><span class="linenos"> 746</span></a><span class="sd">        indicated independent variables&#39; knots and orders in a second spline with no coefficients.</span>
</span><span id="Spline-747"><a href="#Spline-747"><span class="linenos"> 747</span></a>
</span><span id="Spline-748"><a href="#Spline-748"><span class="linenos"> 748</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-749"><a href="#Spline-749"><span class="linenos"> 749</span></a><span class="sd">        ----------</span>
</span><span id="Spline-750"><a href="#Spline-750"><span class="linenos"> 750</span></a><span class="sd">        foldedInd : `iterable`</span>
</span><span id="Spline-751"><a href="#Spline-751"><span class="linenos"> 751</span></a><span class="sd">            An iterable that specifies the independent variables whose coefficients should be folded.</span>
</span><span id="Spline-752"><a href="#Spline-752"><span class="linenos"> 752</span></a>
</span><span id="Spline-753"><a href="#Spline-753"><span class="linenos"> 753</span></a><span class="sd">        Returns</span>
</span><span id="Spline-754"><a href="#Spline-754"><span class="linenos"> 754</span></a><span class="sd">        -------</span>
</span><span id="Spline-755"><a href="#Spline-755"><span class="linenos"> 755</span></a><span class="sd">        foldedSpline, coefficientlessSpline : `Spline`, `Spline`</span>
</span><span id="Spline-756"><a href="#Spline-756"><span class="linenos"> 756</span></a><span class="sd">            The folded spline and the coefficientless spline that retains the indicated independent variables&#39; knots and orders.</span>
</span><span id="Spline-757"><a href="#Spline-757"><span class="linenos"> 757</span></a>
</span><span id="Spline-758"><a href="#Spline-758"><span class="linenos"> 758</span></a><span class="sd">        See Also</span>
</span><span id="Spline-759"><a href="#Spline-759"><span class="linenos"> 759</span></a><span class="sd">        --------</span>
</span><span id="Spline-760"><a href="#Spline-760"><span class="linenos"> 760</span></a><span class="sd">        `unfold` : Unfold the coefficients of an original spline&#39;s indicated independent variables back into the spline.</span>
</span><span id="Spline-761"><a href="#Spline-761"><span class="linenos"> 761</span></a>
</span><span id="Spline-762"><a href="#Spline-762"><span class="linenos"> 762</span></a><span class="sd">        Notes</span>
</span><span id="Spline-763"><a href="#Spline-763"><span class="linenos"> 763</span></a><span class="sd">        -----</span>
</span><span id="Spline-764"><a href="#Spline-764"><span class="linenos"> 764</span></a><span class="sd">        Given a spline whose coefficients are an nDep x n0 x ... x nk array and a list of (ordered) indices which form a proper subset of {n0, ... , nk}, it should return 2 splines.</span>
</span><span id="Spline-765"><a href="#Spline-765"><span class="linenos"> 765</span></a><span class="sd">        The first one is a spline with k + 1 - length(index subset) independent variables where the knot sets of all the dimensions which have been removed have been removed.  However, </span>
</span><span id="Spline-766"><a href="#Spline-766"><span class="linenos"> 766</span></a><span class="sd">        all of the coefficient data is still intact, so that the resulting coefficient array has shape (nDep nj0 nj1 ... njj) x nk0 x ... x nkk.  The second spline should be a spline </span>
</span><span id="Spline-767"><a href="#Spline-767"><span class="linenos"> 767</span></a><span class="sd">        with 0 dependent variables which contains all the knot sequences that were removed from the spline.  The unfold method takes the two splines as input and reverses the process, </span>
</span><span id="Spline-768"><a href="#Spline-768"><span class="linenos"> 768</span></a><span class="sd">        returning the original spline.</span>
</span><span id="Spline-769"><a href="#Spline-769"><span class="linenos"> 769</span></a>
</span><span id="Spline-770"><a href="#Spline-770"><span class="linenos"> 770</span></a><span class="sd">        Here&#39;s an example. Suppose spl is a spline with 3 independent variables and 3 dependent variables which has nCoef = [4, 5, 6] and knots = [knots0, knots1, knots2]. </span>
</span><span id="Spline-771"><a href="#Spline-771"><span class="linenos"> 771</span></a><span class="sd">        Then spl.fold([0, 2]) should return a spline with 1 independent variable and 72 dependent variables.  It should have nCoef = [5], knots = [knots1], and its coefs array should have </span>
</span><span id="Spline-772"><a href="#Spline-772"><span class="linenos"> 772</span></a><span class="sd">        shape (72, 5).  The other spline should have 0 dependent variables, 2 independent variables, and knots = [knots0, knots2].  How things get ordered in coefs probably doesn&#39;t matter </span>
</span><span id="Spline-773"><a href="#Spline-773"><span class="linenos"> 773</span></a><span class="sd">        so long as unfold unscrambles things in the corresponding way.  The second spline is needed to hold the basis information that was dropped so that it can be undone.</span>
</span><span id="Spline-774"><a href="#Spline-774"><span class="linenos"> 774</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-775"><a href="#Spline-775"><span class="linenos"> 775</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">fold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">foldedInd</span><span class="p">)</span>
</span><span id="Spline-776"><a href="#Spline-776"><span class="linenos"> 776</span></a>    
</span><span id="Spline-777"><a href="#Spline-777"><span class="linenos"> 777</span></a>    <span class="k">def</span> <span class="nf">insert_knots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newKnots</span><span class="p">):</span>
</span><span id="Spline-778"><a href="#Spline-778"><span class="linenos"> 778</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-779"><a href="#Spline-779"><span class="linenos"> 779</span></a><span class="sd">        Insert new knots into a spline.</span>
</span><span id="Spline-780"><a href="#Spline-780"><span class="linenos"> 780</span></a>
</span><span id="Spline-781"><a href="#Spline-781"><span class="linenos"> 781</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-782"><a href="#Spline-782"><span class="linenos"> 782</span></a><span class="sd">        ----------</span>
</span><span id="Spline-783"><a href="#Spline-783"><span class="linenos"> 783</span></a><span class="sd">        newKnots : `iterable` of length `nInd`</span>
</span><span id="Spline-784"><a href="#Spline-784"><span class="linenos"> 784</span></a><span class="sd">            An iterable that specifies the knots to be added to each independent variable&#39;s knots. </span>
</span><span id="Spline-785"><a href="#Spline-785"><span class="linenos"> 785</span></a><span class="sd">            len(newKnots[ind]) == 0 if no knots are to be added for the `ind` independent variable.</span>
</span><span id="Spline-786"><a href="#Spline-786"><span class="linenos"> 786</span></a>
</span><span id="Spline-787"><a href="#Spline-787"><span class="linenos"> 787</span></a><span class="sd">        Returns</span>
</span><span id="Spline-788"><a href="#Spline-788"><span class="linenos"> 788</span></a><span class="sd">        -------</span>
</span><span id="Spline-789"><a href="#Spline-789"><span class="linenos"> 789</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-790"><a href="#Spline-790"><span class="linenos"> 790</span></a><span class="sd">            A spline with the new knots inserted. If no knots were inserted, the original spline is returned.</span>
</span><span id="Spline-791"><a href="#Spline-791"><span class="linenos"> 791</span></a>
</span><span id="Spline-792"><a href="#Spline-792"><span class="linenos"> 792</span></a><span class="sd">        See Also</span>
</span><span id="Spline-793"><a href="#Spline-793"><span class="linenos"> 793</span></a><span class="sd">        --------</span>
</span><span id="Spline-794"><a href="#Spline-794"><span class="linenos"> 794</span></a><span class="sd">        `clamp` : Clamp the left and/or right side of a spline.</span>
</span><span id="Spline-795"><a href="#Spline-795"><span class="linenos"> 795</span></a>
</span><span id="Spline-796"><a href="#Spline-796"><span class="linenos"> 796</span></a><span class="sd">        Notes</span>
</span><span id="Spline-797"><a href="#Spline-797"><span class="linenos"> 797</span></a><span class="sd">        -----</span>
</span><span id="Spline-798"><a href="#Spline-798"><span class="linenos"> 798</span></a><span class="sd">        Implements Boehm&#39;s standard knot insertion algorithm.</span>
</span><span id="Spline-799"><a href="#Spline-799"><span class="linenos"> 799</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-800"><a href="#Spline-800"><span class="linenos"> 800</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">insert_knots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newKnots</span><span class="p">)</span>
</span><span id="Spline-801"><a href="#Spline-801"><span class="linenos"> 801</span></a>
</span><span id="Spline-802"><a href="#Spline-802"><span class="linenos"> 802</span></a>    <span class="k">def</span> <span class="nf">integral</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span><span class="p">,</span> <span class="n">uvw1</span><span class="p">,</span> <span class="n">uvw2</span><span class="p">,</span> <span class="n">returnSpline</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="Spline-803"><a href="#Spline-803"><span class="linenos"> 803</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-804"><a href="#Spline-804"><span class="linenos"> 804</span></a><span class="sd">        Compute the derivative of the spline at given parameter values.</span>
</span><span id="Spline-805"><a href="#Spline-805"><span class="linenos"> 805</span></a>
</span><span id="Spline-806"><a href="#Spline-806"><span class="linenos"> 806</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-807"><a href="#Spline-807"><span class="linenos"> 807</span></a><span class="sd">        ----------</span>
</span><span id="Spline-808"><a href="#Spline-808"><span class="linenos"> 808</span></a><span class="sd">        with_respect_to : `iterable`</span>
</span><span id="Spline-809"><a href="#Spline-809"><span class="linenos"> 809</span></a><span class="sd">            An iterable of length `nInd` that specifies the integer order of integral for each independent variable.</span>
</span><span id="Spline-810"><a href="#Spline-810"><span class="linenos"> 810</span></a><span class="sd">            A zero-order integral just evaluates the spline normally.</span>
</span><span id="Spline-811"><a href="#Spline-811"><span class="linenos"> 811</span></a><span class="sd">        </span>
</span><span id="Spline-812"><a href="#Spline-812"><span class="linenos"> 812</span></a><span class="sd">        uvw1 : `iterable`</span>
</span><span id="Spline-813"><a href="#Spline-813"><span class="linenos"> 813</span></a><span class="sd">            An iterable of length `nInd` that specifies the lower limit of each independent variable (the parameter values).</span>
</span><span id="Spline-814"><a href="#Spline-814"><span class="linenos"> 814</span></a><span class="sd">        </span>
</span><span id="Spline-815"><a href="#Spline-815"><span class="linenos"> 815</span></a><span class="sd">        uvw2 : `iterable`</span>
</span><span id="Spline-816"><a href="#Spline-816"><span class="linenos"> 816</span></a><span class="sd">            An iterable of length `nInd` that specifies the upper limit of each independent variable (the parameter values).</span>
</span><span id="Spline-817"><a href="#Spline-817"><span class="linenos"> 817</span></a>
</span><span id="Spline-818"><a href="#Spline-818"><span class="linenos"> 818</span></a><span class="sd">        returnSpline : `boolean`, optional</span>
</span><span id="Spline-819"><a href="#Spline-819"><span class="linenos"> 819</span></a><span class="sd">            A boolean flag that if true returns the integrated spline along with the value of its integral. Default is false.</span>
</span><span id="Spline-820"><a href="#Spline-820"><span class="linenos"> 820</span></a><span class="sd"> </span>
</span><span id="Spline-821"><a href="#Spline-821"><span class="linenos"> 821</span></a><span class="sd">        Returns</span>
</span><span id="Spline-822"><a href="#Spline-822"><span class="linenos"> 822</span></a><span class="sd">        -------</span>
</span><span id="Spline-823"><a href="#Spline-823"><span class="linenos"> 823</span></a><span class="sd">        value : `numpy.array`</span>
</span><span id="Spline-824"><a href="#Spline-824"><span class="linenos"> 824</span></a><span class="sd">            The value of the integral of the spline at the given parameter limits.</span>
</span><span id="Spline-825"><a href="#Spline-825"><span class="linenos"> 825</span></a>
</span><span id="Spline-826"><a href="#Spline-826"><span class="linenos"> 826</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-827"><a href="#Spline-827"><span class="linenos"> 827</span></a><span class="sd">            The integrated spline, which is only returned if `returnSpline` is `True`.</span>
</span><span id="Spline-828"><a href="#Spline-828"><span class="linenos"> 828</span></a>
</span><span id="Spline-829"><a href="#Spline-829"><span class="linenos"> 829</span></a><span class="sd">        See Also</span>
</span><span id="Spline-830"><a href="#Spline-830"><span class="linenos"> 830</span></a><span class="sd">        --------</span>
</span><span id="Spline-831"><a href="#Spline-831"><span class="linenos"> 831</span></a><span class="sd">        `integrate` : Integrate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="Spline-832"><a href="#Spline-832"><span class="linenos"> 832</span></a><span class="sd">        `evaluate` : Compute the value of the spline at a given parameter value.</span>
</span><span id="Spline-833"><a href="#Spline-833"><span class="linenos"> 833</span></a><span class="sd">        `differentiate` : Differentiate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="Spline-834"><a href="#Spline-834"><span class="linenos"> 834</span></a><span class="sd">        `derivative` : Compute the derivative of the spline at a given parameter value.</span>
</span><span id="Spline-835"><a href="#Spline-835"><span class="linenos"> 835</span></a>
</span><span id="Spline-836"><a href="#Spline-836"><span class="linenos"> 836</span></a><span class="sd">        Notes</span>
</span><span id="Spline-837"><a href="#Spline-837"><span class="linenos"> 837</span></a><span class="sd">        -----</span>
</span><span id="Spline-838"><a href="#Spline-838"><span class="linenos"> 838</span></a><span class="sd">        The integral method uses the integrate method to integrate the spline `with_respect_to` times for each independent variable.</span>
</span><span id="Spline-839"><a href="#Spline-839"><span class="linenos"> 839</span></a><span class="sd">        Then the method returns that integrated spline&#39;s value at `uw2` minus its value at `uw1` (optionally along with the spline).</span>
</span><span id="Spline-840"><a href="#Spline-840"><span class="linenos"> 840</span></a><span class="sd">        The method doesn&#39;t calculate the integral directly because the number of operations required is nearly the same as constructing</span>
</span><span id="Spline-841"><a href="#Spline-841"><span class="linenos"> 841</span></a><span class="sd">        the integrated spline.</span>
</span><span id="Spline-842"><a href="#Spline-842"><span class="linenos"> 842</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-843"><a href="#Spline-843"><span class="linenos"> 843</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span><span class="p">,</span> <span class="n">uvw1</span><span class="p">,</span> <span class="n">uvw2</span><span class="p">,</span> <span class="n">returnSpline</span><span class="p">)</span>
</span><span id="Spline-844"><a href="#Spline-844"><span class="linenos"> 844</span></a>
</span><span id="Spline-845"><a href="#Spline-845"><span class="linenos"> 845</span></a>    <span class="k">def</span> <span class="nf">integrate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="Spline-846"><a href="#Spline-846"><span class="linenos"> 846</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-847"><a href="#Spline-847"><span class="linenos"> 847</span></a><span class="sd">        Integrate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="Spline-848"><a href="#Spline-848"><span class="linenos"> 848</span></a>
</span><span id="Spline-849"><a href="#Spline-849"><span class="linenos"> 849</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-850"><a href="#Spline-850"><span class="linenos"> 850</span></a><span class="sd">        ----------</span>
</span><span id="Spline-851"><a href="#Spline-851"><span class="linenos"> 851</span></a><span class="sd">        with_respect_to : integer, optional</span>
</span><span id="Spline-852"><a href="#Spline-852"><span class="linenos"> 852</span></a><span class="sd">            The number of the independent variable to integrate. Default is zero.</span>
</span><span id="Spline-853"><a href="#Spline-853"><span class="linenos"> 853</span></a>
</span><span id="Spline-854"><a href="#Spline-854"><span class="linenos"> 854</span></a><span class="sd">        Returns</span>
</span><span id="Spline-855"><a href="#Spline-855"><span class="linenos"> 855</span></a><span class="sd">        -------</span>
</span><span id="Spline-856"><a href="#Spline-856"><span class="linenos"> 856</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-857"><a href="#Spline-857"><span class="linenos"> 857</span></a><span class="sd">            The spline that results from integrating the original spline with respect to the given independent variable.</span>
</span><span id="Spline-858"><a href="#Spline-858"><span class="linenos"> 858</span></a>
</span><span id="Spline-859"><a href="#Spline-859"><span class="linenos"> 859</span></a><span class="sd">        See Also</span>
</span><span id="Spline-860"><a href="#Spline-860"><span class="linenos"> 860</span></a><span class="sd">        --------</span>
</span><span id="Spline-861"><a href="#Spline-861"><span class="linenos"> 861</span></a><span class="sd">        `differentiate` : Differentiate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="Spline-862"><a href="#Spline-862"><span class="linenos"> 862</span></a><span class="sd">        `derivative` : Compute the derivative of the spline at a given parameter value.</span>
</span><span id="Spline-863"><a href="#Spline-863"><span class="linenos"> 863</span></a><span class="sd">        `integral` : Compute the integral of the spline at a given parameter value.</span>
</span><span id="Spline-864"><a href="#Spline-864"><span class="linenos"> 864</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-865"><a href="#Spline-865"><span class="linenos"> 865</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span><span class="p">)</span>
</span><span id="Spline-866"><a href="#Spline-866"><span class="linenos"> 866</span></a>
</span><span id="Spline-867"><a href="#Spline-867"><span class="linenos"> 867</span></a>    <span class="k">def</span> <span class="nf">intersect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Spline-868"><a href="#Spline-868"><span class="linenos"> 868</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-869"><a href="#Spline-869"><span class="linenos"> 869</span></a><span class="sd">        Intersect two splines.</span>
</span><span id="Spline-870"><a href="#Spline-870"><span class="linenos"> 870</span></a>
</span><span id="Spline-871"><a href="#Spline-871"><span class="linenos"> 871</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-872"><a href="#Spline-872"><span class="linenos"> 872</span></a><span class="sd">        ----------</span>
</span><span id="Spline-873"><a href="#Spline-873"><span class="linenos"> 873</span></a><span class="sd">        other : `Spline`</span>
</span><span id="Spline-874"><a href="#Spline-874"><span class="linenos"> 874</span></a><span class="sd">            The spline to intersect with self (`other.nDep` match match `self.nDep`).</span>
</span><span id="Spline-875"><a href="#Spline-875"><span class="linenos"> 875</span></a>
</span><span id="Spline-876"><a href="#Spline-876"><span class="linenos"> 876</span></a><span class="sd">        Returns</span>
</span><span id="Spline-877"><a href="#Spline-877"><span class="linenos"> 877</span></a><span class="sd">        -------</span>
</span><span id="Spline-878"><a href="#Spline-878"><span class="linenos"> 878</span></a><span class="sd">        intersection : `iterable` or `NotImplemented`</span>
</span><span id="Spline-879"><a href="#Spline-879"><span class="linenos"> 879</span></a><span class="sd">            If `self.nInd + other.nInd - self.nDep` is 0, returns an iterable of intersection points in the </span>
</span><span id="Spline-880"><a href="#Spline-880"><span class="linenos"> 880</span></a><span class="sd">            parameter space of the two splines (a vector of size `self.nInd + other.nInd`).</span>
</span><span id="Spline-881"><a href="#Spline-881"><span class="linenos"> 881</span></a><span class="sd">            If `self.nInd + other.nInd - self.nDep` is 1, returns an iterable of `Spline` curves, each of whose domain is [0, 1] </span>
</span><span id="Spline-882"><a href="#Spline-882"><span class="linenos"> 882</span></a><span class="sd">            and each of whose range is in the parameter space of the two splines (a vector of size `self.nInd + other.nInd`).</span>
</span><span id="Spline-883"><a href="#Spline-883"><span class="linenos"> 883</span></a><span class="sd">            If `self.nInd + other.nInd - self.nDep` is &lt; 0 or &gt; 1, `NotImplemented` is returned.</span>
</span><span id="Spline-884"><a href="#Spline-884"><span class="linenos"> 884</span></a><span class="sd">        </span>
</span><span id="Spline-885"><a href="#Spline-885"><span class="linenos"> 885</span></a><span class="sd">        See Also</span>
</span><span id="Spline-886"><a href="#Spline-886"><span class="linenos"> 886</span></a><span class="sd">        --------</span>
</span><span id="Spline-887"><a href="#Spline-887"><span class="linenos"> 887</span></a><span class="sd">        `zeros` : Find the roots of a spline (nInd must match nDep).</span>
</span><span id="Spline-888"><a href="#Spline-888"><span class="linenos"> 888</span></a><span class="sd">        `contours` : Find all the contour curves of a spline.</span>
</span><span id="Spline-889"><a href="#Spline-889"><span class="linenos"> 889</span></a>
</span><span id="Spline-890"><a href="#Spline-890"><span class="linenos"> 890</span></a><span class="sd">        Notes</span>
</span><span id="Spline-891"><a href="#Spline-891"><span class="linenos"> 891</span></a><span class="sd">        -----</span>
</span><span id="Spline-892"><a href="#Spline-892"><span class="linenos"> 892</span></a><span class="sd">        Uses `zeros` to find all intersection points and `contours` to find all the intersection curves.</span>
</span><span id="Spline-893"><a href="#Spline-893"><span class="linenos"> 893</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-894"><a href="#Spline-894"><span class="linenos"> 894</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nDep</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">nDep</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The number of dependent variables for both splines much match.&quot;</span><span class="p">)</span>
</span><span id="Spline-895"><a href="#Spline-895"><span class="linenos"> 895</span></a>        <span class="n">freeParameters</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nInd</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">nInd</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span>
</span><span id="Spline-896"><a href="#Spline-896"><span class="linenos"> 896</span></a>        <span class="k">if</span> <span class="n">freeParameters</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Spline-897"><a href="#Spline-897"><span class="linenos"> 897</span></a>            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span> <span class="o">-</span> <span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">zeros</span><span class="p">()</span>
</span><span id="Spline-898"><a href="#Spline-898"><span class="linenos"> 898</span></a>        <span class="k">elif</span> <span class="n">freeParameters</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Spline-899"><a href="#Spline-899"><span class="linenos"> 899</span></a>            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span> <span class="o">-</span> <span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">contours</span><span class="p">()</span>
</span><span id="Spline-900"><a href="#Spline-900"><span class="linenos"> 900</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Spline-901"><a href="#Spline-901"><span class="linenos"> 901</span></a>            <span class="k">return</span> <span class="bp">NotImplemented</span>
</span><span id="Spline-902"><a href="#Spline-902"><span class="linenos"> 902</span></a>
</span><span id="Spline-903"><a href="#Spline-903"><span class="linenos"> 903</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Spline-904"><a href="#Spline-904"><span class="linenos"> 904</span></a>    <span class="k">def</span> <span class="nf">join</span><span class="p">(</span><span class="n">splineList</span><span class="p">):</span>
</span><span id="Spline-905"><a href="#Spline-905"><span class="linenos"> 905</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-906"><a href="#Spline-906"><span class="linenos"> 906</span></a><span class="sd">        Join a list of splines together into a single spline.</span>
</span><span id="Spline-907"><a href="#Spline-907"><span class="linenos"> 907</span></a>
</span><span id="Spline-908"><a href="#Spline-908"><span class="linenos"> 908</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-909"><a href="#Spline-909"><span class="linenos"> 909</span></a><span class="sd">        ----------</span>
</span><span id="Spline-910"><a href="#Spline-910"><span class="linenos"> 910</span></a><span class="sd">        splineList : `iterable`</span>
</span><span id="Spline-911"><a href="#Spline-911"><span class="linenos"> 911</span></a><span class="sd">            The list of splines to join together.  All must have the same number of dependent variables.</span>
</span><span id="Spline-912"><a href="#Spline-912"><span class="linenos"> 912</span></a>
</span><span id="Spline-913"><a href="#Spline-913"><span class="linenos"> 913</span></a><span class="sd">        Returns</span>
</span><span id="Spline-914"><a href="#Spline-914"><span class="linenos"> 914</span></a><span class="sd">        -------</span>
</span><span id="Spline-915"><a href="#Spline-915"><span class="linenos"> 915</span></a><span class="sd">        joinedSpline : `Spline`</span>
</span><span id="Spline-916"><a href="#Spline-916"><span class="linenos"> 916</span></a><span class="sd">            A single spline whose image is the union of all the images of the input splines.  The resulting spline</span>
</span><span id="Spline-917"><a href="#Spline-917"><span class="linenos"> 917</span></a><span class="sd">            is parametrized over the unit cube.</span>
</span><span id="Spline-918"><a href="#Spline-918"><span class="linenos"> 918</span></a><span class="sd">                </span>
</span><span id="Spline-919"><a href="#Spline-919"><span class="linenos"> 919</span></a><span class="sd">        Notes</span>
</span><span id="Spline-920"><a href="#Spline-920"><span class="linenos"> 920</span></a><span class="sd">        -----</span>
</span><span id="Spline-921"><a href="#Spline-921"><span class="linenos"> 921</span></a><span class="sd">        Currently only works for univariate splines.</span>
</span><span id="Spline-922"><a href="#Spline-922"><span class="linenos"> 922</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-923"><a href="#Spline-923"><span class="linenos"> 923</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">splineList</span><span class="p">)</span>
</span><span id="Spline-924"><a href="#Spline-924"><span class="linenos"> 924</span></a>       
</span><span id="Spline-925"><a href="#Spline-925"><span class="linenos"> 925</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Spline-926"><a href="#Spline-926"><span class="linenos"> 926</span></a>    <span class="k">def</span> <span class="nf">least_squares</span><span class="p">(</span><span class="n">nInd</span><span class="p">,</span> <span class="n">nDep</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">dataPoints</span><span class="p">,</span> <span class="n">knots</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">compression</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="p">{}):</span>
</span><span id="Spline-927"><a href="#Spline-927"><span class="linenos"> 927</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-928"><a href="#Spline-928"><span class="linenos"> 928</span></a><span class="sd">        Fit a spline to an array of data points using the method of least squares.</span>
</span><span id="Spline-929"><a href="#Spline-929"><span class="linenos"> 929</span></a>
</span><span id="Spline-930"><a href="#Spline-930"><span class="linenos"> 930</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-931"><a href="#Spline-931"><span class="linenos"> 931</span></a><span class="sd">        ----------</span>
</span><span id="Spline-932"><a href="#Spline-932"><span class="linenos"> 932</span></a><span class="sd">        nInd : `int`</span>
</span><span id="Spline-933"><a href="#Spline-933"><span class="linenos"> 933</span></a><span class="sd">            The number of independent variables of the spline.</span>
</span><span id="Spline-934"><a href="#Spline-934"><span class="linenos"> 934</span></a>
</span><span id="Spline-935"><a href="#Spline-935"><span class="linenos"> 935</span></a><span class="sd">        nDep : `int`</span>
</span><span id="Spline-936"><a href="#Spline-936"><span class="linenos"> 936</span></a><span class="sd">            The number of dependent variables of the spline.</span>
</span><span id="Spline-937"><a href="#Spline-937"><span class="linenos"> 937</span></a><span class="sd">        </span>
</span><span id="Spline-938"><a href="#Spline-938"><span class="linenos"> 938</span></a><span class="sd">        order : `tuple`</span>
</span><span id="Spline-939"><a href="#Spline-939"><span class="linenos"> 939</span></a><span class="sd">            A tuple of length nInd where each integer entry represents the</span>
</span><span id="Spline-940"><a href="#Spline-940"><span class="linenos"> 940</span></a><span class="sd">            polynomial order of the spline in that variable. When in doubt,</span>
</span><span id="Spline-941"><a href="#Spline-941"><span class="linenos"> 941</span></a><span class="sd">            use `[4] * nInd` (a cubic spline).</span>
</span><span id="Spline-942"><a href="#Spline-942"><span class="linenos"> 942</span></a>
</span><span id="Spline-943"><a href="#Spline-943"><span class="linenos"> 943</span></a><span class="sd">        dataPoints : `iterable` of array-like values</span>
</span><span id="Spline-944"><a href="#Spline-944"><span class="linenos"> 944</span></a><span class="sd">            A collection of data points. Each data point is an array of length `nInd + nDep`. </span>
</span><span id="Spline-945"><a href="#Spline-945"><span class="linenos"> 945</span></a><span class="sd">            The first `nInd` values designate the independent values for the point.</span>
</span><span id="Spline-946"><a href="#Spline-946"><span class="linenos"> 946</span></a><span class="sd">            The next `nDep` values designate the dependent values for the point. </span>
</span><span id="Spline-947"><a href="#Spline-947"><span class="linenos"> 947</span></a><span class="sd">            The data points need not form a regular mesh nor be in any particular order.</span>
</span><span id="Spline-948"><a href="#Spline-948"><span class="linenos"> 948</span></a><span class="sd">            In addition, each data point may instead have `nInd + nDep * (nInd + 1)` values, </span>
</span><span id="Spline-949"><a href="#Spline-949"><span class="linenos"> 949</span></a><span class="sd">            the first `nInd` being independent and the next `nInd + 1` sets of `nDep` values designating </span>
</span><span id="Spline-950"><a href="#Spline-950"><span class="linenos"> 950</span></a><span class="sd">            the dependent point and its first derivatives with respect to each independent variable.</span>
</span><span id="Spline-951"><a href="#Spline-951"><span class="linenos"> 951</span></a>
</span><span id="Spline-952"><a href="#Spline-952"><span class="linenos"> 952</span></a><span class="sd">        knots : `list`, optional</span>
</span><span id="Spline-953"><a href="#Spline-953"><span class="linenos"> 953</span></a><span class="sd">            A list of the lists of the knots of the spline in each independent variable.</span>
</span><span id="Spline-954"><a href="#Spline-954"><span class="linenos"> 954</span></a><span class="sd">            Default is `None`, in which case knots are chosen automatically.</span>
</span><span id="Spline-955"><a href="#Spline-955"><span class="linenos"> 955</span></a><span class="sd">        </span>
</span><span id="Spline-956"><a href="#Spline-956"><span class="linenos"> 956</span></a><span class="sd">        compression : `int`, optional</span>
</span><span id="Spline-957"><a href="#Spline-957"><span class="linenos"> 957</span></a><span class="sd">            The desired compression of data used as a percentage of the number of data points (0 - 99). </span>
</span><span id="Spline-958"><a href="#Spline-958"><span class="linenos"> 958</span></a><span class="sd">            This percentage is used to determine the total number of spline coefficients when </span>
</span><span id="Spline-959"><a href="#Spline-959"><span class="linenos"> 959</span></a><span class="sd">            knots are chosen automatically (it&#39;s ignored otherwise). The actual compression will be slightly less </span>
</span><span id="Spline-960"><a href="#Spline-960"><span class="linenos"> 960</span></a><span class="sd">            because the number of coefficients is rounded up. The default value is zero (interpolation, no compression).</span>
</span><span id="Spline-961"><a href="#Spline-961"><span class="linenos"> 961</span></a>
</span><span id="Spline-962"><a href="#Spline-962"><span class="linenos"> 962</span></a><span class="sd">        metadata : `dict`, optional</span>
</span><span id="Spline-963"><a href="#Spline-963"><span class="linenos"> 963</span></a><span class="sd">            A dictionary of ancillary data to store with the spline. Default is {}.</span>
</span><span id="Spline-964"><a href="#Spline-964"><span class="linenos"> 964</span></a>
</span><span id="Spline-965"><a href="#Spline-965"><span class="linenos"> 965</span></a><span class="sd">        Returns</span>
</span><span id="Spline-966"><a href="#Spline-966"><span class="linenos"> 966</span></a><span class="sd">        -------</span>
</span><span id="Spline-967"><a href="#Spline-967"><span class="linenos"> 967</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-968"><a href="#Spline-968"><span class="linenos"> 968</span></a><span class="sd">            A spline curve which approximates the data points.</span>
</span><span id="Spline-969"><a href="#Spline-969"><span class="linenos"> 969</span></a>
</span><span id="Spline-970"><a href="#Spline-970"><span class="linenos"> 970</span></a><span class="sd">        Notes</span>
</span><span id="Spline-971"><a href="#Spline-971"><span class="linenos"> 971</span></a><span class="sd">        -----</span>
</span><span id="Spline-972"><a href="#Spline-972"><span class="linenos"> 972</span></a><span class="sd">        Uses `numpy.linalg.lstsq` to compute the least squares solution. The returned spline.accuracy is computed </span>
</span><span id="Spline-973"><a href="#Spline-973"><span class="linenos"> 973</span></a><span class="sd">        from the sum of the residual across dependent variables and the system epsilon. </span>
</span><span id="Spline-974"><a href="#Spline-974"><span class="linenos"> 974</span></a><span class="sd">        The algorithm to choose knots automatically is from Piegl, Les A., and Wayne Tiller. </span>
</span><span id="Spline-975"><a href="#Spline-975"><span class="linenos"> 975</span></a><span class="sd">        &quot;Surface approximation to scanned data.&quot; The visual computer 16 (2000): 386-395.</span>
</span><span id="Spline-976"><a href="#Spline-976"><span class="linenos"> 976</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-977"><a href="#Spline-977"><span class="linenos"> 977</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_fitting</span><span class="o">.</span><span class="n">least_squares</span><span class="p">(</span><span class="n">nInd</span><span class="p">,</span> <span class="n">nDep</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">dataPoints</span><span class="p">,</span> <span class="n">knots</span><span class="p">,</span> <span class="n">compression</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
</span><span id="Spline-978"><a href="#Spline-978"><span class="linenos"> 978</span></a>
</span><span id="Spline-979"><a href="#Spline-979"><span class="linenos"> 979</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Spline-980"><a href="#Spline-980"><span class="linenos"> 980</span></a>    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="n">fileName</span><span class="p">,</span> <span class="n">splineType</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Spline-981"><a href="#Spline-981"><span class="linenos"> 981</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-982"><a href="#Spline-982"><span class="linenos"> 982</span></a><span class="sd">        Load a spline from the specified filename (full path).</span>
</span><span id="Spline-983"><a href="#Spline-983"><span class="linenos"> 983</span></a>
</span><span id="Spline-984"><a href="#Spline-984"><span class="linenos"> 984</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-985"><a href="#Spline-985"><span class="linenos"> 985</span></a><span class="sd">        ----------</span>
</span><span id="Spline-986"><a href="#Spline-986"><span class="linenos"> 986</span></a><span class="sd">        fileName : `string`</span>
</span><span id="Spline-987"><a href="#Spline-987"><span class="linenos"> 987</span></a><span class="sd">            The full path to the file containing the spline. Can be a relative path.</span>
</span><span id="Spline-988"><a href="#Spline-988"><span class="linenos"> 988</span></a><span class="sd">        </span>
</span><span id="Spline-989"><a href="#Spline-989"><span class="linenos"> 989</span></a><span class="sd">        splineType : `type`, optional</span>
</span><span id="Spline-990"><a href="#Spline-990"><span class="linenos"> 990</span></a><span class="sd">            The class type that should be created. It must be an instance of Spline (the default).</span>
</span><span id="Spline-991"><a href="#Spline-991"><span class="linenos"> 991</span></a><span class="sd">        </span>
</span><span id="Spline-992"><a href="#Spline-992"><span class="linenos"> 992</span></a><span class="sd">        Returns</span>
</span><span id="Spline-993"><a href="#Spline-993"><span class="linenos"> 993</span></a><span class="sd">        -------</span>
</span><span id="Spline-994"><a href="#Spline-994"><span class="linenos"> 994</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-995"><a href="#Spline-995"><span class="linenos"> 995</span></a><span class="sd">            The loaded spline.</span>
</span><span id="Spline-996"><a href="#Spline-996"><span class="linenos"> 996</span></a>
</span><span id="Spline-997"><a href="#Spline-997"><span class="linenos"> 997</span></a><span class="sd">        See Also</span>
</span><span id="Spline-998"><a href="#Spline-998"><span class="linenos"> 998</span></a><span class="sd">        --------</span>
</span><span id="Spline-999"><a href="#Spline-999"><span class="linenos"> 999</span></a><span class="sd">        `save` : Save a spline to the specified filename (full path).</span>
</span><span id="Spline-1000"><a href="#Spline-1000"><span class="linenos">1000</span></a>
</span><span id="Spline-1001"><a href="#Spline-1001"><span class="linenos">1001</span></a><span class="sd">        Notes</span>
</span><span id="Spline-1002"><a href="#Spline-1002"><span class="linenos">1002</span></a><span class="sd">        -----</span>
</span><span id="Spline-1003"><a href="#Spline-1003"><span class="linenos">1003</span></a><span class="sd">        Uses numpy&#39;s load function.</span>
</span><span id="Spline-1004"><a href="#Spline-1004"><span class="linenos">1004</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-1005"><a href="#Spline-1005"><span class="linenos">1005</span></a>        <span class="n">kw</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>
</span><span id="Spline-1006"><a href="#Spline-1006"><span class="linenos">1006</span></a>        <span class="n">order</span> <span class="o">=</span> <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;order&quot;</span><span class="p">]</span>
</span><span id="Spline-1007"><a href="#Spline-1007"><span class="linenos">1007</span></a>        <span class="n">nInd</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
</span><span id="Spline-1008"><a href="#Spline-1008"><span class="linenos">1008</span></a>        <span class="n">knots</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Spline-1009"><a href="#Spline-1009"><span class="linenos">1009</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nInd</span><span class="p">):</span>
</span><span id="Spline-1010"><a href="#Spline-1010"><span class="linenos">1010</span></a>            <span class="n">knots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">kw</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;knots</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">])</span>
</span><span id="Spline-1011"><a href="#Spline-1011"><span class="linenos">1011</span></a>        <span class="n">coefficients</span> <span class="o">=</span> <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;coefficients&quot;</span><span class="p">]</span>
</span><span id="Spline-1012"><a href="#Spline-1012"><span class="linenos">1012</span></a>
</span><span id="Spline-1013"><a href="#Spline-1013"><span class="linenos">1013</span></a>        <span class="k">if</span> <span class="n">splineType</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Spline-1014"><a href="#Spline-1014"><span class="linenos">1014</span></a>            <span class="n">splineType</span> <span class="o">=</span> <span class="n">Spline</span>
</span><span id="Spline-1015"><a href="#Spline-1015"><span class="linenos">1015</span></a>        <span class="n">spline</span> <span class="o">=</span> <span class="n">splineType</span><span class="p">(</span><span class="n">nInd</span><span class="p">,</span> <span class="n">coefficients</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">order</span><span class="p">,</span> <span class="n">coefficients</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">knots</span><span class="p">,</span> <span class="n">coefficients</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">Path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">Name</span><span class="o">=</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">fileName</span><span class="p">)[</span><span class="mi">1</span><span class="p">])[</span><span class="mi">0</span><span class="p">]))</span>
</span><span id="Spline-1016"><a href="#Spline-1016"><span class="linenos">1016</span></a>        <span class="k">return</span> <span class="n">spline</span>
</span><span id="Spline-1017"><a href="#Spline-1017"><span class="linenos">1017</span></a>
</span><span id="Spline-1018"><a href="#Spline-1018"><span class="linenos">1018</span></a>    <span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">productType</span> <span class="o">=</span> <span class="s1">&#39;S&#39;</span><span class="p">):</span>
</span><span id="Spline-1019"><a href="#Spline-1019"><span class="linenos">1019</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-1020"><a href="#Spline-1020"><span class="linenos">1020</span></a><span class="sd">        Multiply two splines (cross, dot, or scalar product).</span>
</span><span id="Spline-1021"><a href="#Spline-1021"><span class="linenos">1021</span></a>
</span><span id="Spline-1022"><a href="#Spline-1022"><span class="linenos">1022</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-1023"><a href="#Spline-1023"><span class="linenos">1023</span></a><span class="sd">        ----------</span>
</span><span id="Spline-1024"><a href="#Spline-1024"><span class="linenos">1024</span></a><span class="sd">        other : `Spline`</span>
</span><span id="Spline-1025"><a href="#Spline-1025"><span class="linenos">1025</span></a><span class="sd">            The spline to multiply by self.</span>
</span><span id="Spline-1026"><a href="#Spline-1026"><span class="linenos">1026</span></a>
</span><span id="Spline-1027"><a href="#Spline-1027"><span class="linenos">1027</span></a><span class="sd">        indMap : `iterable` or `None`, optional</span>
</span><span id="Spline-1028"><a href="#Spline-1028"><span class="linenos">1028</span></a><span class="sd">            An iterable of indices or pairs of indices. Each index refers to an independent variable.</span>
</span><span id="Spline-1029"><a href="#Spline-1029"><span class="linenos">1029</span></a><span class="sd">            Within the iterable, a single index, `n`, maps the nth independent variable of self to the same independent variable of other.</span>
</span><span id="Spline-1030"><a href="#Spline-1030"><span class="linenos">1030</span></a><span class="sd">            A pair `(n, m)` maps the nth independent variable of self to the mth independent variable of other. </span>
</span><span id="Spline-1031"><a href="#Spline-1031"><span class="linenos">1031</span></a><span class="sd">            For example, if you wanted to compute `self(u, v, w) * other(u, w)`, you&#39;d pass `[0, (2, 1)]` for `indMap`. </span>
</span><span id="Spline-1032"><a href="#Spline-1032"><span class="linenos">1032</span></a><span class="sd">            Unmapped independent variables remain independent (the default).</span>
</span><span id="Spline-1033"><a href="#Spline-1033"><span class="linenos">1033</span></a><span class="sd">            The domains of mapped independent variables must match. </span>
</span><span id="Spline-1034"><a href="#Spline-1034"><span class="linenos">1034</span></a><span class="sd">            An independent variable can map to no more than one other independent variable.</span>
</span><span id="Spline-1035"><a href="#Spline-1035"><span class="linenos">1035</span></a>
</span><span id="Spline-1036"><a href="#Spline-1036"><span class="linenos">1036</span></a><span class="sd">        productType : {&#39;C&#39;, &#39;D&#39;, &#39;S&#39;}, optional</span>
</span><span id="Spline-1037"><a href="#Spline-1037"><span class="linenos">1037</span></a><span class="sd">            The type of product to perform on the dependent variables (default is &#39;S&#39;).</span>
</span><span id="Spline-1038"><a href="#Spline-1038"><span class="linenos">1038</span></a><span class="sd">                &#39;C&#39; is for a cross product, self x other (nDep must be 2 or 3).</span>
</span><span id="Spline-1039"><a href="#Spline-1039"><span class="linenos">1039</span></a><span class="sd">                &#39;D&#39; is for a dot product (nDep must match).</span>
</span><span id="Spline-1040"><a href="#Spline-1040"><span class="linenos">1040</span></a><span class="sd">                &#39;S&#39; is for a scalar product (nDep must be 1 for one of the splines).</span>
</span><span id="Spline-1041"><a href="#Spline-1041"><span class="linenos">1041</span></a><span class="sd">        </span>
</span><span id="Spline-1042"><a href="#Spline-1042"><span class="linenos">1042</span></a><span class="sd">        Returns</span>
</span><span id="Spline-1043"><a href="#Spline-1043"><span class="linenos">1043</span></a><span class="sd">        -------</span>
</span><span id="Spline-1044"><a href="#Spline-1044"><span class="linenos">1044</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-1045"><a href="#Spline-1045"><span class="linenos">1045</span></a><span class="sd">            The result of multiplying self and other.</span>
</span><span id="Spline-1046"><a href="#Spline-1046"><span class="linenos">1046</span></a>
</span><span id="Spline-1047"><a href="#Spline-1047"><span class="linenos">1047</span></a><span class="sd">        See Also</span>
</span><span id="Spline-1048"><a href="#Spline-1048"><span class="linenos">1048</span></a><span class="sd">        --------</span>
</span><span id="Spline-1049"><a href="#Spline-1049"><span class="linenos">1049</span></a><span class="sd">        `add` : Add two splines.</span>
</span><span id="Spline-1050"><a href="#Spline-1050"><span class="linenos">1050</span></a><span class="sd">        `subtract` : Subtract two splines.</span>
</span><span id="Spline-1051"><a href="#Spline-1051"><span class="linenos">1051</span></a><span class="sd">        `convolve` : Convolve two splines (cross, dot, or scalar product).</span>
</span><span id="Spline-1052"><a href="#Spline-1052"><span class="linenos">1052</span></a>
</span><span id="Spline-1053"><a href="#Spline-1053"><span class="linenos">1053</span></a><span class="sd">        Notes</span>
</span><span id="Spline-1054"><a href="#Spline-1054"><span class="linenos">1054</span></a><span class="sd">        -----</span>
</span><span id="Spline-1055"><a href="#Spline-1055"><span class="linenos">1055</span></a><span class="sd">        Taken in part from Lee, E. T. Y. &quot;Computing a chain of blossoms, with application to products of splines.&quot; </span>
</span><span id="Spline-1056"><a href="#Spline-1056"><span class="linenos">1056</span></a><span class="sd">        Computer Aided Geometric Design 11, no. 6 (1994): 597-620.</span>
</span><span id="Spline-1057"><a href="#Spline-1057"><span class="linenos">1057</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-1058"><a href="#Spline-1058"><span class="linenos">1058</span></a>        <span class="k">if</span> <span class="n">indMap</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Spline-1059"><a href="#Spline-1059"><span class="linenos">1059</span></a>            <span class="n">indMap</span> <span class="o">=</span> <span class="p">[(</span><span class="o">*</span><span class="p">(</span><span class="n">mapping</span> <span class="k">if</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">mapping</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">mapping</span><span class="p">)),</span> <span class="kc">False</span><span class="p">)</span> <span class="k">for</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="n">indMap</span><span class="p">]</span>
</span><span id="Spline-1060"><a href="#Spline-1060"><span class="linenos">1060</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">multiplyAndConvolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span><span class="p">,</span> <span class="n">productType</span><span class="p">)</span>
</span><span id="Spline-1061"><a href="#Spline-1061"><span class="linenos">1061</span></a>
</span><span id="Spline-1062"><a href="#Spline-1062"><span class="linenos">1062</span></a>    <span class="k">def</span> <span class="nf">normal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">,</span> <span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">indices</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Spline-1063"><a href="#Spline-1063"><span class="linenos">1063</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-1064"><a href="#Spline-1064"><span class="linenos">1064</span></a><span class="sd">        Compute the normal of the spline at given parameter values. The number of independent variables must be</span>
</span><span id="Spline-1065"><a href="#Spline-1065"><span class="linenos">1065</span></a><span class="sd">        one different than the number of dependent variables.</span>
</span><span id="Spline-1066"><a href="#Spline-1066"><span class="linenos">1066</span></a>
</span><span id="Spline-1067"><a href="#Spline-1067"><span class="linenos">1067</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-1068"><a href="#Spline-1068"><span class="linenos">1068</span></a><span class="sd">        ----------</span>
</span><span id="Spline-1069"><a href="#Spline-1069"><span class="linenos">1069</span></a><span class="sd">        uvw : `iterable`</span>
</span><span id="Spline-1070"><a href="#Spline-1070"><span class="linenos">1070</span></a><span class="sd">            An iterable of length `nInd` that specifies the values of each independent variable (the parameter values).</span>
</span><span id="Spline-1071"><a href="#Spline-1071"><span class="linenos">1071</span></a><span class="sd">        </span>
</span><span id="Spline-1072"><a href="#Spline-1072"><span class="linenos">1072</span></a><span class="sd">        normalize : `boolean`, optional</span>
</span><span id="Spline-1073"><a href="#Spline-1073"><span class="linenos">1073</span></a><span class="sd">            If True the returned normal will have unit length (the default). Otherwise, the normal&#39;s length will</span>
</span><span id="Spline-1074"><a href="#Spline-1074"><span class="linenos">1074</span></a><span class="sd">            be the area of the tangent space (for two independent variables, its the length of the cross product of tangent vectors).</span>
</span><span id="Spline-1075"><a href="#Spline-1075"><span class="linenos">1075</span></a><span class="sd">        </span>
</span><span id="Spline-1076"><a href="#Spline-1076"><span class="linenos">1076</span></a><span class="sd">        indices : `iterable`, optional</span>
</span><span id="Spline-1077"><a href="#Spline-1077"><span class="linenos">1077</span></a><span class="sd">            An iterable of normal indices to calculate. For example, `indices=(0, 3)` will return a vector of length 2</span>
</span><span id="Spline-1078"><a href="#Spline-1078"><span class="linenos">1078</span></a><span class="sd">            with the first and fourth values of the normal. If `None`, all normal values are returned (the default).</span>
</span><span id="Spline-1079"><a href="#Spline-1079"><span class="linenos">1079</span></a>
</span><span id="Spline-1080"><a href="#Spline-1080"><span class="linenos">1080</span></a><span class="sd">        Returns</span>
</span><span id="Spline-1081"><a href="#Spline-1081"><span class="linenos">1081</span></a><span class="sd">        -------</span>
</span><span id="Spline-1082"><a href="#Spline-1082"><span class="linenos">1082</span></a><span class="sd">        normal : `numpy.array`</span>
</span><span id="Spline-1083"><a href="#Spline-1083"><span class="linenos">1083</span></a><span class="sd">            The normal vector of the spline at the given parameter values.</span>
</span><span id="Spline-1084"><a href="#Spline-1084"><span class="linenos">1084</span></a>
</span><span id="Spline-1085"><a href="#Spline-1085"><span class="linenos">1085</span></a><span class="sd">        See Also</span>
</span><span id="Spline-1086"><a href="#Spline-1086"><span class="linenos">1086</span></a><span class="sd">        --------</span>
</span><span id="Spline-1087"><a href="#Spline-1087"><span class="linenos">1087</span></a><span class="sd">        `derivative` : Compute the derivative of the spline at a given parameter value.</span>
</span><span id="Spline-1088"><a href="#Spline-1088"><span class="linenos">1088</span></a><span class="sd">        `normal_spline` : Compute a spline that evaluates to the normal of the given spline (not normalized).</span>
</span><span id="Spline-1089"><a href="#Spline-1089"><span class="linenos">1089</span></a>
</span><span id="Spline-1090"><a href="#Spline-1090"><span class="linenos">1090</span></a><span class="sd">        Notes</span>
</span><span id="Spline-1091"><a href="#Spline-1091"><span class="linenos">1091</span></a><span class="sd">        -----</span>
</span><span id="Spline-1092"><a href="#Spline-1092"><span class="linenos">1092</span></a><span class="sd">        Attentive readers will notice that the number of independent variables could be one more than the number of </span>
</span><span id="Spline-1093"><a href="#Spline-1093"><span class="linenos">1093</span></a><span class="sd">        dependent variables (instead of one less, as is typical). In that case, the normal represents the null space of </span>
</span><span id="Spline-1094"><a href="#Spline-1094"><span class="linenos">1094</span></a><span class="sd">        the matrix formed by the tangents of the spline. If the null space is greater than one dimension, the normal will be zero.</span>
</span><span id="Spline-1095"><a href="#Spline-1095"><span class="linenos">1095</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-1096"><a href="#Spline-1096"><span class="linenos">1096</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">,</span> <span class="n">normalize</span><span class="p">,</span> <span class="n">indices</span><span class="p">)</span>
</span><span id="Spline-1097"><a href="#Spline-1097"><span class="linenos">1097</span></a>
</span><span id="Spline-1098"><a href="#Spline-1098"><span class="linenos">1098</span></a>    <span class="k">def</span> <span class="nf">normal_spline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indices</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Spline-1099"><a href="#Spline-1099"><span class="linenos">1099</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-1100"><a href="#Spline-1100"><span class="linenos">1100</span></a><span class="sd">        Compute a spline that evaluates to the normal of the given spline. The length of the normal</span>
</span><span id="Spline-1101"><a href="#Spline-1101"><span class="linenos">1101</span></a><span class="sd">        is the area of the tangent space (for two independent variables, its the length of the cross product of tangent vectors).</span>
</span><span id="Spline-1102"><a href="#Spline-1102"><span class="linenos">1102</span></a><span class="sd">        The number of independent variables must be one different than the number of dependent variables.</span>
</span><span id="Spline-1103"><a href="#Spline-1103"><span class="linenos">1103</span></a>
</span><span id="Spline-1104"><a href="#Spline-1104"><span class="linenos">1104</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-1105"><a href="#Spline-1105"><span class="linenos">1105</span></a><span class="sd">        ----------</span>
</span><span id="Spline-1106"><a href="#Spline-1106"><span class="linenos">1106</span></a><span class="sd">        indices : `iterable`, optional</span>
</span><span id="Spline-1107"><a href="#Spline-1107"><span class="linenos">1107</span></a><span class="sd">            An iterable of normal indices to calculate. For example, `indices=(0, 3)` will make the returned spline compute a vector of length 2</span>
</span><span id="Spline-1108"><a href="#Spline-1108"><span class="linenos">1108</span></a><span class="sd">            with the first and fourth values of the normal. If `None`, all normal values are returned (the default).</span>
</span><span id="Spline-1109"><a href="#Spline-1109"><span class="linenos">1109</span></a>
</span><span id="Spline-1110"><a href="#Spline-1110"><span class="linenos">1110</span></a><span class="sd">        Returns</span>
</span><span id="Spline-1111"><a href="#Spline-1111"><span class="linenos">1111</span></a><span class="sd">        -------</span>
</span><span id="Spline-1112"><a href="#Spline-1112"><span class="linenos">1112</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-1113"><a href="#Spline-1113"><span class="linenos">1113</span></a><span class="sd">            The spline that evaluates to the normal of the given spline.</span>
</span><span id="Spline-1114"><a href="#Spline-1114"><span class="linenos">1114</span></a>
</span><span id="Spline-1115"><a href="#Spline-1115"><span class="linenos">1115</span></a><span class="sd">        See Also</span>
</span><span id="Spline-1116"><a href="#Spline-1116"><span class="linenos">1116</span></a><span class="sd">        --------</span>
</span><span id="Spline-1117"><a href="#Spline-1117"><span class="linenos">1117</span></a><span class="sd">        `normal` : Compute the normal of the spline at given parameter values.</span>
</span><span id="Spline-1118"><a href="#Spline-1118"><span class="linenos">1118</span></a><span class="sd">        `differentiate` : Differentiate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="Spline-1119"><a href="#Spline-1119"><span class="linenos">1119</span></a>
</span><span id="Spline-1120"><a href="#Spline-1120"><span class="linenos">1120</span></a><span class="sd">        Notes</span>
</span><span id="Spline-1121"><a href="#Spline-1121"><span class="linenos">1121</span></a><span class="sd">        -----</span>
</span><span id="Spline-1122"><a href="#Spline-1122"><span class="linenos">1122</span></a><span class="sd">        Attentive readers will notice that the number of independent variables could be one more than the number of </span>
</span><span id="Spline-1123"><a href="#Spline-1123"><span class="linenos">1123</span></a><span class="sd">        dependent variables (instead of one less, as is typical). In that case, the normal represents the null space of </span>
</span><span id="Spline-1124"><a href="#Spline-1124"><span class="linenos">1124</span></a><span class="sd">        the matrix formed by the tangents of the spline. If the null space is greater than one dimension, the normal will be zero.</span>
</span><span id="Spline-1125"><a href="#Spline-1125"><span class="linenos">1125</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-1126"><a href="#Spline-1126"><span class="linenos">1126</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">normal_spline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indices</span><span class="p">)</span>
</span><span id="Spline-1127"><a href="#Spline-1127"><span class="linenos">1127</span></a>
</span><span id="Spline-1128"><a href="#Spline-1128"><span class="linenos">1128</span></a>    <span class="k">def</span> <span class="nf">range_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Spline-1129"><a href="#Spline-1129"><span class="linenos">1129</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-1130"><a href="#Spline-1130"><span class="linenos">1130</span></a><span class="sd">        Return the range of a spline as lower and upper bounds on each of the</span>
</span><span id="Spline-1131"><a href="#Spline-1131"><span class="linenos">1131</span></a><span class="sd">        dependent variables</span>
</span><span id="Spline-1132"><a href="#Spline-1132"><span class="linenos">1132</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-1133"><a href="#Spline-1133"><span class="linenos">1133</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">range_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Spline-1134"><a href="#Spline-1134"><span class="linenos">1134</span></a>
</span><span id="Spline-1135"><a href="#Spline-1135"><span class="linenos">1135</span></a>    <span class="k">def</span> <span class="nf">remove_knots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">oldKnots</span><span class="o">=</span><span class="p">((),),</span> <span class="n">maxRemovalsPerKnot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Spline-1136"><a href="#Spline-1136"><span class="linenos">1136</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-1137"><a href="#Spline-1137"><span class="linenos">1137</span></a><span class="sd">        Remove interior knots from a spline.</span>
</span><span id="Spline-1138"><a href="#Spline-1138"><span class="linenos">1138</span></a>
</span><span id="Spline-1139"><a href="#Spline-1139"><span class="linenos">1139</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-1140"><a href="#Spline-1140"><span class="linenos">1140</span></a><span class="sd">        ----------</span>
</span><span id="Spline-1141"><a href="#Spline-1141"><span class="linenos">1141</span></a><span class="sd">        oldKnots : `iterable` of length `nInd`, optional</span>
</span><span id="Spline-1142"><a href="#Spline-1142"><span class="linenos">1142</span></a><span class="sd">            An iterable that specifies the knots that can be removed from each independent variable&#39;s interior knots. </span>
</span><span id="Spline-1143"><a href="#Spline-1143"><span class="linenos">1143</span></a><span class="sd">            len(newKnots[ind]) == 0 if all interior knots can be removed for the `ind` independent variable (the default). </span>
</span><span id="Spline-1144"><a href="#Spline-1144"><span class="linenos">1144</span></a><span class="sd">            Knots that don&#39;t appear in the independent variable&#39;s interior knots are ignored.</span>
</span><span id="Spline-1145"><a href="#Spline-1145"><span class="linenos">1145</span></a><span class="sd">        </span>
</span><span id="Spline-1146"><a href="#Spline-1146"><span class="linenos">1146</span></a><span class="sd">        maxRemovalsPerKnot : `int`, optional</span>
</span><span id="Spline-1147"><a href="#Spline-1147"><span class="linenos">1147</span></a><span class="sd">            A non-zero count of the largest number of times a knot can be removed. For example, one means that </span>
</span><span id="Spline-1148"><a href="#Spline-1148"><span class="linenos">1148</span></a><span class="sd">            only one instance of each knot can be removed. (Zero means each knot can be removed completely, </span>
</span><span id="Spline-1149"><a href="#Spline-1149"><span class="linenos">1149</span></a><span class="sd">            which is the default.)</span>
</span><span id="Spline-1150"><a href="#Spline-1150"><span class="linenos">1150</span></a><span class="sd">        </span>
</span><span id="Spline-1151"><a href="#Spline-1151"><span class="linenos">1151</span></a><span class="sd">        tolerance : `float` or `None`, optional</span>
</span><span id="Spline-1152"><a href="#Spline-1152"><span class="linenos">1152</span></a><span class="sd">            The maximum residual error permitted after removing a knot. Knots will not be removed if the </span>
</span><span id="Spline-1153"><a href="#Spline-1153"><span class="linenos">1153</span></a><span class="sd">            resulting residual error is above this threshold. Default is `None`, meaning all specified knots </span>
</span><span id="Spline-1154"><a href="#Spline-1154"><span class="linenos">1154</span></a><span class="sd">            will be removed up to `maxRemovalsPerKnot`.</span>
</span><span id="Spline-1155"><a href="#Spline-1155"><span class="linenos">1155</span></a>
</span><span id="Spline-1156"><a href="#Spline-1156"><span class="linenos">1156</span></a><span class="sd">        Returns</span>
</span><span id="Spline-1157"><a href="#Spline-1157"><span class="linenos">1157</span></a><span class="sd">        -------</span>
</span><span id="Spline-1158"><a href="#Spline-1158"><span class="linenos">1158</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-1159"><a href="#Spline-1159"><span class="linenos">1159</span></a><span class="sd">            A spline with the knots removed.</span>
</span><span id="Spline-1160"><a href="#Spline-1160"><span class="linenos">1160</span></a><span class="sd">        </span>
</span><span id="Spline-1161"><a href="#Spline-1161"><span class="linenos">1161</span></a><span class="sd">        totalRemoved : `int`</span>
</span><span id="Spline-1162"><a href="#Spline-1162"><span class="linenos">1162</span></a><span class="sd">            The total number of knots removed.</span>
</span><span id="Spline-1163"><a href="#Spline-1163"><span class="linenos">1163</span></a><span class="sd">        </span>
</span><span id="Spline-1164"><a href="#Spline-1164"><span class="linenos">1164</span></a><span class="sd">        residualError : `float`</span>
</span><span id="Spline-1165"><a href="#Spline-1165"><span class="linenos">1165</span></a><span class="sd">            The residual error relative to the old spline. (The returned spline&#39;s accuracy is also adjusted accordingly.)</span>
</span><span id="Spline-1166"><a href="#Spline-1166"><span class="linenos">1166</span></a>
</span><span id="Spline-1167"><a href="#Spline-1167"><span class="linenos">1167</span></a><span class="sd">        See Also</span>
</span><span id="Spline-1168"><a href="#Spline-1168"><span class="linenos">1168</span></a><span class="sd">        --------</span>
</span><span id="Spline-1169"><a href="#Spline-1169"><span class="linenos">1169</span></a><span class="sd">        `insert_knots` : Insert new knots into a spline.</span>
</span><span id="Spline-1170"><a href="#Spline-1170"><span class="linenos">1170</span></a><span class="sd">        `trim` : Trim the domain of a spline.</span>
</span><span id="Spline-1171"><a href="#Spline-1171"><span class="linenos">1171</span></a>
</span><span id="Spline-1172"><a href="#Spline-1172"><span class="linenos">1172</span></a><span class="sd">        Notes</span>
</span><span id="Spline-1173"><a href="#Spline-1173"><span class="linenos">1173</span></a><span class="sd">        -----</span>
</span><span id="Spline-1174"><a href="#Spline-1174"><span class="linenos">1174</span></a><span class="sd">        Implements a variation of the algorithms from Tiller, Wayne. &quot;Knot-removal algorithms for NURBS curves and surfaces.&quot; Computer-Aided Design 24, no. 8 (1992): 445-453.</span>
</span><span id="Spline-1175"><a href="#Spline-1175"><span class="linenos">1175</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-1176"><a href="#Spline-1176"><span class="linenos">1176</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">remove_knots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">oldKnots</span><span class="p">,</span> <span class="n">maxRemovalsPerKnot</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span>
</span><span id="Spline-1177"><a href="#Spline-1177"><span class="linenos">1177</span></a>
</span><span id="Spline-1178"><a href="#Spline-1178"><span class="linenos">1178</span></a>    <span class="k">def</span> <span class="nf">reparametrize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newDomain</span><span class="p">):</span>
</span><span id="Spline-1179"><a href="#Spline-1179"><span class="linenos">1179</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-1180"><a href="#Spline-1180"><span class="linenos">1180</span></a><span class="sd">        Reparametrize a spline to match new domain bounds. The spline&#39;s number of knots and its coefficients remain unchanged.</span>
</span><span id="Spline-1181"><a href="#Spline-1181"><span class="linenos">1181</span></a>
</span><span id="Spline-1182"><a href="#Spline-1182"><span class="linenos">1182</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-1183"><a href="#Spline-1183"><span class="linenos">1183</span></a><span class="sd">        ----------</span>
</span><span id="Spline-1184"><a href="#Spline-1184"><span class="linenos">1184</span></a><span class="sd">        newDomain : array-like</span>
</span><span id="Spline-1185"><a href="#Spline-1185"><span class="linenos">1185</span></a><span class="sd">            nInd x 2 array of the new upper and lower bounds on each of the independent variables (same form as </span>
</span><span id="Spline-1186"><a href="#Spline-1186"><span class="linenos">1186</span></a><span class="sd">            returned from `domain`). If a bound pair is `None` then the original bound (and knots) are left unchanged. </span>
</span><span id="Spline-1187"><a href="#Spline-1187"><span class="linenos">1187</span></a><span class="sd">            For example, `[[0.0, 1.0], None]` will reparametrize the first independent variable and leave the second unchanged)</span>
</span><span id="Spline-1188"><a href="#Spline-1188"><span class="linenos">1188</span></a>
</span><span id="Spline-1189"><a href="#Spline-1189"><span class="linenos">1189</span></a><span class="sd">        Returns</span>
</span><span id="Spline-1190"><a href="#Spline-1190"><span class="linenos">1190</span></a><span class="sd">        -------</span>
</span><span id="Spline-1191"><a href="#Spline-1191"><span class="linenos">1191</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-1192"><a href="#Spline-1192"><span class="linenos">1192</span></a><span class="sd">            Reparametrized spline.</span>
</span><span id="Spline-1193"><a href="#Spline-1193"><span class="linenos">1193</span></a>
</span><span id="Spline-1194"><a href="#Spline-1194"><span class="linenos">1194</span></a><span class="sd">        See Also</span>
</span><span id="Spline-1195"><a href="#Spline-1195"><span class="linenos">1195</span></a><span class="sd">        --------</span>
</span><span id="Spline-1196"><a href="#Spline-1196"><span class="linenos">1196</span></a><span class="sd">        `domain` : Return the domain of a spline.</span>
</span><span id="Spline-1197"><a href="#Spline-1197"><span class="linenos">1197</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-1198"><a href="#Spline-1198"><span class="linenos">1198</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">reparametrize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newDomain</span><span class="p">)</span>
</span><span id="Spline-1199"><a href="#Spline-1199"><span class="linenos">1199</span></a>
</span><span id="Spline-1200"><a href="#Spline-1200"><span class="linenos">1200</span></a>    <span class="k">def</span> <span class="nf">reverse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">variable</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="Spline-1201"><a href="#Spline-1201"><span class="linenos">1201</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-1202"><a href="#Spline-1202"><span class="linenos">1202</span></a><span class="sd">        Reverse the direction of a spline along one of the independent variables</span>
</span><span id="Spline-1203"><a href="#Spline-1203"><span class="linenos">1203</span></a>
</span><span id="Spline-1204"><a href="#Spline-1204"><span class="linenos">1204</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-1205"><a href="#Spline-1205"><span class="linenos">1205</span></a><span class="sd">        ----------</span>
</span><span id="Spline-1206"><a href="#Spline-1206"><span class="linenos">1206</span></a><span class="sd">        variable : integer</span>
</span><span id="Spline-1207"><a href="#Spline-1207"><span class="linenos">1207</span></a><span class="sd">            index of the independent variable to reverse the direction of.</span>
</span><span id="Spline-1208"><a href="#Spline-1208"><span class="linenos">1208</span></a><span class="sd">        </span>
</span><span id="Spline-1209"><a href="#Spline-1209"><span class="linenos">1209</span></a><span class="sd">        Returns</span>
</span><span id="Spline-1210"><a href="#Spline-1210"><span class="linenos">1210</span></a><span class="sd">        -------</span>
</span><span id="Spline-1211"><a href="#Spline-1211"><span class="linenos">1211</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-1212"><a href="#Spline-1212"><span class="linenos">1212</span></a><span class="sd">            Reparametrized (i.e. reversed) spline.</span>
</span><span id="Spline-1213"><a href="#Spline-1213"><span class="linenos">1213</span></a><span class="sd">        </span>
</span><span id="Spline-1214"><a href="#Spline-1214"><span class="linenos">1214</span></a><span class="sd">        See Also</span>
</span><span id="Spline-1215"><a href="#Spline-1215"><span class="linenos">1215</span></a><span class="sd">        --------</span>
</span><span id="Spline-1216"><a href="#Spline-1216"><span class="linenos">1216</span></a><span class="sd">        `reparametrize` : Reparametrize a spline</span>
</span><span id="Spline-1217"><a href="#Spline-1217"><span class="linenos">1217</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-1218"><a href="#Spline-1218"><span class="linenos">1218</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">reverse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">variable</span><span class="p">)</span>
</span><span id="Spline-1219"><a href="#Spline-1219"><span class="linenos">1219</span></a>
</span><span id="Spline-1220"><a href="#Spline-1220"><span class="linenos">1220</span></a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileName</span><span class="p">):</span>
</span><span id="Spline-1221"><a href="#Spline-1221"><span class="linenos">1221</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-1222"><a href="#Spline-1222"><span class="linenos">1222</span></a><span class="sd">        Save a spline to the specified filename (full path).</span>
</span><span id="Spline-1223"><a href="#Spline-1223"><span class="linenos">1223</span></a>
</span><span id="Spline-1224"><a href="#Spline-1224"><span class="linenos">1224</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-1225"><a href="#Spline-1225"><span class="linenos">1225</span></a><span class="sd">        ----------</span>
</span><span id="Spline-1226"><a href="#Spline-1226"><span class="linenos">1226</span></a><span class="sd">        fileName : `string`</span>
</span><span id="Spline-1227"><a href="#Spline-1227"><span class="linenos">1227</span></a><span class="sd">            The full path to the file containing the spline. Can be a relative path.</span>
</span><span id="Spline-1228"><a href="#Spline-1228"><span class="linenos">1228</span></a><span class="sd">        </span>
</span><span id="Spline-1229"><a href="#Spline-1229"><span class="linenos">1229</span></a><span class="sd">        See Also</span>
</span><span id="Spline-1230"><a href="#Spline-1230"><span class="linenos">1230</span></a><span class="sd">        --------</span>
</span><span id="Spline-1231"><a href="#Spline-1231"><span class="linenos">1231</span></a><span class="sd">        `load` : Load a spline from the specified filename (full path).</span>
</span><span id="Spline-1232"><a href="#Spline-1232"><span class="linenos">1232</span></a>
</span><span id="Spline-1233"><a href="#Spline-1233"><span class="linenos">1233</span></a><span class="sd">        Notes</span>
</span><span id="Spline-1234"><a href="#Spline-1234"><span class="linenos">1234</span></a><span class="sd">        -----</span>
</span><span id="Spline-1235"><a href="#Spline-1235"><span class="linenos">1235</span></a><span class="sd">        Uses numpy&#39;s savez function. Accuracy and metadata are not saved.</span>
</span><span id="Spline-1236"><a href="#Spline-1236"><span class="linenos">1236</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-1237"><a href="#Spline-1237"><span class="linenos">1237</span></a>        <span class="n">kw</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Spline-1238"><a href="#Spline-1238"><span class="linenos">1238</span></a>        <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;order&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">order</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>
</span><span id="Spline-1239"><a href="#Spline-1239"><span class="linenos">1239</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">knots</span><span class="p">)):</span>
</span><span id="Spline-1240"><a href="#Spline-1240"><span class="linenos">1240</span></a>            <span class="n">kw</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;knots</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">knots</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="Spline-1241"><a href="#Spline-1241"><span class="linenos">1241</span></a>        <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;coefficients&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span>
</span><span id="Spline-1242"><a href="#Spline-1242"><span class="linenos">1242</span></a>        <span class="n">np</span><span class="o">.</span><span class="n">savez</span><span class="p">(</span><span class="n">fileName</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span> <span class="p">)</span>
</span><span id="Spline-1243"><a href="#Spline-1243"><span class="linenos">1243</span></a>
</span><span id="Spline-1244"><a href="#Spline-1244"><span class="linenos">1244</span></a>    <span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiplier</span><span class="p">):</span>
</span><span id="Spline-1245"><a href="#Spline-1245"><span class="linenos">1245</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-1246"><a href="#Spline-1246"><span class="linenos">1246</span></a><span class="sd">        Scale a spline by the given scalar or scale vector.</span>
</span><span id="Spline-1247"><a href="#Spline-1247"><span class="linenos">1247</span></a>
</span><span id="Spline-1248"><a href="#Spline-1248"><span class="linenos">1248</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-1249"><a href="#Spline-1249"><span class="linenos">1249</span></a><span class="sd">        ----------</span>
</span><span id="Spline-1250"><a href="#Spline-1250"><span class="linenos">1250</span></a><span class="sd">        multiplier : scalar, array-like, or `Spline`</span>
</span><span id="Spline-1251"><a href="#Spline-1251"><span class="linenos">1251</span></a><span class="sd">            A scalar, an array of length `nDep`, or spline that specifies the multiplier.</span>
</span><span id="Spline-1252"><a href="#Spline-1252"><span class="linenos">1252</span></a>
</span><span id="Spline-1253"><a href="#Spline-1253"><span class="linenos">1253</span></a><span class="sd">        Returns</span>
</span><span id="Spline-1254"><a href="#Spline-1254"><span class="linenos">1254</span></a><span class="sd">        -------</span>
</span><span id="Spline-1255"><a href="#Spline-1255"><span class="linenos">1255</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-1256"><a href="#Spline-1256"><span class="linenos">1256</span></a><span class="sd">            The scaled spline.</span>
</span><span id="Spline-1257"><a href="#Spline-1257"><span class="linenos">1257</span></a>
</span><span id="Spline-1258"><a href="#Spline-1258"><span class="linenos">1258</span></a><span class="sd">        See Also</span>
</span><span id="Spline-1259"><a href="#Spline-1259"><span class="linenos">1259</span></a><span class="sd">        --------</span>
</span><span id="Spline-1260"><a href="#Spline-1260"><span class="linenos">1260</span></a><span class="sd">        `multiply` : Multiply two splines (cross, dot, or scalar product).</span>
</span><span id="Spline-1261"><a href="#Spline-1261"><span class="linenos">1261</span></a><span class="sd">        `transform` : Transform a spline by the given matrix.</span>
</span><span id="Spline-1262"><a href="#Spline-1262"><span class="linenos">1262</span></a><span class="sd">        `translate` : Translate a spline by the given translation vector.</span>
</span><span id="Spline-1263"><a href="#Spline-1263"><span class="linenos">1263</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-1264"><a href="#Spline-1264"><span class="linenos">1264</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiplier</span><span class="p">)</span>
</span><span id="Spline-1265"><a href="#Spline-1265"><span class="linenos">1265</span></a>    
</span><span id="Spline-1266"><a href="#Spline-1266"><span class="linenos">1266</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Spline-1267"><a href="#Spline-1267"><span class="linenos">1267</span></a>    <span class="k">def</span> <span class="nf">section</span><span class="p">(</span><span class="n">xytk</span><span class="p">):</span>
</span><span id="Spline-1268"><a href="#Spline-1268"><span class="linenos">1268</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-1269"><a href="#Spline-1269"><span class="linenos">1269</span></a><span class="sd">        Fit a planar section to the list of 4-tuples of data.</span>
</span><span id="Spline-1270"><a href="#Spline-1270"><span class="linenos">1270</span></a>
</span><span id="Spline-1271"><a href="#Spline-1271"><span class="linenos">1271</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-1272"><a href="#Spline-1272"><span class="linenos">1272</span></a><span class="sd">        ----------</span>
</span><span id="Spline-1273"><a href="#Spline-1273"><span class="linenos">1273</span></a><span class="sd">        xytk : array-like</span>
</span><span id="Spline-1274"><a href="#Spline-1274"><span class="linenos">1274</span></a><span class="sd">            A list of points to fit an interpolating spline to.  Each point in the list contains</span>
</span><span id="Spline-1275"><a href="#Spline-1275"><span class="linenos">1275</span></a><span class="sd">            four values.  The first two are x and y coordinates of the point.  The third value is the</span>
</span><span id="Spline-1276"><a href="#Spline-1276"><span class="linenos">1276</span></a><span class="sd">            angle that the tangent makes as the desired section passes through that point (in degrees).</span>
</span><span id="Spline-1277"><a href="#Spline-1277"><span class="linenos">1277</span></a><span class="sd">            The fourth value is the desired curvature at that point</span>
</span><span id="Spline-1278"><a href="#Spline-1278"><span class="linenos">1278</span></a>
</span><span id="Spline-1279"><a href="#Spline-1279"><span class="linenos">1279</span></a><span class="sd">        Returns</span>
</span><span id="Spline-1280"><a href="#Spline-1280"><span class="linenos">1280</span></a><span class="sd">        -------</span>
</span><span id="Spline-1281"><a href="#Spline-1281"><span class="linenos">1281</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-1282"><a href="#Spline-1282"><span class="linenos">1282</span></a><span class="sd">            A quartic spline which interpolates the given values.</span>
</span><span id="Spline-1283"><a href="#Spline-1283"><span class="linenos">1283</span></a>
</span><span id="Spline-1284"><a href="#Spline-1284"><span class="linenos">1284</span></a><span class="sd">        Notes</span>
</span><span id="Spline-1285"><a href="#Spline-1285"><span class="linenos">1285</span></a><span class="sd">        -----</span>
</span><span id="Spline-1286"><a href="#Spline-1286"><span class="linenos">1286</span></a><span class="sd">        The spline is shape-preserving.  Each consecutive pair of data points must describe a convex or</span>
</span><span id="Spline-1287"><a href="#Spline-1287"><span class="linenos">1287</span></a><span class="sd">        concave curve.  In particular, if it is impossible for a differentiable curve to interpolate two</span>
</span><span id="Spline-1288"><a href="#Spline-1288"><span class="linenos">1288</span></a><span class="sd">        consecutive data points without passing through an intermediate inflection point (i.e. a point which</span>
</span><span id="Spline-1289"><a href="#Spline-1289"><span class="linenos">1289</span></a><span class="sd">        has zero curvature and at which the sign of the curvature changes), then this method will fail</span>
</span><span id="Spline-1290"><a href="#Spline-1290"><span class="linenos">1290</span></a><span class="sd">        with an error.</span>
</span><span id="Spline-1291"><a href="#Spline-1291"><span class="linenos">1291</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-1292"><a href="#Spline-1292"><span class="linenos">1292</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_fitting</span><span class="o">.</span><span class="n">section</span><span class="p">(</span><span class="n">xytk</span><span class="p">)</span>
</span><span id="Spline-1293"><a href="#Spline-1293"><span class="linenos">1293</span></a>
</span><span id="Spline-1294"><a href="#Spline-1294"><span class="linenos">1294</span></a>    <span class="k">def</span> <span class="nf">subtract</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="Spline-1295"><a href="#Spline-1295"><span class="linenos">1295</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-1296"><a href="#Spline-1296"><span class="linenos">1296</span></a><span class="sd">        Subtract two splines.</span>
</span><span id="Spline-1297"><a href="#Spline-1297"><span class="linenos">1297</span></a>
</span><span id="Spline-1298"><a href="#Spline-1298"><span class="linenos">1298</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-1299"><a href="#Spline-1299"><span class="linenos">1299</span></a><span class="sd">        ----------</span>
</span><span id="Spline-1300"><a href="#Spline-1300"><span class="linenos">1300</span></a><span class="sd">        other : `Spline`</span>
</span><span id="Spline-1301"><a href="#Spline-1301"><span class="linenos">1301</span></a><span class="sd">            The spline to subtract from self. The number of dependent variables must match self.</span>
</span><span id="Spline-1302"><a href="#Spline-1302"><span class="linenos">1302</span></a>
</span><span id="Spline-1303"><a href="#Spline-1303"><span class="linenos">1303</span></a><span class="sd">        indMap : `iterable` or `None`, optional</span>
</span><span id="Spline-1304"><a href="#Spline-1304"><span class="linenos">1304</span></a><span class="sd">            An iterable of indices or pairs of indices. Each index refers to an independent variable.</span>
</span><span id="Spline-1305"><a href="#Spline-1305"><span class="linenos">1305</span></a><span class="sd">            Within the iterable, a single index, `n`, maps the nth independent variable of self to the same independent variable of other.</span>
</span><span id="Spline-1306"><a href="#Spline-1306"><span class="linenos">1306</span></a><span class="sd">            A pair `(n, m)` maps the nth independent variable of self to the mth independent variable of other. </span>
</span><span id="Spline-1307"><a href="#Spline-1307"><span class="linenos">1307</span></a><span class="sd">            For example, if you wanted to compute `self(u, v, w) - other(u, w)`, you&#39;d pass `[0, (2, 1)]` for `indMap`. </span>
</span><span id="Spline-1308"><a href="#Spline-1308"><span class="linenos">1308</span></a><span class="sd">            Unmapped independent variables remain independent (the default).</span>
</span><span id="Spline-1309"><a href="#Spline-1309"><span class="linenos">1309</span></a><span class="sd">            The domains of mapped independent variables must match. </span>
</span><span id="Spline-1310"><a href="#Spline-1310"><span class="linenos">1310</span></a><span class="sd">            An independent variable can map to no more than one other independent variable.</span>
</span><span id="Spline-1311"><a href="#Spline-1311"><span class="linenos">1311</span></a>
</span><span id="Spline-1312"><a href="#Spline-1312"><span class="linenos">1312</span></a><span class="sd">        Returns</span>
</span><span id="Spline-1313"><a href="#Spline-1313"><span class="linenos">1313</span></a><span class="sd">        -------</span>
</span><span id="Spline-1314"><a href="#Spline-1314"><span class="linenos">1314</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-1315"><a href="#Spline-1315"><span class="linenos">1315</span></a><span class="sd">            The result of subtracting other from self.</span>
</span><span id="Spline-1316"><a href="#Spline-1316"><span class="linenos">1316</span></a>
</span><span id="Spline-1317"><a href="#Spline-1317"><span class="linenos">1317</span></a><span class="sd">        See Also</span>
</span><span id="Spline-1318"><a href="#Spline-1318"><span class="linenos">1318</span></a><span class="sd">        --------</span>
</span><span id="Spline-1319"><a href="#Spline-1319"><span class="linenos">1319</span></a><span class="sd">        `add` : Add two splines.</span>
</span><span id="Spline-1320"><a href="#Spline-1320"><span class="linenos">1320</span></a><span class="sd">        `multiply` : Multiply two splines.</span>
</span><span id="Spline-1321"><a href="#Spline-1321"><span class="linenos">1321</span></a><span class="sd">        `common_basis` : Align a collection of splines to a common basis, elevating the order and adding knots as needed.</span>
</span><span id="Spline-1322"><a href="#Spline-1322"><span class="linenos">1322</span></a>
</span><span id="Spline-1323"><a href="#Spline-1323"><span class="linenos">1323</span></a><span class="sd">        Notes</span>
</span><span id="Spline-1324"><a href="#Spline-1324"><span class="linenos">1324</span></a><span class="sd">        -----</span>
</span><span id="Spline-1325"><a href="#Spline-1325"><span class="linenos">1325</span></a><span class="sd">        Uses `common_basis` to ensure mapped variables share the same order and knots. </span>
</span><span id="Spline-1326"><a href="#Spline-1326"><span class="linenos">1326</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-1327"><a href="#Spline-1327"><span class="linenos">1327</span></a>        <span class="k">if</span> <span class="n">indMap</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Spline-1328"><a href="#Spline-1328"><span class="linenos">1328</span></a>            <span class="n">indMap</span> <span class="o">=</span> <span class="p">[</span><span class="n">mapping</span> <span class="k">if</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">mapping</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">mapping</span><span class="p">)</span> <span class="k">for</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="n">indMap</span><span class="p">]</span>
</span><span id="Spline-1329"><a href="#Spline-1329"><span class="linenos">1329</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">),</span> <span class="n">indMap</span><span class="p">)</span>
</span><span id="Spline-1330"><a href="#Spline-1330"><span class="linenos">1330</span></a>
</span><span id="Spline-1331"><a href="#Spline-1331"><span class="linenos">1331</span></a>    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">,</span> <span class="n">maxSingularValue</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Spline-1332"><a href="#Spline-1332"><span class="linenos">1332</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-1333"><a href="#Spline-1333"><span class="linenos">1333</span></a><span class="sd">        Transform a spline by the given matrix.</span>
</span><span id="Spline-1334"><a href="#Spline-1334"><span class="linenos">1334</span></a>
</span><span id="Spline-1335"><a href="#Spline-1335"><span class="linenos">1335</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-1336"><a href="#Spline-1336"><span class="linenos">1336</span></a><span class="sd">        ----------</span>
</span><span id="Spline-1337"><a href="#Spline-1337"><span class="linenos">1337</span></a><span class="sd">        matrix : array-like</span>
</span><span id="Spline-1338"><a href="#Spline-1338"><span class="linenos">1338</span></a><span class="sd">            An array of size `newNDep`x`nDep` that specifies the transform matrix.</span>
</span><span id="Spline-1339"><a href="#Spline-1339"><span class="linenos">1339</span></a>
</span><span id="Spline-1340"><a href="#Spline-1340"><span class="linenos">1340</span></a><span class="sd">        maxSingularValue : `float`, optional</span>
</span><span id="Spline-1341"><a href="#Spline-1341"><span class="linenos">1341</span></a><span class="sd">            The largest singular value of `matrix`, used to update the accuracy of the spline. </span>
</span><span id="Spline-1342"><a href="#Spline-1342"><span class="linenos">1342</span></a><span class="sd">            If no value is provided (default), the largest singular value is computed.</span>
</span><span id="Spline-1343"><a href="#Spline-1343"><span class="linenos">1343</span></a>
</span><span id="Spline-1344"><a href="#Spline-1344"><span class="linenos">1344</span></a><span class="sd">        Returns</span>
</span><span id="Spline-1345"><a href="#Spline-1345"><span class="linenos">1345</span></a><span class="sd">        -------</span>
</span><span id="Spline-1346"><a href="#Spline-1346"><span class="linenos">1346</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-1347"><a href="#Spline-1347"><span class="linenos">1347</span></a><span class="sd">            The transformed spline.</span>
</span><span id="Spline-1348"><a href="#Spline-1348"><span class="linenos">1348</span></a>
</span><span id="Spline-1349"><a href="#Spline-1349"><span class="linenos">1349</span></a><span class="sd">        See Also</span>
</span><span id="Spline-1350"><a href="#Spline-1350"><span class="linenos">1350</span></a><span class="sd">        --------</span>
</span><span id="Spline-1351"><a href="#Spline-1351"><span class="linenos">1351</span></a><span class="sd">        `scale` : Scale a spline by the given scalar or scale vector.</span>
</span><span id="Spline-1352"><a href="#Spline-1352"><span class="linenos">1352</span></a><span class="sd">        `translate` : Translate a spline by the given translation vector.</span>
</span><span id="Spline-1353"><a href="#Spline-1353"><span class="linenos">1353</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-1354"><a href="#Spline-1354"><span class="linenos">1354</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">,</span> <span class="n">maxSingularValue</span><span class="p">)</span>
</span><span id="Spline-1355"><a href="#Spline-1355"><span class="linenos">1355</span></a>
</span><span id="Spline-1356"><a href="#Spline-1356"><span class="linenos">1356</span></a>    <span class="k">def</span> <span class="nf">translate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">translationVector</span><span class="p">):</span>
</span><span id="Spline-1357"><a href="#Spline-1357"><span class="linenos">1357</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-1358"><a href="#Spline-1358"><span class="linenos">1358</span></a><span class="sd">        Translate a spline by the given translation vector.</span>
</span><span id="Spline-1359"><a href="#Spline-1359"><span class="linenos">1359</span></a>
</span><span id="Spline-1360"><a href="#Spline-1360"><span class="linenos">1360</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-1361"><a href="#Spline-1361"><span class="linenos">1361</span></a><span class="sd">        ----------</span>
</span><span id="Spline-1362"><a href="#Spline-1362"><span class="linenos">1362</span></a><span class="sd">        translationVector : array-like</span>
</span><span id="Spline-1363"><a href="#Spline-1363"><span class="linenos">1363</span></a><span class="sd">            An array of length `nDep` that specifies the translation vector.</span>
</span><span id="Spline-1364"><a href="#Spline-1364"><span class="linenos">1364</span></a>
</span><span id="Spline-1365"><a href="#Spline-1365"><span class="linenos">1365</span></a><span class="sd">        Returns</span>
</span><span id="Spline-1366"><a href="#Spline-1366"><span class="linenos">1366</span></a><span class="sd">        -------</span>
</span><span id="Spline-1367"><a href="#Spline-1367"><span class="linenos">1367</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-1368"><a href="#Spline-1368"><span class="linenos">1368</span></a><span class="sd">            The translated spline.</span>
</span><span id="Spline-1369"><a href="#Spline-1369"><span class="linenos">1369</span></a>
</span><span id="Spline-1370"><a href="#Spline-1370"><span class="linenos">1370</span></a><span class="sd">        See Also</span>
</span><span id="Spline-1371"><a href="#Spline-1371"><span class="linenos">1371</span></a><span class="sd">        --------</span>
</span><span id="Spline-1372"><a href="#Spline-1372"><span class="linenos">1372</span></a><span class="sd">        `scale` : Scale a spline by the given scalar or scale vector.</span>
</span><span id="Spline-1373"><a href="#Spline-1373"><span class="linenos">1373</span></a><span class="sd">        `transform` : Transform a spline by the given matrix.</span>
</span><span id="Spline-1374"><a href="#Spline-1374"><span class="linenos">1374</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-1375"><a href="#Spline-1375"><span class="linenos">1375</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">translationVector</span><span class="p">)</span>
</span><span id="Spline-1376"><a href="#Spline-1376"><span class="linenos">1376</span></a>
</span><span id="Spline-1377"><a href="#Spline-1377"><span class="linenos">1377</span></a>    <span class="k">def</span> <span class="nf">trim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newDomain</span><span class="p">):</span>
</span><span id="Spline-1378"><a href="#Spline-1378"><span class="linenos">1378</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-1379"><a href="#Spline-1379"><span class="linenos">1379</span></a><span class="sd">        Trim the domain of a spline.</span>
</span><span id="Spline-1380"><a href="#Spline-1380"><span class="linenos">1380</span></a>
</span><span id="Spline-1381"><a href="#Spline-1381"><span class="linenos">1381</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-1382"><a href="#Spline-1382"><span class="linenos">1382</span></a><span class="sd">        ----------</span>
</span><span id="Spline-1383"><a href="#Spline-1383"><span class="linenos">1383</span></a><span class="sd">        newDomain : array-like</span>
</span><span id="Spline-1384"><a href="#Spline-1384"><span class="linenos">1384</span></a><span class="sd">            nInd x 2 array of the new upper and lower bounds on each of the independent variables (same form as </span>
</span><span id="Spline-1385"><a href="#Spline-1385"><span class="linenos">1385</span></a><span class="sd">            returned from `domain`). If a bound is None or nan then the original bound (and knots) are left unchanged.</span>
</span><span id="Spline-1386"><a href="#Spline-1386"><span class="linenos">1386</span></a>
</span><span id="Spline-1387"><a href="#Spline-1387"><span class="linenos">1387</span></a><span class="sd">        Returns</span>
</span><span id="Spline-1388"><a href="#Spline-1388"><span class="linenos">1388</span></a><span class="sd">        -------</span>
</span><span id="Spline-1389"><a href="#Spline-1389"><span class="linenos">1389</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline-1390"><a href="#Spline-1390"><span class="linenos">1390</span></a><span class="sd">            Trimmed spline. If all the knots are unchanged, the original spline is returned.</span>
</span><span id="Spline-1391"><a href="#Spline-1391"><span class="linenos">1391</span></a>
</span><span id="Spline-1392"><a href="#Spline-1392"><span class="linenos">1392</span></a><span class="sd">        See Also</span>
</span><span id="Spline-1393"><a href="#Spline-1393"><span class="linenos">1393</span></a><span class="sd">        --------</span>
</span><span id="Spline-1394"><a href="#Spline-1394"><span class="linenos">1394</span></a><span class="sd">        `domain` : Return the domain of a spline.</span>
</span><span id="Spline-1395"><a href="#Spline-1395"><span class="linenos">1395</span></a><span class="sd">        `extrapolate` : Extrapolate a spline out to an extended domain maintaining a given order of continuity.</span>
</span><span id="Spline-1396"><a href="#Spline-1396"><span class="linenos">1396</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-1397"><a href="#Spline-1397"><span class="linenos">1397</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newDomain</span><span class="p">)</span>
</span><span id="Spline-1398"><a href="#Spline-1398"><span class="linenos">1398</span></a>
</span><span id="Spline-1399"><a href="#Spline-1399"><span class="linenos">1399</span></a>    <span class="k">def</span> <span class="nf">unfold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">foldedInd</span><span class="p">,</span> <span class="n">coefficientlessSpline</span><span class="p">):</span>
</span><span id="Spline-1400"><a href="#Spline-1400"><span class="linenos">1400</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-1401"><a href="#Spline-1401"><span class="linenos">1401</span></a><span class="sd">        Unfold the coefficients of an original spline&#39;s indicated independent variables back into the spline, using the </span>
</span><span id="Spline-1402"><a href="#Spline-1402"><span class="linenos">1402</span></a><span class="sd">        indicated independent variables&#39; knots and orders from a second spline with no coefficients.</span>
</span><span id="Spline-1403"><a href="#Spline-1403"><span class="linenos">1403</span></a>
</span><span id="Spline-1404"><a href="#Spline-1404"><span class="linenos">1404</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-1405"><a href="#Spline-1405"><span class="linenos">1405</span></a><span class="sd">        ----------</span>
</span><span id="Spline-1406"><a href="#Spline-1406"><span class="linenos">1406</span></a><span class="sd">        foldedInd : `iterable`</span>
</span><span id="Spline-1407"><a href="#Spline-1407"><span class="linenos">1407</span></a><span class="sd">            An iterable that specifies the independent variables whose coefficients should be unfolded.</span>
</span><span id="Spline-1408"><a href="#Spline-1408"><span class="linenos">1408</span></a>
</span><span id="Spline-1409"><a href="#Spline-1409"><span class="linenos">1409</span></a><span class="sd">        coefficientlessSpline : `Spline`</span>
</span><span id="Spline-1410"><a href="#Spline-1410"><span class="linenos">1410</span></a><span class="sd">            The coefficientless spline that retains the indicated independent variables&#39; knots and orders.</span>
</span><span id="Spline-1411"><a href="#Spline-1411"><span class="linenos">1411</span></a>
</span><span id="Spline-1412"><a href="#Spline-1412"><span class="linenos">1412</span></a><span class="sd">        Returns</span>
</span><span id="Spline-1413"><a href="#Spline-1413"><span class="linenos">1413</span></a><span class="sd">        -------</span>
</span><span id="Spline-1414"><a href="#Spline-1414"><span class="linenos">1414</span></a><span class="sd">        unfoldedSpline : `Spline`, `Spline`</span>
</span><span id="Spline-1415"><a href="#Spline-1415"><span class="linenos">1415</span></a><span class="sd">            The unfolded spline.</span>
</span><span id="Spline-1416"><a href="#Spline-1416"><span class="linenos">1416</span></a>
</span><span id="Spline-1417"><a href="#Spline-1417"><span class="linenos">1417</span></a><span class="sd">        See Also</span>
</span><span id="Spline-1418"><a href="#Spline-1418"><span class="linenos">1418</span></a><span class="sd">        --------</span>
</span><span id="Spline-1419"><a href="#Spline-1419"><span class="linenos">1419</span></a><span class="sd">        `fold` : Fold the coefficients of a spline&#39;s indicated independent variables into the coefficients of the remaining independent variables.</span>
</span><span id="Spline-1420"><a href="#Spline-1420"><span class="linenos">1420</span></a>
</span><span id="Spline-1421"><a href="#Spline-1421"><span class="linenos">1421</span></a><span class="sd">        Notes</span>
</span><span id="Spline-1422"><a href="#Spline-1422"><span class="linenos">1422</span></a><span class="sd">        -----</span>
</span><span id="Spline-1423"><a href="#Spline-1423"><span class="linenos">1423</span></a><span class="sd">        Given a spline whose coefficients are an nDep x n0 x ... x nk array and a list of (ordered) indices which form a proper subset of {n0, ... , nk}, it should return 2 splines.</span>
</span><span id="Spline-1424"><a href="#Spline-1424"><span class="linenos">1424</span></a><span class="sd">        The first one is a spline with k + 1 - length(index subset) independent variables where the knot sets of all the dimensions which have been removed have been removed.  However, </span>
</span><span id="Spline-1425"><a href="#Spline-1425"><span class="linenos">1425</span></a><span class="sd">        all of the coefficient data is still intact, so that the resulting coefficient array has shape (nDep nj0 nj1 ... njj) x nk0 x ... x nkk.  The second spline should be a spline </span>
</span><span id="Spline-1426"><a href="#Spline-1426"><span class="linenos">1426</span></a><span class="sd">        with 0 dependent variables which contains all the knot sequences that were removed from the spline.  The unfold method takes the two splines as input and reverses the process, </span>
</span><span id="Spline-1427"><a href="#Spline-1427"><span class="linenos">1427</span></a><span class="sd">        returning the original spline.</span>
</span><span id="Spline-1428"><a href="#Spline-1428"><span class="linenos">1428</span></a>
</span><span id="Spline-1429"><a href="#Spline-1429"><span class="linenos">1429</span></a><span class="sd">        Here&#39;s an example. Suppose spl is a spline with 3 independent variables and 3 dependent variables which has nCoef = [4, 5, 6] and knots = [knots0, knots1, knots2]. </span>
</span><span id="Spline-1430"><a href="#Spline-1430"><span class="linenos">1430</span></a><span class="sd">        Then spl.fold([0, 2]) should return a spline with 1 independent variable and 72 dependent variables.  It should have nCoef = [5], knots = [knots1], and its coefs array should have </span>
</span><span id="Spline-1431"><a href="#Spline-1431"><span class="linenos">1431</span></a><span class="sd">        shape (72, 5).  The other spline should have 0 dependent variables, 2 independent variables, and knots = [knots0, knots2].  How things get ordered in coefs probably doesn&#39;t matter </span>
</span><span id="Spline-1432"><a href="#Spline-1432"><span class="linenos">1432</span></a><span class="sd">        so long as unfold unscrambles things in the corresponding way.  The second spline is needed to hold the basis information that was dropped so that it can be undone.</span>
</span><span id="Spline-1433"><a href="#Spline-1433"><span class="linenos">1433</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-1434"><a href="#Spline-1434"><span class="linenos">1434</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">unfold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">foldedInd</span><span class="p">,</span> <span class="n">coefficientlessSpline</span><span class="p">)</span>
</span><span id="Spline-1435"><a href="#Spline-1435"><span class="linenos">1435</span></a>
</span><span id="Spline-1436"><a href="#Spline-1436"><span class="linenos">1436</span></a>    <span class="k">def</span> <span class="nf">zeros</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Spline-1437"><a href="#Spline-1437"><span class="linenos">1437</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline-1438"><a href="#Spline-1438"><span class="linenos">1438</span></a><span class="sd">        Find the roots of a spline (nInd must match nDep).</span>
</span><span id="Spline-1439"><a href="#Spline-1439"><span class="linenos">1439</span></a>
</span><span id="Spline-1440"><a href="#Spline-1440"><span class="linenos">1440</span></a><span class="sd">        Parameters</span>
</span><span id="Spline-1441"><a href="#Spline-1441"><span class="linenos">1441</span></a><span class="sd">        ----------</span>
</span><span id="Spline-1442"><a href="#Spline-1442"><span class="linenos">1442</span></a><span class="sd">        epsilon : `float`, optional</span>
</span><span id="Spline-1443"><a href="#Spline-1443"><span class="linenos">1443</span></a><span class="sd">            Tolerance for root precision. The root will be within epsilon of the actual root. </span>
</span><span id="Spline-1444"><a href="#Spline-1444"><span class="linenos">1444</span></a><span class="sd">            The default is the max of spline accuracy and machine epsilon.</span>
</span><span id="Spline-1445"><a href="#Spline-1445"><span class="linenos">1445</span></a>
</span><span id="Spline-1446"><a href="#Spline-1446"><span class="linenos">1446</span></a><span class="sd">        Returns</span>
</span><span id="Spline-1447"><a href="#Spline-1447"><span class="linenos">1447</span></a><span class="sd">        -------</span>
</span><span id="Spline-1448"><a href="#Spline-1448"><span class="linenos">1448</span></a><span class="sd">        roots : `iterable`</span>
</span><span id="Spline-1449"><a href="#Spline-1449"><span class="linenos">1449</span></a><span class="sd">            An iterable containing the roots of the spline. If the spline is </span>
</span><span id="Spline-1450"><a href="#Spline-1450"><span class="linenos">1450</span></a><span class="sd">            zero over an interval, that root will appear as a tuple of the interval. </span>
</span><span id="Spline-1451"><a href="#Spline-1451"><span class="linenos">1451</span></a><span class="sd">            For curves (nInd == 1), the roots are ordered.</span>
</span><span id="Spline-1452"><a href="#Spline-1452"><span class="linenos">1452</span></a><span class="sd">        </span>
</span><span id="Spline-1453"><a href="#Spline-1453"><span class="linenos">1453</span></a><span class="sd">        See Also</span>
</span><span id="Spline-1454"><a href="#Spline-1454"><span class="linenos">1454</span></a><span class="sd">        --------</span>
</span><span id="Spline-1455"><a href="#Spline-1455"><span class="linenos">1455</span></a><span class="sd">        `intersect` : Intersect two splines.</span>
</span><span id="Spline-1456"><a href="#Spline-1456"><span class="linenos">1456</span></a><span class="sd">        `contour` : Fit a spline to the contour defined by `F(x) = 0`.</span>
</span><span id="Spline-1457"><a href="#Spline-1457"><span class="linenos">1457</span></a>
</span><span id="Spline-1458"><a href="#Spline-1458"><span class="linenos">1458</span></a><span class="sd">        Notes</span>
</span><span id="Spline-1459"><a href="#Spline-1459"><span class="linenos">1459</span></a><span class="sd">        -----</span>
</span><span id="Spline-1460"><a href="#Spline-1460"><span class="linenos">1460</span></a><span class="sd">        For curves (nInd == 1), it implements interval Newton&#39;s method from Grandine, Thomas A. &quot;Computing zeroes of spline functions.&quot; </span>
</span><span id="Spline-1461"><a href="#Spline-1461"><span class="linenos">1461</span></a><span class="sd">        Computer Aided Geometric Design 6, no. 2 (1989): 129-136.</span>
</span><span id="Spline-1462"><a href="#Spline-1462"><span class="linenos">1462</span></a><span class="sd">        For all higher dimensions, it implements the projected-polyhedron technique from Sherbrooke, Evan C., and Nicholas M. Patrikalakis. </span>
</span><span id="Spline-1463"><a href="#Spline-1463"><span class="linenos">1463</span></a><span class="sd">        &quot;Computation of the solutions of nonlinear polynomial systems.&quot; Computer Aided Geometric Design 10, no. 5 (1993): 379-405.</span>
</span><span id="Spline-1464"><a href="#Spline-1464"><span class="linenos">1464</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline-1465"><a href="#Spline-1465"><span class="linenos">1465</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nInd</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The number of independent variables (nInd) must match the number of dependent variables (nDep).&quot;</span><span class="p">)</span>
</span><span id="Spline-1466"><a href="#Spline-1466"><span class="linenos">1466</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nInd</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Spline-1467"><a href="#Spline-1467"><span class="linenos">1467</span></a>            <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_intersection</span><span class="o">.</span><span class="n">zeros_using_interval_newton</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Spline-1468"><a href="#Spline-1468"><span class="linenos">1468</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Spline-1469"><a href="#Spline-1469"><span class="linenos">1469</span></a>            <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_intersection</span><span class="o">.</span><span class="n">zeros_using_projected_polyhedron</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>A class to model, represent, and process piecewise polynomial tensor product
functions (splines) as linear combinations of B-splines. </p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>nInd</strong> (<code>int</code>):
The number of independent variables of the spline.</li>
<li><strong>nDep</strong> (<code>int</code>):
The number of dependent variables of the spline.</li>
<li><strong>order</strong> (<code>tuple</code>):
A tuple of length nInd where each integer entry represents the
polynomial order of the spline in that variable.</li>
<li><strong>nCoef</strong> (<code>tuple</code>):
A tuple of length nInd where each integer entry represents the
dimension (i.e. number of B-spline coefficients) of the spline
in that variable.</li>
<li><strong>knots</strong> (<code>list</code>):
A list of the lists of the knots of the spline in each independent variable.</li>
<li><strong>coefs</strong> (array-like):
A list of the B-spline coefficients of the spline.</li>
<li><strong>accuracy</strong> (<code>float</code>, optional):
Each spline is presumed to be an approximation of something else. 
The <code><a href="#Spline.accuracy">accuracy</a></code> stores the infinity norm error of the difference between 
the given spline and that something else. Default is zero.</li>
<li><strong>metadata</strong> (<code>dict</code>, optional):
A dictionary of ancillary data to store with the spline. Default is {}.</li>
</ul>
</div>


                            <div id="Spline.__init__" class="classattr">
                                        <input id="Spline.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Spline</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">nInd</span>, </span><span class="param"><span class="n">nDep</span>, </span><span class="param"><span class="n">order</span>, </span><span class="param"><span class="n">nCoef</span>, </span><span class="param"><span class="n">knots</span>, </span><span class="param"><span class="n">coefs</span>, </span><span class="param"><span class="n">accuracy</span><span class="o">=</span><span class="mf">0.0</span>, </span><span class="param"><span class="n">metadata</span><span class="o">=</span><span class="p">{}</span></span>)</span>

                <label class="view-source-button" for="Spline.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.__init__-55"><a href="#Spline.__init__-55"><span class="linenos">55</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nInd</span><span class="p">,</span> <span class="n">nDep</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">nCoef</span><span class="p">,</span> <span class="n">knots</span><span class="p">,</span> <span class="n">coefs</span><span class="p">,</span> <span class="n">accuracy</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="p">{}):</span>
</span><span id="Spline.__init__-56"><a href="#Spline.__init__-56"><span class="linenos">56</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">nInd</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;nInd &lt; 0&quot;</span><span class="p">)</span>
</span><span id="Spline.__init__-57"><a href="#Spline.__init__-57"><span class="linenos">57</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nInd</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">nInd</span><span class="p">)</span>
</span><span id="Spline.__init__-58"><a href="#Spline.__init__-58"><span class="linenos">58</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">nDep</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;nDep &lt; 0&quot;</span><span class="p">)</span>
</span><span id="Spline.__init__-59"><a href="#Spline.__init__-59"><span class="linenos">59</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">nDep</span><span class="p">)</span>
</span><span id="Spline.__init__-60"><a href="#Spline.__init__-60"><span class="linenos">60</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">nInd</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;len(order) != nInd&quot;</span><span class="p">)</span>
</span><span id="Spline.__init__-61"><a href="#Spline.__init__-61"><span class="linenos">61</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">order</span><span class="p">)</span>
</span><span id="Spline.__init__-62"><a href="#Spline.__init__-62"><span class="linenos">62</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nCoef</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">nInd</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;len(nCoef) != nInd&quot;</span><span class="p">)</span>
</span><span id="Spline.__init__-63"><a href="#Spline.__init__-63"><span class="linenos">63</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">nCoef</span><span class="p">)</span>
</span><span id="Spline.__init__-64"><a href="#Spline.__init__-64"><span class="linenos">64</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">knots</span><span class="p">)</span> <span class="o">==</span> <span class="n">nInd</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;len(knots) != nInd&quot;</span><span class="p">)</span>
</span><span id="Spline.__init__-65"><a href="#Spline.__init__-65"><span class="linenos">65</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">knots</span><span class="p">)):</span>
</span><span id="Spline.__init__-66"><a href="#Spline.__init__-66"><span class="linenos">66</span></a>            <span class="n">nKnots</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="Spline.__init__-67"><a href="#Spline.__init__-67"><span class="linenos">67</span></a>            <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">knots</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">==</span> <span class="n">nKnots</span><span class="p">):</span>
</span><span id="Spline.__init__-68"><a href="#Spline.__init__-68"><span class="linenos">68</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Knots array for variable </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2"> should have length </span><span class="si">{</span><span class="n">nKnots</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="Spline.__init__-69"><a href="#Spline.__init__-69"><span class="linenos">69</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">knots</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">kk</span><span class="p">)</span> <span class="k">for</span> <span class="n">kk</span> <span class="ow">in</span> <span class="n">knots</span><span class="p">)</span>
</span><span id="Spline.__init__-70"><a href="#Spline.__init__-70"><span class="linenos">70</span></a>        <span class="k">for</span> <span class="n">knots</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">nCoef</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">knots</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">):</span>
</span><span id="Spline.__init__-71"><a href="#Spline.__init__-71"><span class="linenos">71</span></a>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nCoef</span><span class="p">):</span>
</span><span id="Spline.__init__-72"><a href="#Spline.__init__-72"><span class="linenos">72</span></a>                <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">knots</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">knots</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">knots</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">knots</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">order</span><span class="p">]):</span>
</span><span id="Spline.__init__-73"><a href="#Spline.__init__-73"><span class="linenos">73</span></a>                       <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Improperly ordered knot sequence&quot;</span><span class="p">)</span>
</span><span id="Spline.__init__-74"><a href="#Spline.__init__-74"><span class="linenos">74</span></a>        <span class="n">totalCoefs</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="Spline.__init__-75"><a href="#Spline.__init__-75"><span class="linenos">75</span></a>        <span class="k">for</span> <span class="n">nCoef</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">:</span>
</span><span id="Spline.__init__-76"><a href="#Spline.__init__-76"><span class="linenos">76</span></a>            <span class="n">totalCoefs</span> <span class="o">*=</span> <span class="n">nCoef</span>
</span><span id="Spline.__init__-77"><a href="#Spline.__init__-77"><span class="linenos">77</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">coefs</span><span class="p">)</span> <span class="o">==</span> <span class="n">totalCoefs</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">coefs</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="p">):</span>
</span><span id="Spline.__init__-78"><a href="#Spline.__init__-78"><span class="linenos">78</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Length of coefs should be </span><span class="si">{</span><span class="n">totalCoefs</span><span class="si">}</span><span class="s2"> or </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="Spline.__init__-79"><a href="#Spline.__init__-79"><span class="linenos">79</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">coefs</span><span class="p">)</span>
</span><span id="Spline.__init__-80"><a href="#Spline.__init__-80"><span class="linenos">80</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span><span class="o">.</span><span class="n">shape</span> <span class="o">!=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="p">,</span> <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">):</span>
</span><span id="Spline.__init__-81"><a href="#Spline.__init__-81"><span class="linenos">81</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coefs</span><span class="p">)</span> <span class="o">==</span> <span class="n">totalCoefs</span><span class="p">:</span>
</span><span id="Spline.__init__-82"><a href="#Spline.__init__-82"><span class="linenos">82</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
</span><span id="Spline.__init__-83"><a href="#Spline.__init__-83"><span class="linenos">83</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Spline.__init__-84"><a href="#Spline.__init__-84"><span class="linenos">84</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">c</span><span class="o">.</span><span class="n">T</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="p">,</span> <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">))</span>
</span><span id="Spline.__init__-85"><a href="#Spline.__init__-85"><span class="linenos">85</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy</span>
</span><span id="Spline.__init__-86"><a href="#Spline.__init__-86"><span class="linenos">86</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="Spline.nInd" class="classattr">
                                <div class="attr variable">
            <span class="name">nInd</span>

        
    </div>
    <a class="headerlink" href="#Spline.nInd"></a>
    
    

                            </div>
                            <div id="Spline.nDep" class="classattr">
                                <div class="attr variable">
            <span class="name">nDep</span>

        
    </div>
    <a class="headerlink" href="#Spline.nDep"></a>
    
    

                            </div>
                            <div id="Spline.order" class="classattr">
                                <div class="attr variable">
            <span class="name">order</span>

        
    </div>
    <a class="headerlink" href="#Spline.order"></a>
    
    

                            </div>
                            <div id="Spline.nCoef" class="classattr">
                                <div class="attr variable">
            <span class="name">nCoef</span>

        
    </div>
    <a class="headerlink" href="#Spline.nCoef"></a>
    
    

                            </div>
                            <div id="Spline.knots" class="classattr">
                                <div class="attr variable">
            <span class="name">knots</span>

        
    </div>
    <a class="headerlink" href="#Spline.knots"></a>
    
    

                            </div>
                            <div id="Spline.coefs" class="classattr">
                                <div class="attr variable">
            <span class="name">coefs</span>

        
    </div>
    <a class="headerlink" href="#Spline.coefs"></a>
    
    

                            </div>
                            <div id="Spline.accuracy" class="classattr">
                                <div class="attr variable">
            <span class="name">accuracy</span>

        
    </div>
    <a class="headerlink" href="#Spline.accuracy"></a>
    
    

                            </div>
                            <div id="Spline.metadata" class="classattr">
                                <div class="attr variable">
            <span class="name">metadata</span>

        
    </div>
    <a class="headerlink" href="#Spline.metadata"></a>
    
    

                            </div>
                            <div id="Spline.add" class="classattr">
                                        <input id="Spline.add-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">add</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">other</span>, </span><span class="param"><span class="n">indMap</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.add-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.add"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.add-174"><a href="#Spline.add-174"><span class="linenos">174</span></a>    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="Spline.add-175"><a href="#Spline.add-175"><span class="linenos">175</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.add-176"><a href="#Spline.add-176"><span class="linenos">176</span></a><span class="sd">        Add two splines.</span>
</span><span id="Spline.add-177"><a href="#Spline.add-177"><span class="linenos">177</span></a>
</span><span id="Spline.add-178"><a href="#Spline.add-178"><span class="linenos">178</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.add-179"><a href="#Spline.add-179"><span class="linenos">179</span></a><span class="sd">        ----------</span>
</span><span id="Spline.add-180"><a href="#Spline.add-180"><span class="linenos">180</span></a><span class="sd">        other : `Spline`</span>
</span><span id="Spline.add-181"><a href="#Spline.add-181"><span class="linenos">181</span></a><span class="sd">            The spline to add to self. The number of dependent variables must match self.</span>
</span><span id="Spline.add-182"><a href="#Spline.add-182"><span class="linenos">182</span></a>
</span><span id="Spline.add-183"><a href="#Spline.add-183"><span class="linenos">183</span></a><span class="sd">        indMap : `iterable` or `None`, optional</span>
</span><span id="Spline.add-184"><a href="#Spline.add-184"><span class="linenos">184</span></a><span class="sd">            An iterable of indices or pairs of indices. Each index refers to an independent variable.</span>
</span><span id="Spline.add-185"><a href="#Spline.add-185"><span class="linenos">185</span></a><span class="sd">            Within the iterable, a single index, `n`, maps the nth independent variable of self to the same independent variable of other.</span>
</span><span id="Spline.add-186"><a href="#Spline.add-186"><span class="linenos">186</span></a><span class="sd">            A pair `(n, m)` maps the nth independent variable of self to the mth independent variable of other. </span>
</span><span id="Spline.add-187"><a href="#Spline.add-187"><span class="linenos">187</span></a><span class="sd">            For example, if you wanted to compute `self(u, v, w) + other(u, w)`, you&#39;d pass `[0, (2, 1)]` for `indMap`. </span>
</span><span id="Spline.add-188"><a href="#Spline.add-188"><span class="linenos">188</span></a><span class="sd">            Unmapped independent variables remain independent (the default).</span>
</span><span id="Spline.add-189"><a href="#Spline.add-189"><span class="linenos">189</span></a><span class="sd">            The domains of mapped independent variables must match. </span>
</span><span id="Spline.add-190"><a href="#Spline.add-190"><span class="linenos">190</span></a><span class="sd">            An independent variable can map to no more than one other independent variable.</span>
</span><span id="Spline.add-191"><a href="#Spline.add-191"><span class="linenos">191</span></a>
</span><span id="Spline.add-192"><a href="#Spline.add-192"><span class="linenos">192</span></a><span class="sd">        Returns</span>
</span><span id="Spline.add-193"><a href="#Spline.add-193"><span class="linenos">193</span></a><span class="sd">        -------</span>
</span><span id="Spline.add-194"><a href="#Spline.add-194"><span class="linenos">194</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.add-195"><a href="#Spline.add-195"><span class="linenos">195</span></a><span class="sd">            The result of adding self and other.</span>
</span><span id="Spline.add-196"><a href="#Spline.add-196"><span class="linenos">196</span></a>
</span><span id="Spline.add-197"><a href="#Spline.add-197"><span class="linenos">197</span></a><span class="sd">        See Also</span>
</span><span id="Spline.add-198"><a href="#Spline.add-198"><span class="linenos">198</span></a><span class="sd">        --------</span>
</span><span id="Spline.add-199"><a href="#Spline.add-199"><span class="linenos">199</span></a><span class="sd">        `subtract` : Subtract two splines.</span>
</span><span id="Spline.add-200"><a href="#Spline.add-200"><span class="linenos">200</span></a><span class="sd">        `multiply` : Multiply two splines.</span>
</span><span id="Spline.add-201"><a href="#Spline.add-201"><span class="linenos">201</span></a><span class="sd">        `common_basis` : Align a collection of splines to a common basis, elevating the order and adding knots as needed.</span>
</span><span id="Spline.add-202"><a href="#Spline.add-202"><span class="linenos">202</span></a>
</span><span id="Spline.add-203"><a href="#Spline.add-203"><span class="linenos">203</span></a><span class="sd">        Notes</span>
</span><span id="Spline.add-204"><a href="#Spline.add-204"><span class="linenos">204</span></a><span class="sd">        -----</span>
</span><span id="Spline.add-205"><a href="#Spline.add-205"><span class="linenos">205</span></a><span class="sd">        Uses `common_basis` to ensure mapped variables share the same order and knots. </span>
</span><span id="Spline.add-206"><a href="#Spline.add-206"><span class="linenos">206</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.add-207"><a href="#Spline.add-207"><span class="linenos">207</span></a>        <span class="k">if</span> <span class="n">indMap</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Spline.add-208"><a href="#Spline.add-208"><span class="linenos">208</span></a>            <span class="n">indMap</span> <span class="o">=</span> <span class="p">[</span><span class="n">mapping</span> <span class="k">if</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">mapping</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">mapping</span><span class="p">)</span> <span class="k">for</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="n">indMap</span><span class="p">]</span>
</span><span id="Spline.add-209"><a href="#Spline.add-209"><span class="linenos">209</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Add two splines.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>other</strong> (<code><a href="#Spline">Spline</a></code>):
The spline to add to self. The number of dependent variables must match self.</li>
<li><strong>indMap</strong> (<code>iterable</code> or <code>None</code>, optional):
An iterable of indices or pairs of indices. Each index refers to an independent variable.
Within the iterable, a single index, <code>n</code>, maps the nth independent variable of self to the same independent variable of other.
A pair <code>(n, m)</code> maps the nth independent variable of self to the mth independent variable of other. 
For example, if you wanted to compute <code>self(u, v, w) + other(u, w)</code>, you'd pass <code>[0, (2, 1)]</code> for <code>indMap</code>. 
Unmapped independent variables remain independent (the default).
The domains of mapped independent variables must match. 
An independent variable can map to no more than one other independent variable.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
The result of adding self and other.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.subtract">subtract</a></code>:  Subtract two splines. <br />
<code><a href="#Spline.multiply">multiply</a></code>:  Multiply two splines. <br />
<code><a href="#Spline.common_basis">common_basis</a></code>:  Align a collection of splines to a common basis, elevating the order and adding knots as needed.  </p>

<h6 id="notes">Notes</h6>

<p>Uses <code><a href="#Spline.common_basis">common_basis</a></code> to ensure mapped variables share the same order and knots.</p>
</div>


                            </div>
                            <div id="Spline.blossom" class="classattr">
                                        <input id="Spline.blossom-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">blossom</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">uvw</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.blossom-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.blossom"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.blossom-211"><a href="#Spline.blossom-211"><span class="linenos">211</span></a>    <span class="k">def</span> <span class="nf">blossom</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">):</span>
</span><span id="Spline.blossom-212"><a href="#Spline.blossom-212"><span class="linenos">212</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.blossom-213"><a href="#Spline.blossom-213"><span class="linenos">213</span></a><span class="sd">        Compute the blossom of the spline at given parameter values.</span>
</span><span id="Spline.blossom-214"><a href="#Spline.blossom-214"><span class="linenos">214</span></a>
</span><span id="Spline.blossom-215"><a href="#Spline.blossom-215"><span class="linenos">215</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.blossom-216"><a href="#Spline.blossom-216"><span class="linenos">216</span></a><span class="sd">        ----------</span>
</span><span id="Spline.blossom-217"><a href="#Spline.blossom-217"><span class="linenos">217</span></a><span class="sd">        uvwValues : `iterable`</span>
</span><span id="Spline.blossom-218"><a href="#Spline.blossom-218"><span class="linenos">218</span></a><span class="sd">            An iterable of length `nInd` that specifies the degree-sized vectors of blossom parameters for each independent variable.</span>
</span><span id="Spline.blossom-219"><a href="#Spline.blossom-219"><span class="linenos">219</span></a>
</span><span id="Spline.blossom-220"><a href="#Spline.blossom-220"><span class="linenos">220</span></a><span class="sd">        Returns</span>
</span><span id="Spline.blossom-221"><a href="#Spline.blossom-221"><span class="linenos">221</span></a><span class="sd">        -------</span>
</span><span id="Spline.blossom-222"><a href="#Spline.blossom-222"><span class="linenos">222</span></a><span class="sd">        value : `numpy.array`</span>
</span><span id="Spline.blossom-223"><a href="#Spline.blossom-223"><span class="linenos">223</span></a><span class="sd">            The value of the spline&#39;s blossom at the given blossom parameters.</span>
</span><span id="Spline.blossom-224"><a href="#Spline.blossom-224"><span class="linenos">224</span></a>
</span><span id="Spline.blossom-225"><a href="#Spline.blossom-225"><span class="linenos">225</span></a><span class="sd">        See Also</span>
</span><span id="Spline.blossom-226"><a href="#Spline.blossom-226"><span class="linenos">226</span></a><span class="sd">        --------</span>
</span><span id="Spline.blossom-227"><a href="#Spline.blossom-227"><span class="linenos">227</span></a><span class="sd">        `evaluate` : Compute the value of the spline at a given parameter value.</span>
</span><span id="Spline.blossom-228"><a href="#Spline.blossom-228"><span class="linenos">228</span></a>
</span><span id="Spline.blossom-229"><a href="#Spline.blossom-229"><span class="linenos">229</span></a><span class="sd">        Notes</span>
</span><span id="Spline.blossom-230"><a href="#Spline.blossom-230"><span class="linenos">230</span></a><span class="sd">        -----</span>
</span><span id="Spline.blossom-231"><a href="#Spline.blossom-231"><span class="linenos">231</span></a><span class="sd">        Evaluates the blossom based on blossoming algorithm 1 found in Goldman, Ronald N. &quot;Blossoming and knot insertion algorithms for B-spline curves.&quot; </span>
</span><span id="Spline.blossom-232"><a href="#Spline.blossom-232"><span class="linenos">232</span></a><span class="sd">        Computer Aided Geometric Design 7, no. 1-4 (1990): 69-81.</span>
</span><span id="Spline.blossom-233"><a href="#Spline.blossom-233"><span class="linenos">233</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.blossom-234"><a href="#Spline.blossom-234"><span class="linenos">234</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">blossom</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Compute the blossom of the spline at given parameter values.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>uvwValues</strong> (<code>iterable</code>):
An iterable of length <code><a href="#Spline.nInd">nInd</a></code> that specifies the degree-sized vectors of blossom parameters for each independent variable.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>value</strong> (<code>numpy.array</code>):
The value of the spline's blossom at the given blossom parameters.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.evaluate">evaluate</a></code>:  Compute the value of the spline at a given parameter value.  </p>

<h6 id="notes">Notes</h6>

<p>Evaluates the blossom based on blossoming algorithm 1 found in Goldman, Ronald N. "Blossoming and knot insertion algorithms for B-spline curves." 
Computer Aided Geometric Design 7, no. 1-4 (1990): 69-81.</p>
</div>


                            </div>
                            <div id="Spline.bspline_values" class="classattr">
                                        <input id="Spline.bspline_values-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">bspline_values</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">knot</span>, </span><span class="param"><span class="n">knots</span>, </span><span class="param"><span class="n">splineOrder</span>, </span><span class="param"><span class="n">u</span>, </span><span class="param"><span class="n">derivativeOrder</span><span class="o">=</span><span class="mi">0</span>, </span><span class="param"><span class="n">taylorCoefs</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.bspline_values-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.bspline_values"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.bspline_values-236"><a href="#Spline.bspline_values-236"><span class="linenos">236</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Spline.bspline_values-237"><a href="#Spline.bspline_values-237"><span class="linenos">237</span></a>    <span class="k">def</span> <span class="nf">bspline_values</span><span class="p">(</span><span class="n">knot</span><span class="p">,</span> <span class="n">knots</span><span class="p">,</span> <span class="n">splineOrder</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">derivativeOrder</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">taylorCoefs</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="Spline.bspline_values-238"><a href="#Spline.bspline_values-238"><span class="linenos">238</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.bspline_values-239"><a href="#Spline.bspline_values-239"><span class="linenos">239</span></a><span class="sd">        Compute bspline values or their derivatives for a 1D bspline segment given the rightmost knot of the segment and a parameter value within that segment.</span>
</span><span id="Spline.bspline_values-240"><a href="#Spline.bspline_values-240"><span class="linenos">240</span></a>
</span><span id="Spline.bspline_values-241"><a href="#Spline.bspline_values-241"><span class="linenos">241</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.bspline_values-242"><a href="#Spline.bspline_values-242"><span class="linenos">242</span></a><span class="sd">        ----------</span>
</span><span id="Spline.bspline_values-243"><a href="#Spline.bspline_values-243"><span class="linenos">243</span></a><span class="sd">        knot : `int`</span>
</span><span id="Spline.bspline_values-244"><a href="#Spline.bspline_values-244"><span class="linenos">244</span></a><span class="sd">            The rightmost knot in the bspline segment.</span>
</span><span id="Spline.bspline_values-245"><a href="#Spline.bspline_values-245"><span class="linenos">245</span></a>
</span><span id="Spline.bspline_values-246"><a href="#Spline.bspline_values-246"><span class="linenos">246</span></a><span class="sd">        knots : array-like</span>
</span><span id="Spline.bspline_values-247"><a href="#Spline.bspline_values-247"><span class="linenos">247</span></a><span class="sd">            The array of knots for the bspline.</span>
</span><span id="Spline.bspline_values-248"><a href="#Spline.bspline_values-248"><span class="linenos">248</span></a><span class="sd">        </span>
</span><span id="Spline.bspline_values-249"><a href="#Spline.bspline_values-249"><span class="linenos">249</span></a><span class="sd">        splineOrder : `int`</span>
</span><span id="Spline.bspline_values-250"><a href="#Spline.bspline_values-250"><span class="linenos">250</span></a><span class="sd">            The order of the bspline.</span>
</span><span id="Spline.bspline_values-251"><a href="#Spline.bspline_values-251"><span class="linenos">251</span></a>
</span><span id="Spline.bspline_values-252"><a href="#Spline.bspline_values-252"><span class="linenos">252</span></a><span class="sd">        u : `float`</span>
</span><span id="Spline.bspline_values-253"><a href="#Spline.bspline_values-253"><span class="linenos">253</span></a><span class="sd">            The parameter value within the segment at which to evaluate it.</span>
</span><span id="Spline.bspline_values-254"><a href="#Spline.bspline_values-254"><span class="linenos">254</span></a><span class="sd">        </span>
</span><span id="Spline.bspline_values-255"><a href="#Spline.bspline_values-255"><span class="linenos">255</span></a><span class="sd">        derivativeOrder : `int`, optional</span>
</span><span id="Spline.bspline_values-256"><a href="#Spline.bspline_values-256"><span class="linenos">256</span></a><span class="sd">            The order of the derivative. A zero-order derivative (default) just evaluates the bspline normally.</span>
</span><span id="Spline.bspline_values-257"><a href="#Spline.bspline_values-257"><span class="linenos">257</span></a><span class="sd">        </span>
</span><span id="Spline.bspline_values-258"><a href="#Spline.bspline_values-258"><span class="linenos">258</span></a><span class="sd">        taylorCoefs : `boolean`, optional</span>
</span><span id="Spline.bspline_values-259"><a href="#Spline.bspline_values-259"><span class="linenos">259</span></a><span class="sd">            A boolean flag that if true returns the derivatives divided by their degree factorial, that is </span>
</span><span id="Spline.bspline_values-260"><a href="#Spline.bspline_values-260"><span class="linenos">260</span></a><span class="sd">            the taylor coefficients at the given parameter values. Default is false.</span>
</span><span id="Spline.bspline_values-261"><a href="#Spline.bspline_values-261"><span class="linenos">261</span></a>
</span><span id="Spline.bspline_values-262"><a href="#Spline.bspline_values-262"><span class="linenos">262</span></a><span class="sd">        Returns</span>
</span><span id="Spline.bspline_values-263"><a href="#Spline.bspline_values-263"><span class="linenos">263</span></a><span class="sd">        -------</span>
</span><span id="Spline.bspline_values-264"><a href="#Spline.bspline_values-264"><span class="linenos">264</span></a><span class="sd">        value : `numpy.array`</span>
</span><span id="Spline.bspline_values-265"><a href="#Spline.bspline_values-265"><span class="linenos">265</span></a><span class="sd">            The value of the bspline or its derivative at the given parameter.</span>
</span><span id="Spline.bspline_values-266"><a href="#Spline.bspline_values-266"><span class="linenos">266</span></a>
</span><span id="Spline.bspline_values-267"><a href="#Spline.bspline_values-267"><span class="linenos">267</span></a><span class="sd">        See Also</span>
</span><span id="Spline.bspline_values-268"><a href="#Spline.bspline_values-268"><span class="linenos">268</span></a><span class="sd">        --------</span>
</span><span id="Spline.bspline_values-269"><a href="#Spline.bspline_values-269"><span class="linenos">269</span></a><span class="sd">        `evaluate` : Compute the value of the spline at given parameter values.</span>
</span><span id="Spline.bspline_values-270"><a href="#Spline.bspline_values-270"><span class="linenos">270</span></a><span class="sd">        `derivative` : Compute the derivative of the spline at given parameter values.</span>
</span><span id="Spline.bspline_values-271"><a href="#Spline.bspline_values-271"><span class="linenos">271</span></a>
</span><span id="Spline.bspline_values-272"><a href="#Spline.bspline_values-272"><span class="linenos">272</span></a><span class="sd">        Notes</span>
</span><span id="Spline.bspline_values-273"><a href="#Spline.bspline_values-273"><span class="linenos">273</span></a><span class="sd">        -----</span>
</span><span id="Spline.bspline_values-274"><a href="#Spline.bspline_values-274"><span class="linenos">274</span></a><span class="sd">        This method does not check parameter values. It is used by other evaluation methods. It uses the de Boor recurrence relations for a B-spline.</span>
</span><span id="Spline.bspline_values-275"><a href="#Spline.bspline_values-275"><span class="linenos">275</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.bspline_values-276"><a href="#Spline.bspline_values-276"><span class="linenos">276</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">bspline_values</span><span class="p">(</span><span class="n">knot</span><span class="p">,</span> <span class="n">knots</span><span class="p">,</span> <span class="n">splineOrder</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">derivativeOrder</span><span class="p">,</span> <span class="n">taylorCoefs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Compute bspline values or their derivatives for a 1D bspline segment given the rightmost knot of the segment and a parameter value within that segment.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>knot</strong> (<code>int</code>):
The rightmost knot in the bspline segment.</li>
<li><strong>knots</strong> (array-like):
The array of knots for the bspline.</li>
<li><strong>splineOrder</strong> (<code>int</code>):
The order of the bspline.</li>
<li><strong>u</strong> (<code>float</code>):
The parameter value within the segment at which to evaluate it.</li>
<li><strong>derivativeOrder</strong> (<code>int</code>, optional):
The order of the derivative. A zero-order derivative (default) just evaluates the bspline normally.</li>
<li><strong>taylorCoefs</strong> (<code>boolean</code>, optional):
A boolean flag that if true returns the derivatives divided by their degree factorial, that is 
the taylor coefficients at the given parameter values. Default is false.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>value</strong> (<code>numpy.array</code>):
The value of the bspline or its derivative at the given parameter.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.evaluate">evaluate</a></code>:  Compute the value of the spline at given parameter values. <br />
<code><a href="#Spline.derivative">derivative</a></code>:  Compute the derivative of the spline at given parameter values.  </p>

<h6 id="notes">Notes</h6>

<p>This method does not check parameter values. It is used by other evaluation methods. It uses the de Boor recurrence relations for a B-spline.</p>
</div>


                            </div>
                            <div id="Spline.clamp" class="classattr">
                                        <input id="Spline.clamp-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">clamp</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">left</span>, </span><span class="param"><span class="n">right</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.clamp-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.clamp"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.clamp-279"><a href="#Spline.clamp-279"><span class="linenos">279</span></a>    <span class="k">def</span> <span class="nf">clamp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
</span><span id="Spline.clamp-280"><a href="#Spline.clamp-280"><span class="linenos">280</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.clamp-281"><a href="#Spline.clamp-281"><span class="linenos">281</span></a><span class="sd">        Ensure the leftmost/rightmost knot has a full order multiplicity, clamping the spline&#39;s </span>
</span><span id="Spline.clamp-282"><a href="#Spline.clamp-282"><span class="linenos">282</span></a><span class="sd">        value at the first/last knot to its first/last coefficient.</span>
</span><span id="Spline.clamp-283"><a href="#Spline.clamp-283"><span class="linenos">283</span></a>
</span><span id="Spline.clamp-284"><a href="#Spline.clamp-284"><span class="linenos">284</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.clamp-285"><a href="#Spline.clamp-285"><span class="linenos">285</span></a><span class="sd">        ----------</span>
</span><span id="Spline.clamp-286"><a href="#Spline.clamp-286"><span class="linenos">286</span></a><span class="sd">        left : `iterable`</span>
</span><span id="Spline.clamp-287"><a href="#Spline.clamp-287"><span class="linenos">287</span></a><span class="sd">            An iterable of independent variables to clamp on the left side.</span>
</span><span id="Spline.clamp-288"><a href="#Spline.clamp-288"><span class="linenos">288</span></a>
</span><span id="Spline.clamp-289"><a href="#Spline.clamp-289"><span class="linenos">289</span></a><span class="sd">        right : `iterable`</span>
</span><span id="Spline.clamp-290"><a href="#Spline.clamp-290"><span class="linenos">290</span></a><span class="sd">            An iterable of independent variables to clamp on the right side.</span>
</span><span id="Spline.clamp-291"><a href="#Spline.clamp-291"><span class="linenos">291</span></a>
</span><span id="Spline.clamp-292"><a href="#Spline.clamp-292"><span class="linenos">292</span></a><span class="sd">        Returns</span>
</span><span id="Spline.clamp-293"><a href="#Spline.clamp-293"><span class="linenos">293</span></a><span class="sd">        -------</span>
</span><span id="Spline.clamp-294"><a href="#Spline.clamp-294"><span class="linenos">294</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.clamp-295"><a href="#Spline.clamp-295"><span class="linenos">295</span></a><span class="sd">            The clamped spline. If the spline was already clamped, the original spline is returned.</span>
</span><span id="Spline.clamp-296"><a href="#Spline.clamp-296"><span class="linenos">296</span></a>
</span><span id="Spline.clamp-297"><a href="#Spline.clamp-297"><span class="linenos">297</span></a><span class="sd">        See Also</span>
</span><span id="Spline.clamp-298"><a href="#Spline.clamp-298"><span class="linenos">298</span></a><span class="sd">        --------</span>
</span><span id="Spline.clamp-299"><a href="#Spline.clamp-299"><span class="linenos">299</span></a><span class="sd">        `insert_knots` : Insert new knots into a spline.</span>
</span><span id="Spline.clamp-300"><a href="#Spline.clamp-300"><span class="linenos">300</span></a><span class="sd">        `trim` : Trim the domain of a spline.</span>
</span><span id="Spline.clamp-301"><a href="#Spline.clamp-301"><span class="linenos">301</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.clamp-302"><a href="#Spline.clamp-302"><span class="linenos">302</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">clamp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Ensure the leftmost/rightmost knot has a full order multiplicity, clamping the spline's 
value at the first/last knot to its first/last coefficient.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>left</strong> (<code>iterable</code>):
An iterable of independent variables to clamp on the left side.</li>
<li><strong>right</strong> (<code>iterable</code>):
An iterable of independent variables to clamp on the right side.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
The clamped spline. If the spline was already clamped, the original spline is returned.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.insert_knots">insert_knots</a></code>:  Insert new knots into a spline. <br />
<code><a href="#Spline.trim">trim</a></code>:  Trim the domain of a spline.  </p>
</div>


                            </div>
                            <div id="Spline.common_basis" class="classattr">
                                        <input id="Spline.common_basis-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">common_basis</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">splines</span>, </span><span class="param"><span class="n">indMap</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.common_basis-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.common_basis"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.common_basis-304"><a href="#Spline.common_basis-304"><span class="linenos">304</span></a>    <span class="k">def</span> <span class="nf">common_basis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">splines</span><span class="p">,</span> <span class="n">indMap</span><span class="p">):</span>
</span><span id="Spline.common_basis-305"><a href="#Spline.common_basis-305"><span class="linenos">305</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.common_basis-306"><a href="#Spline.common_basis-306"><span class="linenos">306</span></a><span class="sd">        Align a collection of splines to a common basis, elevating the order and adding knots as needed.</span>
</span><span id="Spline.common_basis-307"><a href="#Spline.common_basis-307"><span class="linenos">307</span></a>
</span><span id="Spline.common_basis-308"><a href="#Spline.common_basis-308"><span class="linenos">308</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.common_basis-309"><a href="#Spline.common_basis-309"><span class="linenos">309</span></a><span class="sd">        ----------</span>
</span><span id="Spline.common_basis-310"><a href="#Spline.common_basis-310"><span class="linenos">310</span></a><span class="sd">        splines : `iterable`</span>
</span><span id="Spline.common_basis-311"><a href="#Spline.common_basis-311"><span class="linenos">311</span></a><span class="sd">            The collection of N - 1 splines to align (N total splines, including self).</span>
</span><span id="Spline.common_basis-312"><a href="#Spline.common_basis-312"><span class="linenos">312</span></a>
</span><span id="Spline.common_basis-313"><a href="#Spline.common_basis-313"><span class="linenos">313</span></a><span class="sd">        indMap : `iterable`</span>
</span><span id="Spline.common_basis-314"><a href="#Spline.common_basis-314"><span class="linenos">314</span></a><span class="sd">            The collection of independent variables to align. Since each spline can have multiple </span>
</span><span id="Spline.common_basis-315"><a href="#Spline.common_basis-315"><span class="linenos">315</span></a><span class="sd">            independent variables, `indMap` is an `iterable` of `iterables` (like a list of lists). </span>
</span><span id="Spline.common_basis-316"><a href="#Spline.common_basis-316"><span class="linenos">316</span></a><span class="sd">            Each collection of indices (i0, i1, .. iN) maps the i&#39;th independent variable to each other. </span>
</span><span id="Spline.common_basis-317"><a href="#Spline.common_basis-317"><span class="linenos">317</span></a><span class="sd">            The domains of mapped independent variables must match. </span>
</span><span id="Spline.common_basis-318"><a href="#Spline.common_basis-318"><span class="linenos">318</span></a><span class="sd">            An independent variable can map to no more than one other independent variable.</span>
</span><span id="Spline.common_basis-319"><a href="#Spline.common_basis-319"><span class="linenos">319</span></a><span class="sd">            If all the splines are curves (1 independent variable), then `indMap` is ((0, 0, .. 0),).</span>
</span><span id="Spline.common_basis-320"><a href="#Spline.common_basis-320"><span class="linenos">320</span></a>
</span><span id="Spline.common_basis-321"><a href="#Spline.common_basis-321"><span class="linenos">321</span></a><span class="sd">        Returns</span>
</span><span id="Spline.common_basis-322"><a href="#Spline.common_basis-322"><span class="linenos">322</span></a><span class="sd">        -------</span>
</span><span id="Spline.common_basis-323"><a href="#Spline.common_basis-323"><span class="linenos">323</span></a><span class="sd">        splines : `tuple`</span>
</span><span id="Spline.common_basis-324"><a href="#Spline.common_basis-324"><span class="linenos">324</span></a><span class="sd">            The aligned collection of N splines.</span>
</span><span id="Spline.common_basis-325"><a href="#Spline.common_basis-325"><span class="linenos">325</span></a>
</span><span id="Spline.common_basis-326"><a href="#Spline.common_basis-326"><span class="linenos">326</span></a><span class="sd">        See Also</span>
</span><span id="Spline.common_basis-327"><a href="#Spline.common_basis-327"><span class="linenos">327</span></a><span class="sd">        --------</span>
</span><span id="Spline.common_basis-328"><a href="#Spline.common_basis-328"><span class="linenos">328</span></a><span class="sd">        `elevate_and_insert_knots` : Elevate a spline and insert new knots.</span>
</span><span id="Spline.common_basis-329"><a href="#Spline.common_basis-329"><span class="linenos">329</span></a>
</span><span id="Spline.common_basis-330"><a href="#Spline.common_basis-330"><span class="linenos">330</span></a><span class="sd">        Notes</span>
</span><span id="Spline.common_basis-331"><a href="#Spline.common_basis-331"><span class="linenos">331</span></a><span class="sd">        -----</span>
</span><span id="Spline.common_basis-332"><a href="#Spline.common_basis-332"><span class="linenos">332</span></a><span class="sd">        Uses `elevate_and_insert_knots` to ensure mapped variables share the same order and knots. </span>
</span><span id="Spline.common_basis-333"><a href="#Spline.common_basis-333"><span class="linenos">333</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.common_basis-334"><a href="#Spline.common_basis-334"><span class="linenos">334</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">common_basis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">splines</span><span class="p">,</span> <span class="n">indMap</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Align a collection of splines to a common basis, elevating the order and adding knots as needed.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>splines</strong> (<code>iterable</code>):
The collection of N - 1 splines to align (N total splines, including self).</li>
<li><strong>indMap</strong> (<code>iterable</code>):
The collection of independent variables to align. Since each spline can have multiple 
independent variables, <code>indMap</code> is an <code>iterable</code> of <code>iterables</code> (like a list of lists). 
Each collection of indices (i0, i1, .. iN) maps the i'th independent variable to each other. 
The domains of mapped independent variables must match. 
An independent variable can map to no more than one other independent variable.
If all the splines are curves (1 independent variable), then <code>indMap</code> is ((0, 0, .. 0),).</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>splines</strong> (<code>tuple</code>):
The aligned collection of N splines.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.elevate_and_insert_knots">elevate_and_insert_knots</a></code>:  Elevate a spline and insert new knots.  </p>

<h6 id="notes">Notes</h6>

<p>Uses <code><a href="#Spline.elevate_and_insert_knots">elevate_and_insert_knots</a></code> to ensure mapped variables share the same order and knots.</p>
</div>


                            </div>
                            <div id="Spline.confine" class="classattr">
                                        <input id="Spline.confine-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">confine</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">range_bounds</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.confine-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.confine"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.confine-336"><a href="#Spline.confine-336"><span class="linenos">336</span></a>    <span class="k">def</span> <span class="nf">confine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">range_bounds</span><span class="p">):</span>
</span><span id="Spline.confine-337"><a href="#Spline.confine-337"><span class="linenos">337</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.confine-338"><a href="#Spline.confine-338"><span class="linenos">338</span></a><span class="sd">        Confine the range of a curve to the given bounds.</span>
</span><span id="Spline.confine-339"><a href="#Spline.confine-339"><span class="linenos">339</span></a>
</span><span id="Spline.confine-340"><a href="#Spline.confine-340"><span class="linenos">340</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.confine-341"><a href="#Spline.confine-341"><span class="linenos">341</span></a><span class="sd">        ----------</span>
</span><span id="Spline.confine-342"><a href="#Spline.confine-342"><span class="linenos">342</span></a><span class="sd">        range_bounds : `iterable`</span>
</span><span id="Spline.confine-343"><a href="#Spline.confine-343"><span class="linenos">343</span></a><span class="sd">            The collection of `nDep` tuples that specify the lower and upper bounds for the curve.</span>
</span><span id="Spline.confine-344"><a href="#Spline.confine-344"><span class="linenos">344</span></a>
</span><span id="Spline.confine-345"><a href="#Spline.confine-345"><span class="linenos">345</span></a><span class="sd">        Returns</span>
</span><span id="Spline.confine-346"><a href="#Spline.confine-346"><span class="linenos">346</span></a><span class="sd">        -------</span>
</span><span id="Spline.confine-347"><a href="#Spline.confine-347"><span class="linenos">347</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.confine-348"><a href="#Spline.confine-348"><span class="linenos">348</span></a><span class="sd">            The confined spline. </span>
</span><span id="Spline.confine-349"><a href="#Spline.confine-349"><span class="linenos">349</span></a>
</span><span id="Spline.confine-350"><a href="#Spline.confine-350"><span class="linenos">350</span></a><span class="sd">        See Also</span>
</span><span id="Spline.confine-351"><a href="#Spline.confine-351"><span class="linenos">351</span></a><span class="sd">        --------</span>
</span><span id="Spline.confine-352"><a href="#Spline.confine-352"><span class="linenos">352</span></a><span class="sd">        `range_bounds` : Return the range of a spline as lower and upper bounds.</span>
</span><span id="Spline.confine-353"><a href="#Spline.confine-353"><span class="linenos">353</span></a><span class="sd">        `contour` : Fit a spline to the contour defined by `F(x) = 0`.</span>
</span><span id="Spline.confine-354"><a href="#Spline.confine-354"><span class="linenos">354</span></a>
</span><span id="Spline.confine-355"><a href="#Spline.confine-355"><span class="linenos">355</span></a><span class="sd">        Notes</span>
</span><span id="Spline.confine-356"><a href="#Spline.confine-356"><span class="linenos">356</span></a><span class="sd">        -----</span>
</span><span id="Spline.confine-357"><a href="#Spline.confine-357"><span class="linenos">357</span></a><span class="sd">        Only works for curves (`nInd == 1`). Portions of the curve that lie outside the bounds </span>
</span><span id="Spline.confine-358"><a href="#Spline.confine-358"><span class="linenos">358</span></a><span class="sd">        become lines along the boundary.</span>
</span><span id="Spline.confine-359"><a href="#Spline.confine-359"><span class="linenos">359</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.confine-360"><a href="#Spline.confine-360"><span class="linenos">360</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">confine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">range_bounds</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Confine the range of a curve to the given bounds.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>range_bounds</strong> (<code>iterable</code>):
The collection of <code><a href="#Spline.nDep">nDep</a></code> tuples that specify the lower and upper bounds for the curve.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
The confined spline.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.range_bounds">range_bounds</a></code>:  Return the range of a spline as lower and upper bounds. <br />
<code><a href="#Spline.contour">contour</a></code>:  Fit a spline to the contour defined by <code>F(x) = 0</code>.  </p>

<h6 id="notes">Notes</h6>

<p>Only works for curves (<code>nInd == 1</code>). Portions of the curve that lie outside the bounds 
become lines along the boundary.</p>
</div>


                            </div>
                            <div id="Spline.contour" class="classattr">
                                        <input id="Spline.contour-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">contour</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">F</span>, </span><span class="param"><span class="n">knownXValues</span>, </span><span class="param"><span class="n">dF</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">epsilon</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">metadata</span><span class="o">=</span><span class="p">{}</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.contour-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.contour"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.contour-362"><a href="#Spline.contour-362"><span class="linenos">362</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Spline.contour-363"><a href="#Spline.contour-363"><span class="linenos">363</span></a>    <span class="k">def</span> <span class="nf">contour</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">knownXValues</span><span class="p">,</span> <span class="n">dF</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">epsilon</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="p">{}):</span>
</span><span id="Spline.contour-364"><a href="#Spline.contour-364"><span class="linenos">364</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.contour-365"><a href="#Spline.contour-365"><span class="linenos">365</span></a><span class="sd">        Fit a spline to the contour defined by `F(x) = 0`, where `F` maps n dimensions to </span>
</span><span id="Spline.contour-366"><a href="#Spline.contour-366"><span class="linenos">366</span></a><span class="sd">        n-1 dimensions. Thus, the solution, `x(t)`, is a contour curve (one degree of freedom) </span>
</span><span id="Spline.contour-367"><a href="#Spline.contour-367"><span class="linenos">367</span></a><span class="sd">        returned in the form of a spline.</span>
</span><span id="Spline.contour-368"><a href="#Spline.contour-368"><span class="linenos">368</span></a>
</span><span id="Spline.contour-369"><a href="#Spline.contour-369"><span class="linenos">369</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.contour-370"><a href="#Spline.contour-370"><span class="linenos">370</span></a><span class="sd">        ----------</span>
</span><span id="Spline.contour-371"><a href="#Spline.contour-371"><span class="linenos">371</span></a><span class="sd">        F : function or `Spline`</span>
</span><span id="Spline.contour-372"><a href="#Spline.contour-372"><span class="linenos">372</span></a><span class="sd">            A function or spline that takes an array-like argument of length `n` and returns an </span>
</span><span id="Spline.contour-373"><a href="#Spline.contour-373"><span class="linenos">373</span></a><span class="sd">            array-like result of length `n - 1`.</span>
</span><span id="Spline.contour-374"><a href="#Spline.contour-374"><span class="linenos">374</span></a>
</span><span id="Spline.contour-375"><a href="#Spline.contour-375"><span class="linenos">375</span></a><span class="sd">        knownXValues : `iterable` of array-like</span>
</span><span id="Spline.contour-376"><a href="#Spline.contour-376"><span class="linenos">376</span></a><span class="sd">            An `iterable` of known x values (array-like) that lie on the desired contour. </span>
</span><span id="Spline.contour-377"><a href="#Spline.contour-377"><span class="linenos">377</span></a><span class="sd">            The length of `knownXValues` must be at least 2 (for the two boundary conditions). </span>
</span><span id="Spline.contour-378"><a href="#Spline.contour-378"><span class="linenos">378</span></a><span class="sd">            All x values must be length `n` and be listed in the order they appear on the contour.  </span>
</span><span id="Spline.contour-379"><a href="#Spline.contour-379"><span class="linenos">379</span></a><span class="sd">            `F(x)` for all known x values must be a zero vector of length `n-1`.</span>
</span><span id="Spline.contour-380"><a href="#Spline.contour-380"><span class="linenos">380</span></a>
</span><span id="Spline.contour-381"><a href="#Spline.contour-381"><span class="linenos">381</span></a><span class="sd">        dF : `iterable` or `None`, optional</span>
</span><span id="Spline.contour-382"><a href="#Spline.contour-382"><span class="linenos">382</span></a><span class="sd">            An `iterable` of the `n` functions representing the `n` first derivatives of `F`. </span>
</span><span id="Spline.contour-383"><a href="#Spline.contour-383"><span class="linenos">383</span></a><span class="sd">            If `dF` is `None` (the default), the first derivatives will be computed for you. </span>
</span><span id="Spline.contour-384"><a href="#Spline.contour-384"><span class="linenos">384</span></a><span class="sd">            If `F` is not a spline, computing the first derivatives involves multiple calls to `F` </span>
</span><span id="Spline.contour-385"><a href="#Spline.contour-385"><span class="linenos">385</span></a><span class="sd">            and can be numerically unstable. </span>
</span><span id="Spline.contour-386"><a href="#Spline.contour-386"><span class="linenos">386</span></a>
</span><span id="Spline.contour-387"><a href="#Spline.contour-387"><span class="linenos">387</span></a><span class="sd">        epsilon : `float`, optional</span>
</span><span id="Spline.contour-388"><a href="#Spline.contour-388"><span class="linenos">388</span></a><span class="sd">            Tolerance for contour precision. Evaluating `F` with contour values will be within epsilon </span>
</span><span id="Spline.contour-389"><a href="#Spline.contour-389"><span class="linenos">389</span></a><span class="sd">            of zero. The default is square root of machine epsilon. The actual accuracy of the contour </span>
</span><span id="Spline.contour-390"><a href="#Spline.contour-390"><span class="linenos">390</span></a><span class="sd">            is returned as `spline.accuracy`.</span>
</span><span id="Spline.contour-391"><a href="#Spline.contour-391"><span class="linenos">391</span></a><span class="sd">            </span>
</span><span id="Spline.contour-392"><a href="#Spline.contour-392"><span class="linenos">392</span></a><span class="sd">        metadata : `dict`, optional</span>
</span><span id="Spline.contour-393"><a href="#Spline.contour-393"><span class="linenos">393</span></a><span class="sd">            A dictionary of ancillary data to store with the spline. Default is {}.</span>
</span><span id="Spline.contour-394"><a href="#Spline.contour-394"><span class="linenos">394</span></a>
</span><span id="Spline.contour-395"><a href="#Spline.contour-395"><span class="linenos">395</span></a><span class="sd">        Returns</span>
</span><span id="Spline.contour-396"><a href="#Spline.contour-396"><span class="linenos">396</span></a><span class="sd">        -------</span>
</span><span id="Spline.contour-397"><a href="#Spline.contour-397"><span class="linenos">397</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.contour-398"><a href="#Spline.contour-398"><span class="linenos">398</span></a><span class="sd">            The spline contour, `x(t)`, with nInd == 1 and nDep == n.</span>
</span><span id="Spline.contour-399"><a href="#Spline.contour-399"><span class="linenos">399</span></a>
</span><span id="Spline.contour-400"><a href="#Spline.contour-400"><span class="linenos">400</span></a><span class="sd">        See Also</span>
</span><span id="Spline.contour-401"><a href="#Spline.contour-401"><span class="linenos">401</span></a><span class="sd">        --------</span>
</span><span id="Spline.contour-402"><a href="#Spline.contour-402"><span class="linenos">402</span></a><span class="sd">        `least_squares` : Fit a spline to an array of data points using the method of least squares.</span>
</span><span id="Spline.contour-403"><a href="#Spline.contour-403"><span class="linenos">403</span></a><span class="sd">        `contours` : Find all the contour curves of a spline.</span>
</span><span id="Spline.contour-404"><a href="#Spline.contour-404"><span class="linenos">404</span></a><span class="sd">        `confine` : Confine the range of a curve to the given bounds.</span>
</span><span id="Spline.contour-405"><a href="#Spline.contour-405"><span class="linenos">405</span></a>
</span><span id="Spline.contour-406"><a href="#Spline.contour-406"><span class="linenos">406</span></a><span class="sd">        Notes</span>
</span><span id="Spline.contour-407"><a href="#Spline.contour-407"><span class="linenos">407</span></a><span class="sd">        -----</span>
</span><span id="Spline.contour-408"><a href="#Spline.contour-408"><span class="linenos">408</span></a><span class="sd">        The returned spline has constant parametric speed (the length of its derivative is constant). </span>
</span><span id="Spline.contour-409"><a href="#Spline.contour-409"><span class="linenos">409</span></a><span class="sd">        If `F` is a `Spline`, then the range of the returned contour is confined to the domain of `F`. </span>
</span><span id="Spline.contour-410"><a href="#Spline.contour-410"><span class="linenos">410</span></a><span class="sd">        Implements the algorithm described in section 7 of Grandine, Thomas A. </span>
</span><span id="Spline.contour-411"><a href="#Spline.contour-411"><span class="linenos">411</span></a><span class="sd">        &quot;Applications of contouring.&quot; Siam Review 42, no. 2 (2000): 297-316.</span>
</span><span id="Spline.contour-412"><a href="#Spline.contour-412"><span class="linenos">412</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.contour-413"><a href="#Spline.contour-413"><span class="linenos">413</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_fitting</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">knownXValues</span><span class="p">,</span> <span class="n">dF</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Fit a spline to the contour defined by <code>F(x) = 0</code>, where <code>F</code> maps n dimensions to 
n-1 dimensions. Thus, the solution, <code>x(t)</code>, is a contour curve (one degree of freedom) 
returned in the form of a spline.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>F</strong> (function or <code><a href="#Spline">Spline</a></code>):
A function or spline that takes an array-like argument of length <code>n</code> and returns an 
array-like result of length <code>n - 1</code>.</li>
<li><strong>knownXValues</strong> (<code>iterable</code> of array-like):
An <code>iterable</code> of known x values (array-like) that lie on the desired contour. 
The length of <code>knownXValues</code> must be at least 2 (for the two boundary conditions). 
All x values must be length <code>n</code> and be listed in the order they appear on the contour. <br />
<code>F(x)</code> for all known x values must be a zero vector of length <code>n-1</code>.</li>
<li><strong>dF</strong> (<code>iterable</code> or <code>None</code>, optional):
An <code>iterable</code> of the <code>n</code> functions representing the <code>n</code> first derivatives of <code>F</code>. 
If <code>dF</code> is <code>None</code> (the default), the first derivatives will be computed for you. 
If <code>F</code> is not a spline, computing the first derivatives involves multiple calls to <code>F</code> 
and can be numerically unstable.</li>
<li><strong>epsilon</strong> (<code>float</code>, optional):
Tolerance for contour precision. Evaluating <code>F</code> with contour values will be within epsilon 
of zero. The default is square root of machine epsilon. The actual accuracy of the contour 
is returned as <code>spline.accuracy</code>.</li>
<li><strong>metadata</strong> (<code>dict</code>, optional):
A dictionary of ancillary data to store with the spline. Default is {}.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
The spline contour, <code>x(t)</code>, with nInd == 1 and nDep == n.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.least_squares">least_squares</a></code>:  Fit a spline to an array of data points using the method of least squares. <br />
<code><a href="#Spline.contours">contours</a></code>:  Find all the contour curves of a spline. <br />
<code><a href="#Spline.confine">confine</a></code>:  Confine the range of a curve to the given bounds.  </p>

<h6 id="notes">Notes</h6>

<p>The returned spline has constant parametric speed (the length of its derivative is constant). 
If <code>F</code> is a <code><a href="#Spline">Spline</a></code>, then the range of the returned contour is confined to the domain of <code>F</code>. 
Implements the algorithm described in section 7 of Grandine, Thomas A. 
"Applications of contouring." Siam Review 42, no. 2 (2000): 297-316.</p>
</div>


                            </div>
                            <div id="Spline.contours" class="classattr">
                                        <input id="Spline.contours-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">contours</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.contours-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.contours"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.contours-415"><a href="#Spline.contours-415"><span class="linenos">415</span></a>    <span class="k">def</span> <span class="nf">contours</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Spline.contours-416"><a href="#Spline.contours-416"><span class="linenos">416</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.contours-417"><a href="#Spline.contours-417"><span class="linenos">417</span></a><span class="sd">        Find all the contour curves of a spline whose `nInd` is one larger than its `nDep`.</span>
</span><span id="Spline.contours-418"><a href="#Spline.contours-418"><span class="linenos">418</span></a>
</span><span id="Spline.contours-419"><a href="#Spline.contours-419"><span class="linenos">419</span></a><span class="sd">        Returns</span>
</span><span id="Spline.contours-420"><a href="#Spline.contours-420"><span class="linenos">420</span></a><span class="sd">        -------</span>
</span><span id="Spline.contours-421"><a href="#Spline.contours-421"><span class="linenos">421</span></a><span class="sd">        curves : `iterable`</span>
</span><span id="Spline.contours-422"><a href="#Spline.contours-422"><span class="linenos">422</span></a><span class="sd">            A collection of `Spline` curves, `u(t)`, each of whose domain is [0, 1], whose range is</span>
</span><span id="Spline.contours-423"><a href="#Spline.contours-423"><span class="linenos">423</span></a><span class="sd">            in the parameter space of the given spline, and which satisfy `self(u(t)) = 0`. </span>
</span><span id="Spline.contours-424"><a href="#Spline.contours-424"><span class="linenos">424</span></a>
</span><span id="Spline.contours-425"><a href="#Spline.contours-425"><span class="linenos">425</span></a><span class="sd">        See Also</span>
</span><span id="Spline.contours-426"><a href="#Spline.contours-426"><span class="linenos">426</span></a><span class="sd">        --------</span>
</span><span id="Spline.contours-427"><a href="#Spline.contours-427"><span class="linenos">427</span></a><span class="sd">        `zeros` : Find the roots of a spline (nInd must match nDep).</span>
</span><span id="Spline.contours-428"><a href="#Spline.contours-428"><span class="linenos">428</span></a><span class="sd">        `contour` : Fit a spline to the contour defined by `F(x) = 0`.</span>
</span><span id="Spline.contours-429"><a href="#Spline.contours-429"><span class="linenos">429</span></a><span class="sd">        `intersect` : Intersect two splines.</span>
</span><span id="Spline.contours-430"><a href="#Spline.contours-430"><span class="linenos">430</span></a>
</span><span id="Spline.contours-431"><a href="#Spline.contours-431"><span class="linenos">431</span></a><span class="sd">        Notes</span>
</span><span id="Spline.contours-432"><a href="#Spline.contours-432"><span class="linenos">432</span></a><span class="sd">        -----</span>
</span><span id="Spline.contours-433"><a href="#Spline.contours-433"><span class="linenos">433</span></a><span class="sd">        Uses `zeros` to find all intersection points and `contour` to find individual intersection curves. </span>
</span><span id="Spline.contours-434"><a href="#Spline.contours-434"><span class="linenos">434</span></a><span class="sd">        The algorithm used to to find all intersection curves is from Grandine, Thomas A., and Frederick W. Klein IV. </span>
</span><span id="Spline.contours-435"><a href="#Spline.contours-435"><span class="linenos">435</span></a><span class="sd">        &quot;A new approach to the surface intersection problem.&quot; Computer Aided Geometric Design 14, no. 2 (1997): 111-134.</span>
</span><span id="Spline.contours-436"><a href="#Spline.contours-436"><span class="linenos">436</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.contours-437"><a href="#Spline.contours-437"><span class="linenos">437</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_intersection</span><span class="o">.</span><span class="n">contours</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Find all the contour curves of a spline whose <code><a href="#Spline.nInd">nInd</a></code> is one larger than its <code><a href="#Spline.nDep">nDep</a></code>.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>curves</strong> (<code>iterable</code>):
A collection of <code><a href="#Spline">Spline</a></code> curves, <code>u(t)</code>, each of whose domain is [0, 1], whose range is
in the parameter space of the given spline, and which satisfy <code>self(u(t)) = 0</code>.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.zeros">zeros</a></code>:  Find the roots of a spline (nInd must match nDep). <br />
<code><a href="#Spline.contour">contour</a></code>:  Fit a spline to the contour defined by <code>F(x) = 0</code>. <br />
<code><a href="#Spline.intersect">intersect</a></code>:  Intersect two splines.  </p>

<h6 id="notes">Notes</h6>

<p>Uses <code><a href="#Spline.zeros">zeros</a></code> to find all intersection points and <code><a href="#Spline.contour">contour</a></code> to find individual intersection curves. 
The algorithm used to to find all intersection curves is from Grandine, Thomas A., and Frederick W. Klein IV. 
"A new approach to the surface intersection problem." Computer Aided Geometric Design 14, no. 2 (1997): 111-134.</p>
</div>


                            </div>
                            <div id="Spline.contract" class="classattr">
                                        <input id="Spline.contract-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">contract</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">uvw</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.contract-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.contract"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.contract-439"><a href="#Spline.contract-439"><span class="linenos">439</span></a>    <span class="k">def</span> <span class="nf">contract</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">):</span>
</span><span id="Spline.contract-440"><a href="#Spline.contract-440"><span class="linenos">440</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.contract-441"><a href="#Spline.contract-441"><span class="linenos">441</span></a><span class="sd">        Contract a spline by assigning a fixed value to one or more of its independent variables.</span>
</span><span id="Spline.contract-442"><a href="#Spline.contract-442"><span class="linenos">442</span></a>
</span><span id="Spline.contract-443"><a href="#Spline.contract-443"><span class="linenos">443</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.contract-444"><a href="#Spline.contract-444"><span class="linenos">444</span></a><span class="sd">        ----------</span>
</span><span id="Spline.contract-445"><a href="#Spline.contract-445"><span class="linenos">445</span></a><span class="sd">        uvw : `iterable`</span>
</span><span id="Spline.contract-446"><a href="#Spline.contract-446"><span class="linenos">446</span></a><span class="sd">            An iterable of length `nInd` that specifies the values of each independent variable to contract.</span>
</span><span id="Spline.contract-447"><a href="#Spline.contract-447"><span class="linenos">447</span></a><span class="sd">            A value of `None` for an independent variable indicates that variable should remain unchanged.</span>
</span><span id="Spline.contract-448"><a href="#Spline.contract-448"><span class="linenos">448</span></a>
</span><span id="Spline.contract-449"><a href="#Spline.contract-449"><span class="linenos">449</span></a><span class="sd">        Returns</span>
</span><span id="Spline.contract-450"><a href="#Spline.contract-450"><span class="linenos">450</span></a><span class="sd">        -------</span>
</span><span id="Spline.contract-451"><a href="#Spline.contract-451"><span class="linenos">451</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.contract-452"><a href="#Spline.contract-452"><span class="linenos">452</span></a><span class="sd">            The contracted spline.</span>
</span><span id="Spline.contract-453"><a href="#Spline.contract-453"><span class="linenos">453</span></a>
</span><span id="Spline.contract-454"><a href="#Spline.contract-454"><span class="linenos">454</span></a><span class="sd">        See Also</span>
</span><span id="Spline.contract-455"><a href="#Spline.contract-455"><span class="linenos">455</span></a><span class="sd">        --------</span>
</span><span id="Spline.contract-456"><a href="#Spline.contract-456"><span class="linenos">456</span></a><span class="sd">        `evaluate` : Compute the value of the spline at given parameter values.</span>
</span><span id="Spline.contract-457"><a href="#Spline.contract-457"><span class="linenos">457</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.contract-458"><a href="#Spline.contract-458"><span class="linenos">458</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">contract</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Contract a spline by assigning a fixed value to one or more of its independent variables.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>uvw</strong> (<code>iterable</code>):
An iterable of length <code><a href="#Spline.nInd">nInd</a></code> that specifies the values of each independent variable to contract.
A value of <code>None</code> for an independent variable indicates that variable should remain unchanged.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
The contracted spline.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.evaluate">evaluate</a></code>:  Compute the value of the spline at given parameter values.  </p>
</div>


                            </div>
                            <div id="Spline.convolve" class="classattr">
                                        <input id="Spline.convolve-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">convolve</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">other</span>, </span><span class="param"><span class="n">indMap</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">productType</span><span class="o">=</span><span class="s1">&#39;S&#39;</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.convolve-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.convolve"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.convolve-460"><a href="#Spline.convolve-460"><span class="linenos">460</span></a>    <span class="k">def</span> <span class="nf">convolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">productType</span> <span class="o">=</span> <span class="s1">&#39;S&#39;</span><span class="p">):</span>
</span><span id="Spline.convolve-461"><a href="#Spline.convolve-461"><span class="linenos">461</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.convolve-462"><a href="#Spline.convolve-462"><span class="linenos">462</span></a><span class="sd">        Convolve two splines (cross, dot, or scalar product).</span>
</span><span id="Spline.convolve-463"><a href="#Spline.convolve-463"><span class="linenos">463</span></a>
</span><span id="Spline.convolve-464"><a href="#Spline.convolve-464"><span class="linenos">464</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.convolve-465"><a href="#Spline.convolve-465"><span class="linenos">465</span></a><span class="sd">        ----------</span>
</span><span id="Spline.convolve-466"><a href="#Spline.convolve-466"><span class="linenos">466</span></a><span class="sd">        other : `Spline`</span>
</span><span id="Spline.convolve-467"><a href="#Spline.convolve-467"><span class="linenos">467</span></a><span class="sd">            The spline to convolve with self.</span>
</span><span id="Spline.convolve-468"><a href="#Spline.convolve-468"><span class="linenos">468</span></a>
</span><span id="Spline.convolve-469"><a href="#Spline.convolve-469"><span class="linenos">469</span></a><span class="sd">        indMap : `iterable` or `None`, optional</span>
</span><span id="Spline.convolve-470"><a href="#Spline.convolve-470"><span class="linenos">470</span></a><span class="sd">            An iterable of indices or pairs of indices. Each index refers to an independent variable.</span>
</span><span id="Spline.convolve-471"><a href="#Spline.convolve-471"><span class="linenos">471</span></a><span class="sd">            Within the iterable, a single index, `n`, maps the nth independent variable of self to the same independent variable of other.</span>
</span><span id="Spline.convolve-472"><a href="#Spline.convolve-472"><span class="linenos">472</span></a><span class="sd">            A pair `(n, m)` maps the nth independent variable of self to the mth independent variable of other. </span>
</span><span id="Spline.convolve-473"><a href="#Spline.convolve-473"><span class="linenos">473</span></a><span class="sd">            For example, if you wanted to convolve `self(u, v, w)` with `other(u, w)`, you&#39;d pass `[0, (2, 1)]` for `indMap`. </span>
</span><span id="Spline.convolve-474"><a href="#Spline.convolve-474"><span class="linenos">474</span></a><span class="sd">            Unmapped independent variables remain independent (the default).</span>
</span><span id="Spline.convolve-475"><a href="#Spline.convolve-475"><span class="linenos">475</span></a><span class="sd">            An independent variable can map to no more than one other independent variable.</span>
</span><span id="Spline.convolve-476"><a href="#Spline.convolve-476"><span class="linenos">476</span></a>
</span><span id="Spline.convolve-477"><a href="#Spline.convolve-477"><span class="linenos">477</span></a><span class="sd">        productType : {&#39;C&#39;, &#39;D&#39;, &#39;S&#39;}, optional</span>
</span><span id="Spline.convolve-478"><a href="#Spline.convolve-478"><span class="linenos">478</span></a><span class="sd">            The type of product to perform on the dependent variables (default is &#39;S&#39;).</span>
</span><span id="Spline.convolve-479"><a href="#Spline.convolve-479"><span class="linenos">479</span></a><span class="sd">                &#39;C&#39; is for a cross product, self x other (nDep must be 2 or 3).</span>
</span><span id="Spline.convolve-480"><a href="#Spline.convolve-480"><span class="linenos">480</span></a><span class="sd">                &#39;D&#39; is for a dot product (nDep must match).</span>
</span><span id="Spline.convolve-481"><a href="#Spline.convolve-481"><span class="linenos">481</span></a><span class="sd">                &#39;S&#39; is for a scalar product (nDep must be 1 for one of the splines).</span>
</span><span id="Spline.convolve-482"><a href="#Spline.convolve-482"><span class="linenos">482</span></a><span class="sd">        </span>
</span><span id="Spline.convolve-483"><a href="#Spline.convolve-483"><span class="linenos">483</span></a><span class="sd">        Returns</span>
</span><span id="Spline.convolve-484"><a href="#Spline.convolve-484"><span class="linenos">484</span></a><span class="sd">        -------</span>
</span><span id="Spline.convolve-485"><a href="#Spline.convolve-485"><span class="linenos">485</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.convolve-486"><a href="#Spline.convolve-486"><span class="linenos">486</span></a><span class="sd">            The result of convolving self with other.</span>
</span><span id="Spline.convolve-487"><a href="#Spline.convolve-487"><span class="linenos">487</span></a>
</span><span id="Spline.convolve-488"><a href="#Spline.convolve-488"><span class="linenos">488</span></a><span class="sd">        See Also</span>
</span><span id="Spline.convolve-489"><a href="#Spline.convolve-489"><span class="linenos">489</span></a><span class="sd">        --------</span>
</span><span id="Spline.convolve-490"><a href="#Spline.convolve-490"><span class="linenos">490</span></a><span class="sd">        `multiply` : Multiply two splines (cross, dot, or scalar product).</span>
</span><span id="Spline.convolve-491"><a href="#Spline.convolve-491"><span class="linenos">491</span></a><span class="sd">        `integrate` : Integrate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="Spline.convolve-492"><a href="#Spline.convolve-492"><span class="linenos">492</span></a>
</span><span id="Spline.convolve-493"><a href="#Spline.convolve-493"><span class="linenos">493</span></a><span class="sd">        Notes</span>
</span><span id="Spline.convolve-494"><a href="#Spline.convolve-494"><span class="linenos">494</span></a><span class="sd">        -----</span>
</span><span id="Spline.convolve-495"><a href="#Spline.convolve-495"><span class="linenos">495</span></a><span class="sd">        Taken in part from Lee, E. T. Y. &quot;Computing a chain of blossoms, with application to products of splines.&quot; </span>
</span><span id="Spline.convolve-496"><a href="#Spline.convolve-496"><span class="linenos">496</span></a><span class="sd">        Computer Aided Geometric Design 11, no. 6 (1994): 597-620.</span>
</span><span id="Spline.convolve-497"><a href="#Spline.convolve-497"><span class="linenos">497</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.convolve-498"><a href="#Spline.convolve-498"><span class="linenos">498</span></a>        <span class="k">if</span> <span class="n">indMap</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Spline.convolve-499"><a href="#Spline.convolve-499"><span class="linenos">499</span></a>            <span class="n">indMap</span> <span class="o">=</span> <span class="p">[(</span><span class="o">*</span><span class="p">(</span><span class="n">mapping</span> <span class="k">if</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">mapping</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">mapping</span><span class="p">)),</span> <span class="kc">True</span><span class="p">)</span> <span class="k">for</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="n">indMap</span><span class="p">]</span>
</span><span id="Spline.convolve-500"><a href="#Spline.convolve-500"><span class="linenos">500</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">multiplyAndConvolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span><span class="p">,</span> <span class="n">productType</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Convolve two splines (cross, dot, or scalar product).</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>other</strong> (<code><a href="#Spline">Spline</a></code>):
The spline to convolve with self.</li>
<li><strong>indMap</strong> (<code>iterable</code> or <code>None</code>, optional):
An iterable of indices or pairs of indices. Each index refers to an independent variable.
Within the iterable, a single index, <code>n</code>, maps the nth independent variable of self to the same independent variable of other.
A pair <code>(n, m)</code> maps the nth independent variable of self to the mth independent variable of other. 
For example, if you wanted to convolve <code>self(u, v, w)</code> with <code>other(u, w)</code>, you'd pass <code>[0, (2, 1)]</code> for <code>indMap</code>. 
Unmapped independent variables remain independent (the default).
An independent variable can map to no more than one other independent variable.</li>
<li><strong>productType</strong> ({'C', 'D', 'S'}, optional):
The type of product to perform on the dependent variables (default is 'S').
    'C' is for a cross product, self x other (nDep must be 2 or 3).
    'D' is for a dot product (nDep must match).
    'S' is for a scalar product (nDep must be 1 for one of the splines).</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
The result of convolving self with other.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.multiply">multiply</a></code>:  Multiply two splines (cross, dot, or scalar product). <br />
<code><a href="#Spline.integrate">integrate</a></code>:  Integrate a spline with respect to one of its independent variables, returning the resulting spline.  </p>

<h6 id="notes">Notes</h6>

<p>Taken in part from Lee, E. T. Y. "Computing a chain of blossoms, with application to products of splines." 
Computer Aided Geometric Design 11, no. 6 (1994): 597-620.</p>
</div>


                            </div>
                            <div id="Spline.copy" class="classattr">
                                        <input id="Spline.copy-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">copy</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">metadata</span><span class="o">=</span><span class="p">{}</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.copy-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.copy"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.copy-502"><a href="#Spline.copy-502"><span class="linenos">502</span></a>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{}):</span>
</span><span id="Spline.copy-503"><a href="#Spline.copy-503"><span class="linenos">503</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.copy-504"><a href="#Spline.copy-504"><span class="linenos">504</span></a><span class="sd">        Create a copy of a spline.</span>
</span><span id="Spline.copy-505"><a href="#Spline.copy-505"><span class="linenos">505</span></a>
</span><span id="Spline.copy-506"><a href="#Spline.copy-506"><span class="linenos">506</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.copy-507"><a href="#Spline.copy-507"><span class="linenos">507</span></a><span class="sd">        ----------</span>
</span><span id="Spline.copy-508"><a href="#Spline.copy-508"><span class="linenos">508</span></a><span class="sd">        metadata : `dict`, optional</span>
</span><span id="Spline.copy-509"><a href="#Spline.copy-509"><span class="linenos">509</span></a><span class="sd">            A dictionary of ancillary data to store with the spline. Default is {}.</span>
</span><span id="Spline.copy-510"><a href="#Spline.copy-510"><span class="linenos">510</span></a><span class="sd">        </span>
</span><span id="Spline.copy-511"><a href="#Spline.copy-511"><span class="linenos">511</span></a><span class="sd">        Returns</span>
</span><span id="Spline.copy-512"><a href="#Spline.copy-512"><span class="linenos">512</span></a><span class="sd">        -------</span>
</span><span id="Spline.copy-513"><a href="#Spline.copy-513"><span class="linenos">513</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.copy-514"><a href="#Spline.copy-514"><span class="linenos">514</span></a><span class="sd">            The spline copy.</span>
</span><span id="Spline.copy-515"><a href="#Spline.copy-515"><span class="linenos">515</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.copy-516"><a href="#Spline.copy-516"><span class="linenos">516</span></a>        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="bp">self</span><span class="o">.</span><span class="n">nInd</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nCoef</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">knots</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">accuracy</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Create a copy of a spline.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>metadata</strong> (<code>dict</code>, optional):
A dictionary of ancillary data to store with the spline. Default is {}.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
The spline copy.</li>
</ul>
</div>


                            </div>
                            <div id="Spline.cross" class="classattr">
                                        <input id="Spline.cross-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">cross</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">vector</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.cross-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.cross"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.cross-518"><a href="#Spline.cross-518"><span class="linenos">518</span></a>    <span class="k">def</span> <span class="nf">cross</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vector</span><span class="p">):</span>
</span><span id="Spline.cross-519"><a href="#Spline.cross-519"><span class="linenos">519</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.cross-520"><a href="#Spline.cross-520"><span class="linenos">520</span></a><span class="sd">        Cross product a spline with `nDep` of 2 or 3 by the given vector.</span>
</span><span id="Spline.cross-521"><a href="#Spline.cross-521"><span class="linenos">521</span></a>
</span><span id="Spline.cross-522"><a href="#Spline.cross-522"><span class="linenos">522</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.cross-523"><a href="#Spline.cross-523"><span class="linenos">523</span></a><span class="sd">        ----------</span>
</span><span id="Spline.cross-524"><a href="#Spline.cross-524"><span class="linenos">524</span></a><span class="sd">        vector : array-like or `Spline`</span>
</span><span id="Spline.cross-525"><a href="#Spline.cross-525"><span class="linenos">525</span></a><span class="sd">            An array of length 2 or 3 or spline with `nDep` of 2 or 3 that specifies the vector.</span>
</span><span id="Spline.cross-526"><a href="#Spline.cross-526"><span class="linenos">526</span></a>
</span><span id="Spline.cross-527"><a href="#Spline.cross-527"><span class="linenos">527</span></a><span class="sd">        Returns</span>
</span><span id="Spline.cross-528"><a href="#Spline.cross-528"><span class="linenos">528</span></a><span class="sd">        -------</span>
</span><span id="Spline.cross-529"><a href="#Spline.cross-529"><span class="linenos">529</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.cross-530"><a href="#Spline.cross-530"><span class="linenos">530</span></a><span class="sd">            The crossed spline: self x vector.</span>
</span><span id="Spline.cross-531"><a href="#Spline.cross-531"><span class="linenos">531</span></a>
</span><span id="Spline.cross-532"><a href="#Spline.cross-532"><span class="linenos">532</span></a><span class="sd">        See Also</span>
</span><span id="Spline.cross-533"><a href="#Spline.cross-533"><span class="linenos">533</span></a><span class="sd">        --------</span>
</span><span id="Spline.cross-534"><a href="#Spline.cross-534"><span class="linenos">534</span></a><span class="sd">        `multiply` : Multiply two splines (cross, dot, or scalar product).</span>
</span><span id="Spline.cross-535"><a href="#Spline.cross-535"><span class="linenos">535</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.cross-536"><a href="#Spline.cross-536"><span class="linenos">536</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vector</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Cross product a spline with <code><a href="#Spline.nDep">nDep</a></code> of 2 or 3 by the given vector.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>vector</strong> (array-like or <code><a href="#Spline">Spline</a></code>):
An array of length 2 or 3 or spline with <code><a href="#Spline.nDep">nDep</a></code> of 2 or 3 that specifies the vector.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
The crossed spline: self x vector.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.multiply">multiply</a></code>:  Multiply two splines (cross, dot, or scalar product).  </p>
</div>


                            </div>
                            <div id="Spline.derivative" class="classattr">
                                        <input id="Spline.derivative-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">derivative</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">with_respect_to</span>, </span><span class="param"><span class="n">uvw</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.derivative-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.derivative"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.derivative-538"><a href="#Spline.derivative-538"><span class="linenos">538</span></a>    <span class="k">def</span> <span class="nf">derivative</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span><span class="p">,</span> <span class="n">uvw</span><span class="p">):</span>
</span><span id="Spline.derivative-539"><a href="#Spline.derivative-539"><span class="linenos">539</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.derivative-540"><a href="#Spline.derivative-540"><span class="linenos">540</span></a><span class="sd">        Compute the derivative of the spline at given parameter values.</span>
</span><span id="Spline.derivative-541"><a href="#Spline.derivative-541"><span class="linenos">541</span></a>
</span><span id="Spline.derivative-542"><a href="#Spline.derivative-542"><span class="linenos">542</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.derivative-543"><a href="#Spline.derivative-543"><span class="linenos">543</span></a><span class="sd">        ----------</span>
</span><span id="Spline.derivative-544"><a href="#Spline.derivative-544"><span class="linenos">544</span></a><span class="sd">        with_respect_to : `iterable`</span>
</span><span id="Spline.derivative-545"><a href="#Spline.derivative-545"><span class="linenos">545</span></a><span class="sd">            An iterable of length `nInd` that specifies the integer order of derivative for each independent variable.</span>
</span><span id="Spline.derivative-546"><a href="#Spline.derivative-546"><span class="linenos">546</span></a><span class="sd">            A zero-order derivative just evaluates the spline normally.</span>
</span><span id="Spline.derivative-547"><a href="#Spline.derivative-547"><span class="linenos">547</span></a><span class="sd">        </span>
</span><span id="Spline.derivative-548"><a href="#Spline.derivative-548"><span class="linenos">548</span></a><span class="sd">        uvw : `iterable`</span>
</span><span id="Spline.derivative-549"><a href="#Spline.derivative-549"><span class="linenos">549</span></a><span class="sd">            An iterable of length `nInd` that specifies the values of each independent variable (the parameter values).</span>
</span><span id="Spline.derivative-550"><a href="#Spline.derivative-550"><span class="linenos">550</span></a>
</span><span id="Spline.derivative-551"><a href="#Spline.derivative-551"><span class="linenos">551</span></a><span class="sd">        Returns</span>
</span><span id="Spline.derivative-552"><a href="#Spline.derivative-552"><span class="linenos">552</span></a><span class="sd">        -------</span>
</span><span id="Spline.derivative-553"><a href="#Spline.derivative-553"><span class="linenos">553</span></a><span class="sd">        value : `numpy.array`</span>
</span><span id="Spline.derivative-554"><a href="#Spline.derivative-554"><span class="linenos">554</span></a><span class="sd">            The value of the derivative of the spline at the given parameter values.</span>
</span><span id="Spline.derivative-555"><a href="#Spline.derivative-555"><span class="linenos">555</span></a>
</span><span id="Spline.derivative-556"><a href="#Spline.derivative-556"><span class="linenos">556</span></a><span class="sd">        See Also</span>
</span><span id="Spline.derivative-557"><a href="#Spline.derivative-557"><span class="linenos">557</span></a><span class="sd">        --------</span>
</span><span id="Spline.derivative-558"><a href="#Spline.derivative-558"><span class="linenos">558</span></a><span class="sd">        `evaluate` : Compute the value of the spline at a given parameter value.</span>
</span><span id="Spline.derivative-559"><a href="#Spline.derivative-559"><span class="linenos">559</span></a><span class="sd">        `differentiate` : Differentiate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="Spline.derivative-560"><a href="#Spline.derivative-560"><span class="linenos">560</span></a><span class="sd">        `integral` : Compute the integral of the spline at a given parameter value.</span>
</span><span id="Spline.derivative-561"><a href="#Spline.derivative-561"><span class="linenos">561</span></a><span class="sd">        `integrate` : Integrate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="Spline.derivative-562"><a href="#Spline.derivative-562"><span class="linenos">562</span></a>
</span><span id="Spline.derivative-563"><a href="#Spline.derivative-563"><span class="linenos">563</span></a><span class="sd">        Notes</span>
</span><span id="Spline.derivative-564"><a href="#Spline.derivative-564"><span class="linenos">564</span></a><span class="sd">        -----</span>
</span><span id="Spline.derivative-565"><a href="#Spline.derivative-565"><span class="linenos">565</span></a><span class="sd">        The derivative method uses the de Boor recurrence relations for a B-spline</span>
</span><span id="Spline.derivative-566"><a href="#Spline.derivative-566"><span class="linenos">566</span></a><span class="sd">        series to evaluate a spline.  The non-zero B-splines are</span>
</span><span id="Spline.derivative-567"><a href="#Spline.derivative-567"><span class="linenos">567</span></a><span class="sd">        evaluated, then the dot product of those B-splines with the vector of</span>
</span><span id="Spline.derivative-568"><a href="#Spline.derivative-568"><span class="linenos">568</span></a><span class="sd">        B-spline coefficients is computed.</span>
</span><span id="Spline.derivative-569"><a href="#Spline.derivative-569"><span class="linenos">569</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.derivative-570"><a href="#Spline.derivative-570"><span class="linenos">570</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span><span class="p">,</span> <span class="n">uvw</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Compute the derivative of the spline at given parameter values.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>with_respect_to</strong> (<code>iterable</code>):
An iterable of length <code><a href="#Spline.nInd">nInd</a></code> that specifies the integer order of derivative for each independent variable.
A zero-order derivative just evaluates the spline normally.</li>
<li><strong>uvw</strong> (<code>iterable</code>):
An iterable of length <code><a href="#Spline.nInd">nInd</a></code> that specifies the values of each independent variable (the parameter values).</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>value</strong> (<code>numpy.array</code>):
The value of the derivative of the spline at the given parameter values.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.evaluate">evaluate</a></code>:  Compute the value of the spline at a given parameter value. <br />
<code><a href="#Spline.differentiate">differentiate</a></code>:  Differentiate a spline with respect to one of its independent variables, returning the resulting spline. <br />
<code><a href="#Spline.integral">integral</a></code>:  Compute the integral of the spline at a given parameter value. <br />
<code><a href="#Spline.integrate">integrate</a></code>:  Integrate a spline with respect to one of its independent variables, returning the resulting spline.  </p>

<h6 id="notes">Notes</h6>

<p>The derivative method uses the de Boor recurrence relations for a B-spline
series to evaluate a spline.  The non-zero B-splines are
evaluated, then the dot product of those B-splines with the vector of
B-spline coefficients is computed.</p>
</div>


                            </div>
                            <div id="Spline.differentiate" class="classattr">
                                        <input id="Spline.differentiate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">differentiate</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">with_respect_to</span><span class="o">=</span><span class="mi">0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.differentiate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.differentiate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.differentiate-572"><a href="#Spline.differentiate-572"><span class="linenos">572</span></a>    <span class="k">def</span> <span class="nf">differentiate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="Spline.differentiate-573"><a href="#Spline.differentiate-573"><span class="linenos">573</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.differentiate-574"><a href="#Spline.differentiate-574"><span class="linenos">574</span></a><span class="sd">        Differentiate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="Spline.differentiate-575"><a href="#Spline.differentiate-575"><span class="linenos">575</span></a>
</span><span id="Spline.differentiate-576"><a href="#Spline.differentiate-576"><span class="linenos">576</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.differentiate-577"><a href="#Spline.differentiate-577"><span class="linenos">577</span></a><span class="sd">        ----------</span>
</span><span id="Spline.differentiate-578"><a href="#Spline.differentiate-578"><span class="linenos">578</span></a><span class="sd">        with_respect_to : integer, optional</span>
</span><span id="Spline.differentiate-579"><a href="#Spline.differentiate-579"><span class="linenos">579</span></a><span class="sd">            The number of the independent variable to differentiate. Default is zero.</span>
</span><span id="Spline.differentiate-580"><a href="#Spline.differentiate-580"><span class="linenos">580</span></a>
</span><span id="Spline.differentiate-581"><a href="#Spline.differentiate-581"><span class="linenos">581</span></a><span class="sd">        Returns</span>
</span><span id="Spline.differentiate-582"><a href="#Spline.differentiate-582"><span class="linenos">582</span></a><span class="sd">        -------</span>
</span><span id="Spline.differentiate-583"><a href="#Spline.differentiate-583"><span class="linenos">583</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.differentiate-584"><a href="#Spline.differentiate-584"><span class="linenos">584</span></a><span class="sd">            The spline that results from differentiating the original spline with respect to the given independent variable.</span>
</span><span id="Spline.differentiate-585"><a href="#Spline.differentiate-585"><span class="linenos">585</span></a>
</span><span id="Spline.differentiate-586"><a href="#Spline.differentiate-586"><span class="linenos">586</span></a><span class="sd">        See Also</span>
</span><span id="Spline.differentiate-587"><a href="#Spline.differentiate-587"><span class="linenos">587</span></a><span class="sd">        --------</span>
</span><span id="Spline.differentiate-588"><a href="#Spline.differentiate-588"><span class="linenos">588</span></a><span class="sd">        `derivative` : Compute the derivative of the spline at a given parameter value.</span>
</span><span id="Spline.differentiate-589"><a href="#Spline.differentiate-589"><span class="linenos">589</span></a><span class="sd">        `integral` : Compute the integral of the spline at a given parameter value.</span>
</span><span id="Spline.differentiate-590"><a href="#Spline.differentiate-590"><span class="linenos">590</span></a><span class="sd">        `integrate` : Integrate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="Spline.differentiate-591"><a href="#Spline.differentiate-591"><span class="linenos">591</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.differentiate-592"><a href="#Spline.differentiate-592"><span class="linenos">592</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">differentiate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Differentiate a spline with respect to one of its independent variables, returning the resulting spline.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>with_respect_to</strong> (integer, optional):
The number of the independent variable to differentiate. Default is zero.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
The spline that results from differentiating the original spline with respect to the given independent variable.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.derivative">derivative</a></code>:  Compute the derivative of the spline at a given parameter value. <br />
<code><a href="#Spline.integral">integral</a></code>:  Compute the integral of the spline at a given parameter value. <br />
<code><a href="#Spline.integrate">integrate</a></code>:  Integrate a spline with respect to one of its independent variables, returning the resulting spline.  </p>
</div>


                            </div>
                            <div id="Spline.domain" class="classattr">
                                        <input id="Spline.domain-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">domain</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.domain-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.domain"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.domain-594"><a href="#Spline.domain-594"><span class="linenos">594</span></a>    <span class="k">def</span> <span class="nf">domain</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Spline.domain-595"><a href="#Spline.domain-595"><span class="linenos">595</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.domain-596"><a href="#Spline.domain-596"><span class="linenos">596</span></a><span class="sd">        Return the domain of a spline.</span>
</span><span id="Spline.domain-597"><a href="#Spline.domain-597"><span class="linenos">597</span></a>
</span><span id="Spline.domain-598"><a href="#Spline.domain-598"><span class="linenos">598</span></a><span class="sd">        Returns</span>
</span><span id="Spline.domain-599"><a href="#Spline.domain-599"><span class="linenos">599</span></a><span class="sd">        -------</span>
</span><span id="Spline.domain-600"><a href="#Spline.domain-600"><span class="linenos">600</span></a><span class="sd">        bounds : `numpy.array`</span>
</span><span id="Spline.domain-601"><a href="#Spline.domain-601"><span class="linenos">601</span></a><span class="sd">            nInd x 2 array of the upper and lower bounds on each of the independent variables.</span>
</span><span id="Spline.domain-602"><a href="#Spline.domain-602"><span class="linenos">602</span></a>
</span><span id="Spline.domain-603"><a href="#Spline.domain-603"><span class="linenos">603</span></a><span class="sd">        See Also</span>
</span><span id="Spline.domain-604"><a href="#Spline.domain-604"><span class="linenos">604</span></a><span class="sd">        --------</span>
</span><span id="Spline.domain-605"><a href="#Spline.domain-605"><span class="linenos">605</span></a><span class="sd">        `reparametrize` : Reparametrize a spline to match new domain bounds</span>
</span><span id="Spline.domain-606"><a href="#Spline.domain-606"><span class="linenos">606</span></a><span class="sd">        `trim` : Trim the domain of a spline.</span>
</span><span id="Spline.domain-607"><a href="#Spline.domain-607"><span class="linenos">607</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.domain-608"><a href="#Spline.domain-608"><span class="linenos">608</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">domain</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return the domain of a spline.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>bounds</strong> (<code>numpy.array</code>):
nInd x 2 array of the upper and lower bounds on each of the independent variables.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.reparametrize">reparametrize</a></code>:  Reparametrize a spline to match new domain bounds <br />
<code><a href="#Spline.trim">trim</a></code>:  Trim the domain of a spline.  </p>
</div>


                            </div>
                            <div id="Spline.dot" class="classattr">
                                        <input id="Spline.dot-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">dot</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">vector</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.dot-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.dot"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.dot-610"><a href="#Spline.dot-610"><span class="linenos">610</span></a>    <span class="k">def</span> <span class="nf">dot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vector</span><span class="p">):</span>
</span><span id="Spline.dot-611"><a href="#Spline.dot-611"><span class="linenos">611</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.dot-612"><a href="#Spline.dot-612"><span class="linenos">612</span></a><span class="sd">        Dot product a spline by the given vector.</span>
</span><span id="Spline.dot-613"><a href="#Spline.dot-613"><span class="linenos">613</span></a>
</span><span id="Spline.dot-614"><a href="#Spline.dot-614"><span class="linenos">614</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.dot-615"><a href="#Spline.dot-615"><span class="linenos">615</span></a><span class="sd">        ----------</span>
</span><span id="Spline.dot-616"><a href="#Spline.dot-616"><span class="linenos">616</span></a><span class="sd">        vector : array-like or `Spline`</span>
</span><span id="Spline.dot-617"><a href="#Spline.dot-617"><span class="linenos">617</span></a><span class="sd">            An array of length `nDep` or spline with matching `nDep` that specifies the vector.</span>
</span><span id="Spline.dot-618"><a href="#Spline.dot-618"><span class="linenos">618</span></a>
</span><span id="Spline.dot-619"><a href="#Spline.dot-619"><span class="linenos">619</span></a><span class="sd">        Returns</span>
</span><span id="Spline.dot-620"><a href="#Spline.dot-620"><span class="linenos">620</span></a><span class="sd">        -------</span>
</span><span id="Spline.dot-621"><a href="#Spline.dot-621"><span class="linenos">621</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.dot-622"><a href="#Spline.dot-622"><span class="linenos">622</span></a><span class="sd">            The dotted spline.</span>
</span><span id="Spline.dot-623"><a href="#Spline.dot-623"><span class="linenos">623</span></a>
</span><span id="Spline.dot-624"><a href="#Spline.dot-624"><span class="linenos">624</span></a><span class="sd">        See Also</span>
</span><span id="Spline.dot-625"><a href="#Spline.dot-625"><span class="linenos">625</span></a><span class="sd">        --------</span>
</span><span id="Spline.dot-626"><a href="#Spline.dot-626"><span class="linenos">626</span></a><span class="sd">        `multiply` : Multiply two splines (cross, dot, or scalar product).</span>
</span><span id="Spline.dot-627"><a href="#Spline.dot-627"><span class="linenos">627</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.dot-628"><a href="#Spline.dot-628"><span class="linenos">628</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vector</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Dot product a spline by the given vector.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>vector</strong> (array-like or <code><a href="#Spline">Spline</a></code>):
An array of length <code><a href="#Spline.nDep">nDep</a></code> or spline with matching <code><a href="#Spline.nDep">nDep</a></code> that specifies the vector.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
The dotted spline.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.multiply">multiply</a></code>:  Multiply two splines (cross, dot, or scalar product).  </p>
</div>


                            </div>
                            <div id="Spline.elevate" class="classattr">
                                        <input id="Spline.elevate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">elevate</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">m</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.elevate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.elevate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.elevate-630"><a href="#Spline.elevate-630"><span class="linenos">630</span></a>    <span class="k">def</span> <span class="nf">elevate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">m</span><span class="p">):</span>
</span><span id="Spline.elevate-631"><a href="#Spline.elevate-631"><span class="linenos">631</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.elevate-632"><a href="#Spline.elevate-632"><span class="linenos">632</span></a><span class="sd">        Elevate a spline, increasing its order by `m`.</span>
</span><span id="Spline.elevate-633"><a href="#Spline.elevate-633"><span class="linenos">633</span></a>
</span><span id="Spline.elevate-634"><a href="#Spline.elevate-634"><span class="linenos">634</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.elevate-635"><a href="#Spline.elevate-635"><span class="linenos">635</span></a><span class="sd">        ----------</span>
</span><span id="Spline.elevate-636"><a href="#Spline.elevate-636"><span class="linenos">636</span></a><span class="sd">        m : `iterable` of length `nInd`</span>
</span><span id="Spline.elevate-637"><a href="#Spline.elevate-637"><span class="linenos">637</span></a><span class="sd">            An iterable that specifies the non-negative integer amount to increase the order </span>
</span><span id="Spline.elevate-638"><a href="#Spline.elevate-638"><span class="linenos">638</span></a><span class="sd">            for each independent variable of the spline.</span>
</span><span id="Spline.elevate-639"><a href="#Spline.elevate-639"><span class="linenos">639</span></a>
</span><span id="Spline.elevate-640"><a href="#Spline.elevate-640"><span class="linenos">640</span></a><span class="sd">        Returns</span>
</span><span id="Spline.elevate-641"><a href="#Spline.elevate-641"><span class="linenos">641</span></a><span class="sd">        -------</span>
</span><span id="Spline.elevate-642"><a href="#Spline.elevate-642"><span class="linenos">642</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.elevate-643"><a href="#Spline.elevate-643"><span class="linenos">643</span></a><span class="sd">            A spline with the order of the current spline plus `m`.</span>
</span><span id="Spline.elevate-644"><a href="#Spline.elevate-644"><span class="linenos">644</span></a>
</span><span id="Spline.elevate-645"><a href="#Spline.elevate-645"><span class="linenos">645</span></a><span class="sd">        See Also</span>
</span><span id="Spline.elevate-646"><a href="#Spline.elevate-646"><span class="linenos">646</span></a><span class="sd">        --------</span>
</span><span id="Spline.elevate-647"><a href="#Spline.elevate-647"><span class="linenos">647</span></a><span class="sd">        `insert_knots` : Insert new knots into a spline.</span>
</span><span id="Spline.elevate-648"><a href="#Spline.elevate-648"><span class="linenos">648</span></a><span class="sd">        `elevate_and_insert_knots` : Elevate a spline and insert new knots.</span>
</span><span id="Spline.elevate-649"><a href="#Spline.elevate-649"><span class="linenos">649</span></a>
</span><span id="Spline.elevate-650"><a href="#Spline.elevate-650"><span class="linenos">650</span></a><span class="sd">        Notes</span>
</span><span id="Spline.elevate-651"><a href="#Spline.elevate-651"><span class="linenos">651</span></a><span class="sd">        -----</span>
</span><span id="Spline.elevate-652"><a href="#Spline.elevate-652"><span class="linenos">652</span></a><span class="sd">        Implements the algorithm from Huang, Qi-Xing, Shi-Min Hu, and Ralph R. Martin. </span>
</span><span id="Spline.elevate-653"><a href="#Spline.elevate-653"><span class="linenos">653</span></a><span class="sd">        &quot;Fast degree elevation and knot insertion for B-spline curves.&quot; Computer Aided Geometric Design 22, no. 2 (2005): 183-197.</span>
</span><span id="Spline.elevate-654"><a href="#Spline.elevate-654"><span class="linenos">654</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.elevate-655"><a href="#Spline.elevate-655"><span class="linenos">655</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">elevate_and_insert_knots</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nInd</span> <span class="o">*</span> <span class="p">[[]])</span>
</span></pre></div>


            <div class="docstring"><p>Elevate a spline, increasing its order by <code>m</code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>m</strong> (<code>iterable</code> of length <code><a href="#Spline.nInd">nInd</a></code>):
An iterable that specifies the non-negative integer amount to increase the order 
for each independent variable of the spline.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
A spline with the order of the current spline plus <code>m</code>.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.insert_knots">insert_knots</a></code>:  Insert new knots into a spline. <br />
<code><a href="#Spline.elevate_and_insert_knots">elevate_and_insert_knots</a></code>:  Elevate a spline and insert new knots.  </p>

<h6 id="notes">Notes</h6>

<p>Implements the algorithm from Huang, Qi-Xing, Shi-Min Hu, and Ralph R. Martin. 
"Fast degree elevation and knot insertion for B-spline curves." Computer Aided Geometric Design 22, no. 2 (2005): 183-197.</p>
</div>


                            </div>
                            <div id="Spline.elevate_and_insert_knots" class="classattr">
                                        <input id="Spline.elevate_and_insert_knots-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">elevate_and_insert_knots</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">m</span>, </span><span class="param"><span class="n">newKnots</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.elevate_and_insert_knots-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.elevate_and_insert_knots"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.elevate_and_insert_knots-657"><a href="#Spline.elevate_and_insert_knots-657"><span class="linenos">657</span></a>    <span class="k">def</span> <span class="nf">elevate_and_insert_knots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">newKnots</span><span class="p">):</span>
</span><span id="Spline.elevate_and_insert_knots-658"><a href="#Spline.elevate_and_insert_knots-658"><span class="linenos">658</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.elevate_and_insert_knots-659"><a href="#Spline.elevate_and_insert_knots-659"><span class="linenos">659</span></a><span class="sd">        Elevate a spline and insert new knots.</span>
</span><span id="Spline.elevate_and_insert_knots-660"><a href="#Spline.elevate_and_insert_knots-660"><span class="linenos">660</span></a>
</span><span id="Spline.elevate_and_insert_knots-661"><a href="#Spline.elevate_and_insert_knots-661"><span class="linenos">661</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.elevate_and_insert_knots-662"><a href="#Spline.elevate_and_insert_knots-662"><span class="linenos">662</span></a><span class="sd">        ----------</span>
</span><span id="Spline.elevate_and_insert_knots-663"><a href="#Spline.elevate_and_insert_knots-663"><span class="linenos">663</span></a><span class="sd">        m : `iterable` of length `nInd`</span>
</span><span id="Spline.elevate_and_insert_knots-664"><a href="#Spline.elevate_and_insert_knots-664"><span class="linenos">664</span></a><span class="sd">            An iterable that specifies the non-negative integer amount to increase the order </span>
</span><span id="Spline.elevate_and_insert_knots-665"><a href="#Spline.elevate_and_insert_knots-665"><span class="linenos">665</span></a><span class="sd">            for each independent variable of the spline.</span>
</span><span id="Spline.elevate_and_insert_knots-666"><a href="#Spline.elevate_and_insert_knots-666"><span class="linenos">666</span></a>
</span><span id="Spline.elevate_and_insert_knots-667"><a href="#Spline.elevate_and_insert_knots-667"><span class="linenos">667</span></a><span class="sd">        newKnots : `iterable` of length `nInd`</span>
</span><span id="Spline.elevate_and_insert_knots-668"><a href="#Spline.elevate_and_insert_knots-668"><span class="linenos">668</span></a><span class="sd">            An iterable that specifies the knots to be added to each independent variable&#39;s knots. </span>
</span><span id="Spline.elevate_and_insert_knots-669"><a href="#Spline.elevate_and_insert_knots-669"><span class="linenos">669</span></a><span class="sd">            len(newKnots[ind]) == 0 if no knots are to be added for the `ind` independent variable.</span>
</span><span id="Spline.elevate_and_insert_knots-670"><a href="#Spline.elevate_and_insert_knots-670"><span class="linenos">670</span></a>
</span><span id="Spline.elevate_and_insert_knots-671"><a href="#Spline.elevate_and_insert_knots-671"><span class="linenos">671</span></a><span class="sd">        Returns</span>
</span><span id="Spline.elevate_and_insert_knots-672"><a href="#Spline.elevate_and_insert_knots-672"><span class="linenos">672</span></a><span class="sd">        -------</span>
</span><span id="Spline.elevate_and_insert_knots-673"><a href="#Spline.elevate_and_insert_knots-673"><span class="linenos">673</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.elevate_and_insert_knots-674"><a href="#Spline.elevate_and_insert_knots-674"><span class="linenos">674</span></a><span class="sd">            A spline with the order of the current spline plus `m` that includes the new knots.</span>
</span><span id="Spline.elevate_and_insert_knots-675"><a href="#Spline.elevate_and_insert_knots-675"><span class="linenos">675</span></a>
</span><span id="Spline.elevate_and_insert_knots-676"><a href="#Spline.elevate_and_insert_knots-676"><span class="linenos">676</span></a><span class="sd">        See Also</span>
</span><span id="Spline.elevate_and_insert_knots-677"><a href="#Spline.elevate_and_insert_knots-677"><span class="linenos">677</span></a><span class="sd">        --------</span>
</span><span id="Spline.elevate_and_insert_knots-678"><a href="#Spline.elevate_and_insert_knots-678"><span class="linenos">678</span></a><span class="sd">        `insert_knots` : Insert new knots into a spline.</span>
</span><span id="Spline.elevate_and_insert_knots-679"><a href="#Spline.elevate_and_insert_knots-679"><span class="linenos">679</span></a><span class="sd">        `clamp` : Clamp the left and/or right side of a spline.</span>
</span><span id="Spline.elevate_and_insert_knots-680"><a href="#Spline.elevate_and_insert_knots-680"><span class="linenos">680</span></a><span class="sd">        `elevate` : Elevate a spline, increasing its order by `m`.</span>
</span><span id="Spline.elevate_and_insert_knots-681"><a href="#Spline.elevate_and_insert_knots-681"><span class="linenos">681</span></a>
</span><span id="Spline.elevate_and_insert_knots-682"><a href="#Spline.elevate_and_insert_knots-682"><span class="linenos">682</span></a><span class="sd">        Notes</span>
</span><span id="Spline.elevate_and_insert_knots-683"><a href="#Spline.elevate_and_insert_knots-683"><span class="linenos">683</span></a><span class="sd">        -----</span>
</span><span id="Spline.elevate_and_insert_knots-684"><a href="#Spline.elevate_and_insert_knots-684"><span class="linenos">684</span></a><span class="sd">        Implements the algorithm from Huang, Qi-Xing, Shi-Min Hu, and Ralph R. Martin. </span>
</span><span id="Spline.elevate_and_insert_knots-685"><a href="#Spline.elevate_and_insert_knots-685"><span class="linenos">685</span></a><span class="sd">        &quot;Fast degree elevation and knot insertion for B-spline curves.&quot; Computer Aided Geometric Design 22, no. 2 (2005): 183-197.</span>
</span><span id="Spline.elevate_and_insert_knots-686"><a href="#Spline.elevate_and_insert_knots-686"><span class="linenos">686</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.elevate_and_insert_knots-687"><a href="#Spline.elevate_and_insert_knots-687"><span class="linenos">687</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">elevate_and_insert_knots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">newKnots</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Elevate a spline and insert new knots.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>m</strong> (<code>iterable</code> of length <code><a href="#Spline.nInd">nInd</a></code>):
An iterable that specifies the non-negative integer amount to increase the order 
for each independent variable of the spline.</li>
<li><strong>newKnots</strong> (<code>iterable</code> of length <code><a href="#Spline.nInd">nInd</a></code>):
An iterable that specifies the knots to be added to each independent variable's knots. 
len(newKnots[ind]) == 0 if no knots are to be added for the <code>ind</code> independent variable.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
A spline with the order of the current spline plus <code>m</code> that includes the new knots.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.insert_knots">insert_knots</a></code>:  Insert new knots into a spline. <br />
<code><a href="#Spline.clamp">clamp</a></code>:  Clamp the left and/or right side of a spline. <br />
<code><a href="#Spline.elevate">elevate</a></code>:  Elevate a spline, increasing its order by <code>m</code>.  </p>

<h6 id="notes">Notes</h6>

<p>Implements the algorithm from Huang, Qi-Xing, Shi-Min Hu, and Ralph R. Martin. 
"Fast degree elevation and knot insertion for B-spline curves." Computer Aided Geometric Design 22, no. 2 (2005): 183-197.</p>
</div>


                            </div>
                            <div id="Spline.evaluate" class="classattr">
                                        <input id="Spline.evaluate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">evaluate</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">uvw</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.evaluate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.evaluate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.evaluate-689"><a href="#Spline.evaluate-689"><span class="linenos">689</span></a>    <span class="k">def</span> <span class="nf">evaluate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">):</span>
</span><span id="Spline.evaluate-690"><a href="#Spline.evaluate-690"><span class="linenos">690</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.evaluate-691"><a href="#Spline.evaluate-691"><span class="linenos">691</span></a><span class="sd">        Compute the value of the spline at given parameter values.</span>
</span><span id="Spline.evaluate-692"><a href="#Spline.evaluate-692"><span class="linenos">692</span></a>
</span><span id="Spline.evaluate-693"><a href="#Spline.evaluate-693"><span class="linenos">693</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.evaluate-694"><a href="#Spline.evaluate-694"><span class="linenos">694</span></a><span class="sd">        ----------</span>
</span><span id="Spline.evaluate-695"><a href="#Spline.evaluate-695"><span class="linenos">695</span></a><span class="sd">        uvw : `iterable`</span>
</span><span id="Spline.evaluate-696"><a href="#Spline.evaluate-696"><span class="linenos">696</span></a><span class="sd">            An iterable of length `nInd` that specifies the values of each independent variable (the parameter values).</span>
</span><span id="Spline.evaluate-697"><a href="#Spline.evaluate-697"><span class="linenos">697</span></a>
</span><span id="Spline.evaluate-698"><a href="#Spline.evaluate-698"><span class="linenos">698</span></a><span class="sd">        Returns</span>
</span><span id="Spline.evaluate-699"><a href="#Spline.evaluate-699"><span class="linenos">699</span></a><span class="sd">        -------</span>
</span><span id="Spline.evaluate-700"><a href="#Spline.evaluate-700"><span class="linenos">700</span></a><span class="sd">        value : `numpy.array`</span>
</span><span id="Spline.evaluate-701"><a href="#Spline.evaluate-701"><span class="linenos">701</span></a><span class="sd">            The value of the spline at the given parameter values.</span>
</span><span id="Spline.evaluate-702"><a href="#Spline.evaluate-702"><span class="linenos">702</span></a>
</span><span id="Spline.evaluate-703"><a href="#Spline.evaluate-703"><span class="linenos">703</span></a><span class="sd">        See Also</span>
</span><span id="Spline.evaluate-704"><a href="#Spline.evaluate-704"><span class="linenos">704</span></a><span class="sd">        --------</span>
</span><span id="Spline.evaluate-705"><a href="#Spline.evaluate-705"><span class="linenos">705</span></a><span class="sd">        `derivative` : Compute the derivative of the spline at given parameter values.</span>
</span><span id="Spline.evaluate-706"><a href="#Spline.evaluate-706"><span class="linenos">706</span></a>
</span><span id="Spline.evaluate-707"><a href="#Spline.evaluate-707"><span class="linenos">707</span></a><span class="sd">        Notes</span>
</span><span id="Spline.evaluate-708"><a href="#Spline.evaluate-708"><span class="linenos">708</span></a><span class="sd">        -----</span>
</span><span id="Spline.evaluate-709"><a href="#Spline.evaluate-709"><span class="linenos">709</span></a><span class="sd">        The evaluate method uses the de Boor recurrence relations for a B-spline</span>
</span><span id="Spline.evaluate-710"><a href="#Spline.evaluate-710"><span class="linenos">710</span></a><span class="sd">        series to evaluate a spline.  The non-zero B-splines are</span>
</span><span id="Spline.evaluate-711"><a href="#Spline.evaluate-711"><span class="linenos">711</span></a><span class="sd">        evaluated, then the dot product of those B-splines with the vector of</span>
</span><span id="Spline.evaluate-712"><a href="#Spline.evaluate-712"><span class="linenos">712</span></a><span class="sd">        B-spline coefficients is computed.</span>
</span><span id="Spline.evaluate-713"><a href="#Spline.evaluate-713"><span class="linenos">713</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.evaluate-714"><a href="#Spline.evaluate-714"><span class="linenos">714</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Compute the value of the spline at given parameter values.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>uvw</strong> (<code>iterable</code>):
An iterable of length <code><a href="#Spline.nInd">nInd</a></code> that specifies the values of each independent variable (the parameter values).</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>value</strong> (<code>numpy.array</code>):
The value of the spline at the given parameter values.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.derivative">derivative</a></code>:  Compute the derivative of the spline at given parameter values.  </p>

<h6 id="notes">Notes</h6>

<p>The evaluate method uses the de Boor recurrence relations for a B-spline
series to evaluate a spline.  The non-zero B-splines are
evaluated, then the dot product of those B-splines with the vector of
B-spline coefficients is computed.</p>
</div>


                            </div>
                            <div id="Spline.extrapolate" class="classattr">
                                        <input id="Spline.extrapolate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">extrapolate</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">newDomain</span>, </span><span class="param"><span class="n">continuityOrder</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.extrapolate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.extrapolate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.extrapolate-716"><a href="#Spline.extrapolate-716"><span class="linenos">716</span></a>    <span class="k">def</span> <span class="nf">extrapolate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newDomain</span><span class="p">,</span> <span class="n">continuityOrder</span><span class="p">):</span>
</span><span id="Spline.extrapolate-717"><a href="#Spline.extrapolate-717"><span class="linenos">717</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.extrapolate-718"><a href="#Spline.extrapolate-718"><span class="linenos">718</span></a><span class="sd">        Extrapolate a spline out to an extended domain maintaining a given order of continuity.</span>
</span><span id="Spline.extrapolate-719"><a href="#Spline.extrapolate-719"><span class="linenos">719</span></a>
</span><span id="Spline.extrapolate-720"><a href="#Spline.extrapolate-720"><span class="linenos">720</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.extrapolate-721"><a href="#Spline.extrapolate-721"><span class="linenos">721</span></a><span class="sd">        ----------</span>
</span><span id="Spline.extrapolate-722"><a href="#Spline.extrapolate-722"><span class="linenos">722</span></a><span class="sd">        newDomain : array-like</span>
</span><span id="Spline.extrapolate-723"><a href="#Spline.extrapolate-723"><span class="linenos">723</span></a><span class="sd">            nInd x 2 array of the new upper and lower bounds on each of the independent variables (same form as </span>
</span><span id="Spline.extrapolate-724"><a href="#Spline.extrapolate-724"><span class="linenos">724</span></a><span class="sd">            returned from `domain`). If a bound is None or nan then the original bound (and knots) are left unchanged.</span>
</span><span id="Spline.extrapolate-725"><a href="#Spline.extrapolate-725"><span class="linenos">725</span></a>
</span><span id="Spline.extrapolate-726"><a href="#Spline.extrapolate-726"><span class="linenos">726</span></a><span class="sd">        continuityOrder : `int`</span>
</span><span id="Spline.extrapolate-727"><a href="#Spline.extrapolate-727"><span class="linenos">727</span></a><span class="sd">            The order of continuity of the extrapolation (the number of derivatives that match at the endpoints). </span>
</span><span id="Spline.extrapolate-728"><a href="#Spline.extrapolate-728"><span class="linenos">728</span></a><span class="sd">            A continuity order of zero means the extrapolation just matches the spline value at the endpoints. </span>
</span><span id="Spline.extrapolate-729"><a href="#Spline.extrapolate-729"><span class="linenos">729</span></a><span class="sd">            The continuity order is automatically limited to one less than the degree of the spline.</span>
</span><span id="Spline.extrapolate-730"><a href="#Spline.extrapolate-730"><span class="linenos">730</span></a>
</span><span id="Spline.extrapolate-731"><a href="#Spline.extrapolate-731"><span class="linenos">731</span></a><span class="sd">        Returns</span>
</span><span id="Spline.extrapolate-732"><a href="#Spline.extrapolate-732"><span class="linenos">732</span></a><span class="sd">        -------</span>
</span><span id="Spline.extrapolate-733"><a href="#Spline.extrapolate-733"><span class="linenos">733</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.extrapolate-734"><a href="#Spline.extrapolate-734"><span class="linenos">734</span></a><span class="sd">            Extrapolated spline. If all the knots are unchanged, the original spline is returned.</span>
</span><span id="Spline.extrapolate-735"><a href="#Spline.extrapolate-735"><span class="linenos">735</span></a>
</span><span id="Spline.extrapolate-736"><a href="#Spline.extrapolate-736"><span class="linenos">736</span></a><span class="sd">        See Also</span>
</span><span id="Spline.extrapolate-737"><a href="#Spline.extrapolate-737"><span class="linenos">737</span></a><span class="sd">        --------</span>
</span><span id="Spline.extrapolate-738"><a href="#Spline.extrapolate-738"><span class="linenos">738</span></a><span class="sd">        `domain` : Return the domain of a spline.</span>
</span><span id="Spline.extrapolate-739"><a href="#Spline.extrapolate-739"><span class="linenos">739</span></a><span class="sd">        `trim` : Trim the domain of a spline.</span>
</span><span id="Spline.extrapolate-740"><a href="#Spline.extrapolate-740"><span class="linenos">740</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.extrapolate-741"><a href="#Spline.extrapolate-741"><span class="linenos">741</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">extrapolate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newDomain</span><span class="p">,</span> <span class="n">continuityOrder</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Extrapolate a spline out to an extended domain maintaining a given order of continuity.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>newDomain</strong> (array-like):
nInd x 2 array of the new upper and lower bounds on each of the independent variables (same form as 
returned from <code><a href="#Spline.domain">domain</a></code>). If a bound is None or nan then the original bound (and knots) are left unchanged.</li>
<li><strong>continuityOrder</strong> (<code>int</code>):
The order of continuity of the extrapolation (the number of derivatives that match at the endpoints). 
A continuity order of zero means the extrapolation just matches the spline value at the endpoints. 
The continuity order is automatically limited to one less than the degree of the spline.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
Extrapolated spline. If all the knots are unchanged, the original spline is returned.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.domain">domain</a></code>:  Return the domain of a spline. <br />
<code><a href="#Spline.trim">trim</a></code>:  Trim the domain of a spline.  </p>
</div>


                            </div>
                            <div id="Spline.fold" class="classattr">
                                        <input id="Spline.fold-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">fold</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">foldedInd</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.fold-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.fold"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.fold-743"><a href="#Spline.fold-743"><span class="linenos">743</span></a>    <span class="k">def</span> <span class="nf">fold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">foldedInd</span><span class="p">):</span>
</span><span id="Spline.fold-744"><a href="#Spline.fold-744"><span class="linenos">744</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.fold-745"><a href="#Spline.fold-745"><span class="linenos">745</span></a><span class="sd">        Fold the coefficients of a spline&#39;s indicated independent variables into the coefficients of the remaining independent variables, retaining the </span>
</span><span id="Spline.fold-746"><a href="#Spline.fold-746"><span class="linenos">746</span></a><span class="sd">        indicated independent variables&#39; knots and orders in a second spline with no coefficients.</span>
</span><span id="Spline.fold-747"><a href="#Spline.fold-747"><span class="linenos">747</span></a>
</span><span id="Spline.fold-748"><a href="#Spline.fold-748"><span class="linenos">748</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.fold-749"><a href="#Spline.fold-749"><span class="linenos">749</span></a><span class="sd">        ----------</span>
</span><span id="Spline.fold-750"><a href="#Spline.fold-750"><span class="linenos">750</span></a><span class="sd">        foldedInd : `iterable`</span>
</span><span id="Spline.fold-751"><a href="#Spline.fold-751"><span class="linenos">751</span></a><span class="sd">            An iterable that specifies the independent variables whose coefficients should be folded.</span>
</span><span id="Spline.fold-752"><a href="#Spline.fold-752"><span class="linenos">752</span></a>
</span><span id="Spline.fold-753"><a href="#Spline.fold-753"><span class="linenos">753</span></a><span class="sd">        Returns</span>
</span><span id="Spline.fold-754"><a href="#Spline.fold-754"><span class="linenos">754</span></a><span class="sd">        -------</span>
</span><span id="Spline.fold-755"><a href="#Spline.fold-755"><span class="linenos">755</span></a><span class="sd">        foldedSpline, coefficientlessSpline : `Spline`, `Spline`</span>
</span><span id="Spline.fold-756"><a href="#Spline.fold-756"><span class="linenos">756</span></a><span class="sd">            The folded spline and the coefficientless spline that retains the indicated independent variables&#39; knots and orders.</span>
</span><span id="Spline.fold-757"><a href="#Spline.fold-757"><span class="linenos">757</span></a>
</span><span id="Spline.fold-758"><a href="#Spline.fold-758"><span class="linenos">758</span></a><span class="sd">        See Also</span>
</span><span id="Spline.fold-759"><a href="#Spline.fold-759"><span class="linenos">759</span></a><span class="sd">        --------</span>
</span><span id="Spline.fold-760"><a href="#Spline.fold-760"><span class="linenos">760</span></a><span class="sd">        `unfold` : Unfold the coefficients of an original spline&#39;s indicated independent variables back into the spline.</span>
</span><span id="Spline.fold-761"><a href="#Spline.fold-761"><span class="linenos">761</span></a>
</span><span id="Spline.fold-762"><a href="#Spline.fold-762"><span class="linenos">762</span></a><span class="sd">        Notes</span>
</span><span id="Spline.fold-763"><a href="#Spline.fold-763"><span class="linenos">763</span></a><span class="sd">        -----</span>
</span><span id="Spline.fold-764"><a href="#Spline.fold-764"><span class="linenos">764</span></a><span class="sd">        Given a spline whose coefficients are an nDep x n0 x ... x nk array and a list of (ordered) indices which form a proper subset of {n0, ... , nk}, it should return 2 splines.</span>
</span><span id="Spline.fold-765"><a href="#Spline.fold-765"><span class="linenos">765</span></a><span class="sd">        The first one is a spline with k + 1 - length(index subset) independent variables where the knot sets of all the dimensions which have been removed have been removed.  However, </span>
</span><span id="Spline.fold-766"><a href="#Spline.fold-766"><span class="linenos">766</span></a><span class="sd">        all of the coefficient data is still intact, so that the resulting coefficient array has shape (nDep nj0 nj1 ... njj) x nk0 x ... x nkk.  The second spline should be a spline </span>
</span><span id="Spline.fold-767"><a href="#Spline.fold-767"><span class="linenos">767</span></a><span class="sd">        with 0 dependent variables which contains all the knot sequences that were removed from the spline.  The unfold method takes the two splines as input and reverses the process, </span>
</span><span id="Spline.fold-768"><a href="#Spline.fold-768"><span class="linenos">768</span></a><span class="sd">        returning the original spline.</span>
</span><span id="Spline.fold-769"><a href="#Spline.fold-769"><span class="linenos">769</span></a>
</span><span id="Spline.fold-770"><a href="#Spline.fold-770"><span class="linenos">770</span></a><span class="sd">        Here&#39;s an example. Suppose spl is a spline with 3 independent variables and 3 dependent variables which has nCoef = [4, 5, 6] and knots = [knots0, knots1, knots2]. </span>
</span><span id="Spline.fold-771"><a href="#Spline.fold-771"><span class="linenos">771</span></a><span class="sd">        Then spl.fold([0, 2]) should return a spline with 1 independent variable and 72 dependent variables.  It should have nCoef = [5], knots = [knots1], and its coefs array should have </span>
</span><span id="Spline.fold-772"><a href="#Spline.fold-772"><span class="linenos">772</span></a><span class="sd">        shape (72, 5).  The other spline should have 0 dependent variables, 2 independent variables, and knots = [knots0, knots2].  How things get ordered in coefs probably doesn&#39;t matter </span>
</span><span id="Spline.fold-773"><a href="#Spline.fold-773"><span class="linenos">773</span></a><span class="sd">        so long as unfold unscrambles things in the corresponding way.  The second spline is needed to hold the basis information that was dropped so that it can be undone.</span>
</span><span id="Spline.fold-774"><a href="#Spline.fold-774"><span class="linenos">774</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.fold-775"><a href="#Spline.fold-775"><span class="linenos">775</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">fold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">foldedInd</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Fold the coefficients of a spline's indicated independent variables into the coefficients of the remaining independent variables, retaining the 
indicated independent variables' knots and orders in a second spline with no coefficients.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>foldedInd</strong> (<code>iterable</code>):
An iterable that specifies the independent variables whose coefficients should be folded.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>foldedSpline, coefficientlessSpline</strong> (<code><a href="#Spline">Spline</a></code>, <code><a href="#Spline">Spline</a></code>):
The folded spline and the coefficientless spline that retains the indicated independent variables' knots and orders.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.unfold">unfold</a></code>:  Unfold the coefficients of an original spline's indicated independent variables back into the spline.  </p>

<h6 id="notes">Notes</h6>

<p>Given a spline whose coefficients are an nDep x n0 x ... x nk array and a list of (ordered) indices which form a proper subset of {n0, ... , nk}, it should return 2 splines.
The first one is a spline with k + 1 - length(index subset) independent variables where the knot sets of all the dimensions which have been removed have been removed.  However, 
all of the coefficient data is still intact, so that the resulting coefficient array has shape (nDep nj0 nj1 ... njj) x nk0 x ... x nkk.  The second spline should be a spline 
with 0 dependent variables which contains all the knot sequences that were removed from the spline.  The unfold method takes the two splines as input and reverses the process, 
returning the original spline.</p>

<p>Here's an example. Suppose spl is a spline with 3 independent variables and 3 dependent variables which has nCoef = [4, 5, 6] and knots = [knots0, knots1, knots2]. 
Then spl.fold([0, 2]) should return a spline with 1 independent variable and 72 dependent variables.  It should have nCoef = [5], knots = [knots1], and its coefs array should have 
shape (72, 5).  The other spline should have 0 dependent variables, 2 independent variables, and knots = [knots0, knots2].  How things get ordered in coefs probably doesn't matter 
so long as unfold unscrambles things in the corresponding way.  The second spline is needed to hold the basis information that was dropped so that it can be undone.</p>
</div>


                            </div>
                            <div id="Spline.insert_knots" class="classattr">
                                        <input id="Spline.insert_knots-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">insert_knots</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">newKnots</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.insert_knots-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.insert_knots"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.insert_knots-777"><a href="#Spline.insert_knots-777"><span class="linenos">777</span></a>    <span class="k">def</span> <span class="nf">insert_knots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newKnots</span><span class="p">):</span>
</span><span id="Spline.insert_knots-778"><a href="#Spline.insert_knots-778"><span class="linenos">778</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.insert_knots-779"><a href="#Spline.insert_knots-779"><span class="linenos">779</span></a><span class="sd">        Insert new knots into a spline.</span>
</span><span id="Spline.insert_knots-780"><a href="#Spline.insert_knots-780"><span class="linenos">780</span></a>
</span><span id="Spline.insert_knots-781"><a href="#Spline.insert_knots-781"><span class="linenos">781</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.insert_knots-782"><a href="#Spline.insert_knots-782"><span class="linenos">782</span></a><span class="sd">        ----------</span>
</span><span id="Spline.insert_knots-783"><a href="#Spline.insert_knots-783"><span class="linenos">783</span></a><span class="sd">        newKnots : `iterable` of length `nInd`</span>
</span><span id="Spline.insert_knots-784"><a href="#Spline.insert_knots-784"><span class="linenos">784</span></a><span class="sd">            An iterable that specifies the knots to be added to each independent variable&#39;s knots. </span>
</span><span id="Spline.insert_knots-785"><a href="#Spline.insert_knots-785"><span class="linenos">785</span></a><span class="sd">            len(newKnots[ind]) == 0 if no knots are to be added for the `ind` independent variable.</span>
</span><span id="Spline.insert_knots-786"><a href="#Spline.insert_knots-786"><span class="linenos">786</span></a>
</span><span id="Spline.insert_knots-787"><a href="#Spline.insert_knots-787"><span class="linenos">787</span></a><span class="sd">        Returns</span>
</span><span id="Spline.insert_knots-788"><a href="#Spline.insert_knots-788"><span class="linenos">788</span></a><span class="sd">        -------</span>
</span><span id="Spline.insert_knots-789"><a href="#Spline.insert_knots-789"><span class="linenos">789</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.insert_knots-790"><a href="#Spline.insert_knots-790"><span class="linenos">790</span></a><span class="sd">            A spline with the new knots inserted. If no knots were inserted, the original spline is returned.</span>
</span><span id="Spline.insert_knots-791"><a href="#Spline.insert_knots-791"><span class="linenos">791</span></a>
</span><span id="Spline.insert_knots-792"><a href="#Spline.insert_knots-792"><span class="linenos">792</span></a><span class="sd">        See Also</span>
</span><span id="Spline.insert_knots-793"><a href="#Spline.insert_knots-793"><span class="linenos">793</span></a><span class="sd">        --------</span>
</span><span id="Spline.insert_knots-794"><a href="#Spline.insert_knots-794"><span class="linenos">794</span></a><span class="sd">        `clamp` : Clamp the left and/or right side of a spline.</span>
</span><span id="Spline.insert_knots-795"><a href="#Spline.insert_knots-795"><span class="linenos">795</span></a>
</span><span id="Spline.insert_knots-796"><a href="#Spline.insert_knots-796"><span class="linenos">796</span></a><span class="sd">        Notes</span>
</span><span id="Spline.insert_knots-797"><a href="#Spline.insert_knots-797"><span class="linenos">797</span></a><span class="sd">        -----</span>
</span><span id="Spline.insert_knots-798"><a href="#Spline.insert_knots-798"><span class="linenos">798</span></a><span class="sd">        Implements Boehm&#39;s standard knot insertion algorithm.</span>
</span><span id="Spline.insert_knots-799"><a href="#Spline.insert_knots-799"><span class="linenos">799</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.insert_knots-800"><a href="#Spline.insert_knots-800"><span class="linenos">800</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">insert_knots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newKnots</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Insert new knots into a spline.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>newKnots</strong> (<code>iterable</code> of length <code><a href="#Spline.nInd">nInd</a></code>):
An iterable that specifies the knots to be added to each independent variable's knots. 
len(newKnots[ind]) == 0 if no knots are to be added for the <code>ind</code> independent variable.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
A spline with the new knots inserted. If no knots were inserted, the original spline is returned.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.clamp">clamp</a></code>:  Clamp the left and/or right side of a spline.  </p>

<h6 id="notes">Notes</h6>

<p>Implements Boehm's standard knot insertion algorithm.</p>
</div>


                            </div>
                            <div id="Spline.integral" class="classattr">
                                        <input id="Spline.integral-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">integral</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">with_respect_to</span>, </span><span class="param"><span class="n">uvw1</span>, </span><span class="param"><span class="n">uvw2</span>, </span><span class="param"><span class="n">returnSpline</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.integral-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.integral"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.integral-802"><a href="#Spline.integral-802"><span class="linenos">802</span></a>    <span class="k">def</span> <span class="nf">integral</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span><span class="p">,</span> <span class="n">uvw1</span><span class="p">,</span> <span class="n">uvw2</span><span class="p">,</span> <span class="n">returnSpline</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="Spline.integral-803"><a href="#Spline.integral-803"><span class="linenos">803</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.integral-804"><a href="#Spline.integral-804"><span class="linenos">804</span></a><span class="sd">        Compute the derivative of the spline at given parameter values.</span>
</span><span id="Spline.integral-805"><a href="#Spline.integral-805"><span class="linenos">805</span></a>
</span><span id="Spline.integral-806"><a href="#Spline.integral-806"><span class="linenos">806</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.integral-807"><a href="#Spline.integral-807"><span class="linenos">807</span></a><span class="sd">        ----------</span>
</span><span id="Spline.integral-808"><a href="#Spline.integral-808"><span class="linenos">808</span></a><span class="sd">        with_respect_to : `iterable`</span>
</span><span id="Spline.integral-809"><a href="#Spline.integral-809"><span class="linenos">809</span></a><span class="sd">            An iterable of length `nInd` that specifies the integer order of integral for each independent variable.</span>
</span><span id="Spline.integral-810"><a href="#Spline.integral-810"><span class="linenos">810</span></a><span class="sd">            A zero-order integral just evaluates the spline normally.</span>
</span><span id="Spline.integral-811"><a href="#Spline.integral-811"><span class="linenos">811</span></a><span class="sd">        </span>
</span><span id="Spline.integral-812"><a href="#Spline.integral-812"><span class="linenos">812</span></a><span class="sd">        uvw1 : `iterable`</span>
</span><span id="Spline.integral-813"><a href="#Spline.integral-813"><span class="linenos">813</span></a><span class="sd">            An iterable of length `nInd` that specifies the lower limit of each independent variable (the parameter values).</span>
</span><span id="Spline.integral-814"><a href="#Spline.integral-814"><span class="linenos">814</span></a><span class="sd">        </span>
</span><span id="Spline.integral-815"><a href="#Spline.integral-815"><span class="linenos">815</span></a><span class="sd">        uvw2 : `iterable`</span>
</span><span id="Spline.integral-816"><a href="#Spline.integral-816"><span class="linenos">816</span></a><span class="sd">            An iterable of length `nInd` that specifies the upper limit of each independent variable (the parameter values).</span>
</span><span id="Spline.integral-817"><a href="#Spline.integral-817"><span class="linenos">817</span></a>
</span><span id="Spline.integral-818"><a href="#Spline.integral-818"><span class="linenos">818</span></a><span class="sd">        returnSpline : `boolean`, optional</span>
</span><span id="Spline.integral-819"><a href="#Spline.integral-819"><span class="linenos">819</span></a><span class="sd">            A boolean flag that if true returns the integrated spline along with the value of its integral. Default is false.</span>
</span><span id="Spline.integral-820"><a href="#Spline.integral-820"><span class="linenos">820</span></a><span class="sd"> </span>
</span><span id="Spline.integral-821"><a href="#Spline.integral-821"><span class="linenos">821</span></a><span class="sd">        Returns</span>
</span><span id="Spline.integral-822"><a href="#Spline.integral-822"><span class="linenos">822</span></a><span class="sd">        -------</span>
</span><span id="Spline.integral-823"><a href="#Spline.integral-823"><span class="linenos">823</span></a><span class="sd">        value : `numpy.array`</span>
</span><span id="Spline.integral-824"><a href="#Spline.integral-824"><span class="linenos">824</span></a><span class="sd">            The value of the integral of the spline at the given parameter limits.</span>
</span><span id="Spline.integral-825"><a href="#Spline.integral-825"><span class="linenos">825</span></a>
</span><span id="Spline.integral-826"><a href="#Spline.integral-826"><span class="linenos">826</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.integral-827"><a href="#Spline.integral-827"><span class="linenos">827</span></a><span class="sd">            The integrated spline, which is only returned if `returnSpline` is `True`.</span>
</span><span id="Spline.integral-828"><a href="#Spline.integral-828"><span class="linenos">828</span></a>
</span><span id="Spline.integral-829"><a href="#Spline.integral-829"><span class="linenos">829</span></a><span class="sd">        See Also</span>
</span><span id="Spline.integral-830"><a href="#Spline.integral-830"><span class="linenos">830</span></a><span class="sd">        --------</span>
</span><span id="Spline.integral-831"><a href="#Spline.integral-831"><span class="linenos">831</span></a><span class="sd">        `integrate` : Integrate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="Spline.integral-832"><a href="#Spline.integral-832"><span class="linenos">832</span></a><span class="sd">        `evaluate` : Compute the value of the spline at a given parameter value.</span>
</span><span id="Spline.integral-833"><a href="#Spline.integral-833"><span class="linenos">833</span></a><span class="sd">        `differentiate` : Differentiate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="Spline.integral-834"><a href="#Spline.integral-834"><span class="linenos">834</span></a><span class="sd">        `derivative` : Compute the derivative of the spline at a given parameter value.</span>
</span><span id="Spline.integral-835"><a href="#Spline.integral-835"><span class="linenos">835</span></a>
</span><span id="Spline.integral-836"><a href="#Spline.integral-836"><span class="linenos">836</span></a><span class="sd">        Notes</span>
</span><span id="Spline.integral-837"><a href="#Spline.integral-837"><span class="linenos">837</span></a><span class="sd">        -----</span>
</span><span id="Spline.integral-838"><a href="#Spline.integral-838"><span class="linenos">838</span></a><span class="sd">        The integral method uses the integrate method to integrate the spline `with_respect_to` times for each independent variable.</span>
</span><span id="Spline.integral-839"><a href="#Spline.integral-839"><span class="linenos">839</span></a><span class="sd">        Then the method returns that integrated spline&#39;s value at `uw2` minus its value at `uw1` (optionally along with the spline).</span>
</span><span id="Spline.integral-840"><a href="#Spline.integral-840"><span class="linenos">840</span></a><span class="sd">        The method doesn&#39;t calculate the integral directly because the number of operations required is nearly the same as constructing</span>
</span><span id="Spline.integral-841"><a href="#Spline.integral-841"><span class="linenos">841</span></a><span class="sd">        the integrated spline.</span>
</span><span id="Spline.integral-842"><a href="#Spline.integral-842"><span class="linenos">842</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.integral-843"><a href="#Spline.integral-843"><span class="linenos">843</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span><span class="p">,</span> <span class="n">uvw1</span><span class="p">,</span> <span class="n">uvw2</span><span class="p">,</span> <span class="n">returnSpline</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Compute the derivative of the spline at given parameter values.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>with_respect_to</strong> (<code>iterable</code>):
An iterable of length <code><a href="#Spline.nInd">nInd</a></code> that specifies the integer order of integral for each independent variable.
A zero-order integral just evaluates the spline normally.</li>
<li><strong>uvw1</strong> (<code>iterable</code>):
An iterable of length <code><a href="#Spline.nInd">nInd</a></code> that specifies the lower limit of each independent variable (the parameter values).</li>
<li><strong>uvw2</strong> (<code>iterable</code>):
An iterable of length <code><a href="#Spline.nInd">nInd</a></code> that specifies the upper limit of each independent variable (the parameter values).</li>
<li><strong>returnSpline</strong> (<code>boolean</code>, optional):
A boolean flag that if true returns the integrated spline along with the value of its integral. Default is false.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>value</strong> (<code>numpy.array</code>):
The value of the integral of the spline at the given parameter limits.</li>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
The integrated spline, which is only returned if <code>returnSpline</code> is <code>True</code>.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.integrate">integrate</a></code>:  Integrate a spline with respect to one of its independent variables, returning the resulting spline. <br />
<code><a href="#Spline.evaluate">evaluate</a></code>:  Compute the value of the spline at a given parameter value. <br />
<code><a href="#Spline.differentiate">differentiate</a></code>:  Differentiate a spline with respect to one of its independent variables, returning the resulting spline. <br />
<code><a href="#Spline.derivative">derivative</a></code>:  Compute the derivative of the spline at a given parameter value.  </p>

<h6 id="notes">Notes</h6>

<p>The integral method uses the integrate method to integrate the spline <code>with_respect_to</code> times for each independent variable.
Then the method returns that integrated spline's value at <code>uw2</code> minus its value at <code>uw1</code> (optionally along with the spline).
The method doesn't calculate the integral directly because the number of operations required is nearly the same as constructing
the integrated spline.</p>
</div>


                            </div>
                            <div id="Spline.integrate" class="classattr">
                                        <input id="Spline.integrate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">integrate</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">with_respect_to</span><span class="o">=</span><span class="mi">0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.integrate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.integrate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.integrate-845"><a href="#Spline.integrate-845"><span class="linenos">845</span></a>    <span class="k">def</span> <span class="nf">integrate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="Spline.integrate-846"><a href="#Spline.integrate-846"><span class="linenos">846</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.integrate-847"><a href="#Spline.integrate-847"><span class="linenos">847</span></a><span class="sd">        Integrate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="Spline.integrate-848"><a href="#Spline.integrate-848"><span class="linenos">848</span></a>
</span><span id="Spline.integrate-849"><a href="#Spline.integrate-849"><span class="linenos">849</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.integrate-850"><a href="#Spline.integrate-850"><span class="linenos">850</span></a><span class="sd">        ----------</span>
</span><span id="Spline.integrate-851"><a href="#Spline.integrate-851"><span class="linenos">851</span></a><span class="sd">        with_respect_to : integer, optional</span>
</span><span id="Spline.integrate-852"><a href="#Spline.integrate-852"><span class="linenos">852</span></a><span class="sd">            The number of the independent variable to integrate. Default is zero.</span>
</span><span id="Spline.integrate-853"><a href="#Spline.integrate-853"><span class="linenos">853</span></a>
</span><span id="Spline.integrate-854"><a href="#Spline.integrate-854"><span class="linenos">854</span></a><span class="sd">        Returns</span>
</span><span id="Spline.integrate-855"><a href="#Spline.integrate-855"><span class="linenos">855</span></a><span class="sd">        -------</span>
</span><span id="Spline.integrate-856"><a href="#Spline.integrate-856"><span class="linenos">856</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.integrate-857"><a href="#Spline.integrate-857"><span class="linenos">857</span></a><span class="sd">            The spline that results from integrating the original spline with respect to the given independent variable.</span>
</span><span id="Spline.integrate-858"><a href="#Spline.integrate-858"><span class="linenos">858</span></a>
</span><span id="Spline.integrate-859"><a href="#Spline.integrate-859"><span class="linenos">859</span></a><span class="sd">        See Also</span>
</span><span id="Spline.integrate-860"><a href="#Spline.integrate-860"><span class="linenos">860</span></a><span class="sd">        --------</span>
</span><span id="Spline.integrate-861"><a href="#Spline.integrate-861"><span class="linenos">861</span></a><span class="sd">        `differentiate` : Differentiate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="Spline.integrate-862"><a href="#Spline.integrate-862"><span class="linenos">862</span></a><span class="sd">        `derivative` : Compute the derivative of the spline at a given parameter value.</span>
</span><span id="Spline.integrate-863"><a href="#Spline.integrate-863"><span class="linenos">863</span></a><span class="sd">        `integral` : Compute the integral of the spline at a given parameter value.</span>
</span><span id="Spline.integrate-864"><a href="#Spline.integrate-864"><span class="linenos">864</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.integrate-865"><a href="#Spline.integrate-865"><span class="linenos">865</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_respect_to</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Integrate a spline with respect to one of its independent variables, returning the resulting spline.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>with_respect_to</strong> (integer, optional):
The number of the independent variable to integrate. Default is zero.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
The spline that results from integrating the original spline with respect to the given independent variable.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.differentiate">differentiate</a></code>:  Differentiate a spline with respect to one of its independent variables, returning the resulting spline. <br />
<code><a href="#Spline.derivative">derivative</a></code>:  Compute the derivative of the spline at a given parameter value. <br />
<code><a href="#Spline.integral">integral</a></code>:  Compute the integral of the spline at a given parameter value.  </p>
</div>


                            </div>
                            <div id="Spline.intersect" class="classattr">
                                        <input id="Spline.intersect-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">intersect</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">other</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.intersect-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.intersect"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.intersect-867"><a href="#Spline.intersect-867"><span class="linenos">867</span></a>    <span class="k">def</span> <span class="nf">intersect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Spline.intersect-868"><a href="#Spline.intersect-868"><span class="linenos">868</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.intersect-869"><a href="#Spline.intersect-869"><span class="linenos">869</span></a><span class="sd">        Intersect two splines.</span>
</span><span id="Spline.intersect-870"><a href="#Spline.intersect-870"><span class="linenos">870</span></a>
</span><span id="Spline.intersect-871"><a href="#Spline.intersect-871"><span class="linenos">871</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.intersect-872"><a href="#Spline.intersect-872"><span class="linenos">872</span></a><span class="sd">        ----------</span>
</span><span id="Spline.intersect-873"><a href="#Spline.intersect-873"><span class="linenos">873</span></a><span class="sd">        other : `Spline`</span>
</span><span id="Spline.intersect-874"><a href="#Spline.intersect-874"><span class="linenos">874</span></a><span class="sd">            The spline to intersect with self (`other.nDep` match match `self.nDep`).</span>
</span><span id="Spline.intersect-875"><a href="#Spline.intersect-875"><span class="linenos">875</span></a>
</span><span id="Spline.intersect-876"><a href="#Spline.intersect-876"><span class="linenos">876</span></a><span class="sd">        Returns</span>
</span><span id="Spline.intersect-877"><a href="#Spline.intersect-877"><span class="linenos">877</span></a><span class="sd">        -------</span>
</span><span id="Spline.intersect-878"><a href="#Spline.intersect-878"><span class="linenos">878</span></a><span class="sd">        intersection : `iterable` or `NotImplemented`</span>
</span><span id="Spline.intersect-879"><a href="#Spline.intersect-879"><span class="linenos">879</span></a><span class="sd">            If `self.nInd + other.nInd - self.nDep` is 0, returns an iterable of intersection points in the </span>
</span><span id="Spline.intersect-880"><a href="#Spline.intersect-880"><span class="linenos">880</span></a><span class="sd">            parameter space of the two splines (a vector of size `self.nInd + other.nInd`).</span>
</span><span id="Spline.intersect-881"><a href="#Spline.intersect-881"><span class="linenos">881</span></a><span class="sd">            If `self.nInd + other.nInd - self.nDep` is 1, returns an iterable of `Spline` curves, each of whose domain is [0, 1] </span>
</span><span id="Spline.intersect-882"><a href="#Spline.intersect-882"><span class="linenos">882</span></a><span class="sd">            and each of whose range is in the parameter space of the two splines (a vector of size `self.nInd + other.nInd`).</span>
</span><span id="Spline.intersect-883"><a href="#Spline.intersect-883"><span class="linenos">883</span></a><span class="sd">            If `self.nInd + other.nInd - self.nDep` is &lt; 0 or &gt; 1, `NotImplemented` is returned.</span>
</span><span id="Spline.intersect-884"><a href="#Spline.intersect-884"><span class="linenos">884</span></a><span class="sd">        </span>
</span><span id="Spline.intersect-885"><a href="#Spline.intersect-885"><span class="linenos">885</span></a><span class="sd">        See Also</span>
</span><span id="Spline.intersect-886"><a href="#Spline.intersect-886"><span class="linenos">886</span></a><span class="sd">        --------</span>
</span><span id="Spline.intersect-887"><a href="#Spline.intersect-887"><span class="linenos">887</span></a><span class="sd">        `zeros` : Find the roots of a spline (nInd must match nDep).</span>
</span><span id="Spline.intersect-888"><a href="#Spline.intersect-888"><span class="linenos">888</span></a><span class="sd">        `contours` : Find all the contour curves of a spline.</span>
</span><span id="Spline.intersect-889"><a href="#Spline.intersect-889"><span class="linenos">889</span></a>
</span><span id="Spline.intersect-890"><a href="#Spline.intersect-890"><span class="linenos">890</span></a><span class="sd">        Notes</span>
</span><span id="Spline.intersect-891"><a href="#Spline.intersect-891"><span class="linenos">891</span></a><span class="sd">        -----</span>
</span><span id="Spline.intersect-892"><a href="#Spline.intersect-892"><span class="linenos">892</span></a><span class="sd">        Uses `zeros` to find all intersection points and `contours` to find all the intersection curves.</span>
</span><span id="Spline.intersect-893"><a href="#Spline.intersect-893"><span class="linenos">893</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.intersect-894"><a href="#Spline.intersect-894"><span class="linenos">894</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nDep</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">nDep</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The number of dependent variables for both splines much match.&quot;</span><span class="p">)</span>
</span><span id="Spline.intersect-895"><a href="#Spline.intersect-895"><span class="linenos">895</span></a>        <span class="n">freeParameters</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nInd</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">nInd</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span>
</span><span id="Spline.intersect-896"><a href="#Spline.intersect-896"><span class="linenos">896</span></a>        <span class="k">if</span> <span class="n">freeParameters</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Spline.intersect-897"><a href="#Spline.intersect-897"><span class="linenos">897</span></a>            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span> <span class="o">-</span> <span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">zeros</span><span class="p">()</span>
</span><span id="Spline.intersect-898"><a href="#Spline.intersect-898"><span class="linenos">898</span></a>        <span class="k">elif</span> <span class="n">freeParameters</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Spline.intersect-899"><a href="#Spline.intersect-899"><span class="linenos">899</span></a>            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span> <span class="o">-</span> <span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">contours</span><span class="p">()</span>
</span><span id="Spline.intersect-900"><a href="#Spline.intersect-900"><span class="linenos">900</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Spline.intersect-901"><a href="#Spline.intersect-901"><span class="linenos">901</span></a>            <span class="k">return</span> <span class="bp">NotImplemented</span>
</span></pre></div>


            <div class="docstring"><p>Intersect two splines.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>other</strong> (<code><a href="#Spline">Spline</a></code>):
The spline to intersect with self (<code>other.nDep</code> match match <code>self.nDep</code>).</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>intersection</strong> (<code>iterable</code> or <code>NotImplemented</code>):
If <code>self.nInd + other.nInd - self.nDep</code> is 0, returns an iterable of intersection points in the 
parameter space of the two splines (a vector of size <code>self.nInd + other.nInd</code>).
If <code>self.nInd + other.nInd - self.nDep</code> is 1, returns an iterable of <code><a href="#Spline">Spline</a></code> curves, each of whose domain is [0, 1] 
and each of whose range is in the parameter space of the two splines (a vector of size <code>self.nInd + other.nInd</code>).
If <code>self.nInd + other.nInd - self.nDep</code> is &lt; 0 or &gt; 1, <code>NotImplemented</code> is returned.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.zeros">zeros</a></code>:  Find the roots of a spline (nInd must match nDep). <br />
<code><a href="#Spline.contours">contours</a></code>:  Find all the contour curves of a spline.  </p>

<h6 id="notes">Notes</h6>

<p>Uses <code><a href="#Spline.zeros">zeros</a></code> to find all intersection points and <code><a href="#Spline.contours">contours</a></code> to find all the intersection curves.</p>
</div>


                            </div>
                            <div id="Spline.join" class="classattr">
                                        <input id="Spline.join-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">join</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">splineList</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.join-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.join"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.join-903"><a href="#Spline.join-903"><span class="linenos">903</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Spline.join-904"><a href="#Spline.join-904"><span class="linenos">904</span></a>    <span class="k">def</span> <span class="nf">join</span><span class="p">(</span><span class="n">splineList</span><span class="p">):</span>
</span><span id="Spline.join-905"><a href="#Spline.join-905"><span class="linenos">905</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.join-906"><a href="#Spline.join-906"><span class="linenos">906</span></a><span class="sd">        Join a list of splines together into a single spline.</span>
</span><span id="Spline.join-907"><a href="#Spline.join-907"><span class="linenos">907</span></a>
</span><span id="Spline.join-908"><a href="#Spline.join-908"><span class="linenos">908</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.join-909"><a href="#Spline.join-909"><span class="linenos">909</span></a><span class="sd">        ----------</span>
</span><span id="Spline.join-910"><a href="#Spline.join-910"><span class="linenos">910</span></a><span class="sd">        splineList : `iterable`</span>
</span><span id="Spline.join-911"><a href="#Spline.join-911"><span class="linenos">911</span></a><span class="sd">            The list of splines to join together.  All must have the same number of dependent variables.</span>
</span><span id="Spline.join-912"><a href="#Spline.join-912"><span class="linenos">912</span></a>
</span><span id="Spline.join-913"><a href="#Spline.join-913"><span class="linenos">913</span></a><span class="sd">        Returns</span>
</span><span id="Spline.join-914"><a href="#Spline.join-914"><span class="linenos">914</span></a><span class="sd">        -------</span>
</span><span id="Spline.join-915"><a href="#Spline.join-915"><span class="linenos">915</span></a><span class="sd">        joinedSpline : `Spline`</span>
</span><span id="Spline.join-916"><a href="#Spline.join-916"><span class="linenos">916</span></a><span class="sd">            A single spline whose image is the union of all the images of the input splines.  The resulting spline</span>
</span><span id="Spline.join-917"><a href="#Spline.join-917"><span class="linenos">917</span></a><span class="sd">            is parametrized over the unit cube.</span>
</span><span id="Spline.join-918"><a href="#Spline.join-918"><span class="linenos">918</span></a><span class="sd">                </span>
</span><span id="Spline.join-919"><a href="#Spline.join-919"><span class="linenos">919</span></a><span class="sd">        Notes</span>
</span><span id="Spline.join-920"><a href="#Spline.join-920"><span class="linenos">920</span></a><span class="sd">        -----</span>
</span><span id="Spline.join-921"><a href="#Spline.join-921"><span class="linenos">921</span></a><span class="sd">        Currently only works for univariate splines.</span>
</span><span id="Spline.join-922"><a href="#Spline.join-922"><span class="linenos">922</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.join-923"><a href="#Spline.join-923"><span class="linenos">923</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">splineList</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Join a list of splines together into a single spline.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>splineList</strong> (<code>iterable</code>):
The list of splines to join together.  All must have the same number of dependent variables.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>joinedSpline</strong> (<code><a href="#Spline">Spline</a></code>):
A single spline whose image is the union of all the images of the input splines.  The resulting spline
is parametrized over the unit cube.</li>
</ul>

<h6 id="notes">Notes</h6>

<p>Currently only works for univariate splines.</p>
</div>


                            </div>
                            <div id="Spline.least_squares" class="classattr">
                                        <input id="Spline.least_squares-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">least_squares</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">nInd</span>,</span><span class="param">	<span class="n">nDep</span>,</span><span class="param">	<span class="n">order</span>,</span><span class="param">	<span class="n">dataPoints</span>,</span><span class="param">	<span class="n">knots</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">compression</span><span class="o">=</span><span class="mi">0</span>,</span><span class="param">	<span class="n">metadata</span><span class="o">=</span><span class="p">{}</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.least_squares-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.least_squares"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.least_squares-925"><a href="#Spline.least_squares-925"><span class="linenos">925</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Spline.least_squares-926"><a href="#Spline.least_squares-926"><span class="linenos">926</span></a>    <span class="k">def</span> <span class="nf">least_squares</span><span class="p">(</span><span class="n">nInd</span><span class="p">,</span> <span class="n">nDep</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">dataPoints</span><span class="p">,</span> <span class="n">knots</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">compression</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="p">{}):</span>
</span><span id="Spline.least_squares-927"><a href="#Spline.least_squares-927"><span class="linenos">927</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.least_squares-928"><a href="#Spline.least_squares-928"><span class="linenos">928</span></a><span class="sd">        Fit a spline to an array of data points using the method of least squares.</span>
</span><span id="Spline.least_squares-929"><a href="#Spline.least_squares-929"><span class="linenos">929</span></a>
</span><span id="Spline.least_squares-930"><a href="#Spline.least_squares-930"><span class="linenos">930</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.least_squares-931"><a href="#Spline.least_squares-931"><span class="linenos">931</span></a><span class="sd">        ----------</span>
</span><span id="Spline.least_squares-932"><a href="#Spline.least_squares-932"><span class="linenos">932</span></a><span class="sd">        nInd : `int`</span>
</span><span id="Spline.least_squares-933"><a href="#Spline.least_squares-933"><span class="linenos">933</span></a><span class="sd">            The number of independent variables of the spline.</span>
</span><span id="Spline.least_squares-934"><a href="#Spline.least_squares-934"><span class="linenos">934</span></a>
</span><span id="Spline.least_squares-935"><a href="#Spline.least_squares-935"><span class="linenos">935</span></a><span class="sd">        nDep : `int`</span>
</span><span id="Spline.least_squares-936"><a href="#Spline.least_squares-936"><span class="linenos">936</span></a><span class="sd">            The number of dependent variables of the spline.</span>
</span><span id="Spline.least_squares-937"><a href="#Spline.least_squares-937"><span class="linenos">937</span></a><span class="sd">        </span>
</span><span id="Spline.least_squares-938"><a href="#Spline.least_squares-938"><span class="linenos">938</span></a><span class="sd">        order : `tuple`</span>
</span><span id="Spline.least_squares-939"><a href="#Spline.least_squares-939"><span class="linenos">939</span></a><span class="sd">            A tuple of length nInd where each integer entry represents the</span>
</span><span id="Spline.least_squares-940"><a href="#Spline.least_squares-940"><span class="linenos">940</span></a><span class="sd">            polynomial order of the spline in that variable. When in doubt,</span>
</span><span id="Spline.least_squares-941"><a href="#Spline.least_squares-941"><span class="linenos">941</span></a><span class="sd">            use `[4] * nInd` (a cubic spline).</span>
</span><span id="Spline.least_squares-942"><a href="#Spline.least_squares-942"><span class="linenos">942</span></a>
</span><span id="Spline.least_squares-943"><a href="#Spline.least_squares-943"><span class="linenos">943</span></a><span class="sd">        dataPoints : `iterable` of array-like values</span>
</span><span id="Spline.least_squares-944"><a href="#Spline.least_squares-944"><span class="linenos">944</span></a><span class="sd">            A collection of data points. Each data point is an array of length `nInd + nDep`. </span>
</span><span id="Spline.least_squares-945"><a href="#Spline.least_squares-945"><span class="linenos">945</span></a><span class="sd">            The first `nInd` values designate the independent values for the point.</span>
</span><span id="Spline.least_squares-946"><a href="#Spline.least_squares-946"><span class="linenos">946</span></a><span class="sd">            The next `nDep` values designate the dependent values for the point. </span>
</span><span id="Spline.least_squares-947"><a href="#Spline.least_squares-947"><span class="linenos">947</span></a><span class="sd">            The data points need not form a regular mesh nor be in any particular order.</span>
</span><span id="Spline.least_squares-948"><a href="#Spline.least_squares-948"><span class="linenos">948</span></a><span class="sd">            In addition, each data point may instead have `nInd + nDep * (nInd + 1)` values, </span>
</span><span id="Spline.least_squares-949"><a href="#Spline.least_squares-949"><span class="linenos">949</span></a><span class="sd">            the first `nInd` being independent and the next `nInd + 1` sets of `nDep` values designating </span>
</span><span id="Spline.least_squares-950"><a href="#Spline.least_squares-950"><span class="linenos">950</span></a><span class="sd">            the dependent point and its first derivatives with respect to each independent variable.</span>
</span><span id="Spline.least_squares-951"><a href="#Spline.least_squares-951"><span class="linenos">951</span></a>
</span><span id="Spline.least_squares-952"><a href="#Spline.least_squares-952"><span class="linenos">952</span></a><span class="sd">        knots : `list`, optional</span>
</span><span id="Spline.least_squares-953"><a href="#Spline.least_squares-953"><span class="linenos">953</span></a><span class="sd">            A list of the lists of the knots of the spline in each independent variable.</span>
</span><span id="Spline.least_squares-954"><a href="#Spline.least_squares-954"><span class="linenos">954</span></a><span class="sd">            Default is `None`, in which case knots are chosen automatically.</span>
</span><span id="Spline.least_squares-955"><a href="#Spline.least_squares-955"><span class="linenos">955</span></a><span class="sd">        </span>
</span><span id="Spline.least_squares-956"><a href="#Spline.least_squares-956"><span class="linenos">956</span></a><span class="sd">        compression : `int`, optional</span>
</span><span id="Spline.least_squares-957"><a href="#Spline.least_squares-957"><span class="linenos">957</span></a><span class="sd">            The desired compression of data used as a percentage of the number of data points (0 - 99). </span>
</span><span id="Spline.least_squares-958"><a href="#Spline.least_squares-958"><span class="linenos">958</span></a><span class="sd">            This percentage is used to determine the total number of spline coefficients when </span>
</span><span id="Spline.least_squares-959"><a href="#Spline.least_squares-959"><span class="linenos">959</span></a><span class="sd">            knots are chosen automatically (it&#39;s ignored otherwise). The actual compression will be slightly less </span>
</span><span id="Spline.least_squares-960"><a href="#Spline.least_squares-960"><span class="linenos">960</span></a><span class="sd">            because the number of coefficients is rounded up. The default value is zero (interpolation, no compression).</span>
</span><span id="Spline.least_squares-961"><a href="#Spline.least_squares-961"><span class="linenos">961</span></a>
</span><span id="Spline.least_squares-962"><a href="#Spline.least_squares-962"><span class="linenos">962</span></a><span class="sd">        metadata : `dict`, optional</span>
</span><span id="Spline.least_squares-963"><a href="#Spline.least_squares-963"><span class="linenos">963</span></a><span class="sd">            A dictionary of ancillary data to store with the spline. Default is {}.</span>
</span><span id="Spline.least_squares-964"><a href="#Spline.least_squares-964"><span class="linenos">964</span></a>
</span><span id="Spline.least_squares-965"><a href="#Spline.least_squares-965"><span class="linenos">965</span></a><span class="sd">        Returns</span>
</span><span id="Spline.least_squares-966"><a href="#Spline.least_squares-966"><span class="linenos">966</span></a><span class="sd">        -------</span>
</span><span id="Spline.least_squares-967"><a href="#Spline.least_squares-967"><span class="linenos">967</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.least_squares-968"><a href="#Spline.least_squares-968"><span class="linenos">968</span></a><span class="sd">            A spline curve which approximates the data points.</span>
</span><span id="Spline.least_squares-969"><a href="#Spline.least_squares-969"><span class="linenos">969</span></a>
</span><span id="Spline.least_squares-970"><a href="#Spline.least_squares-970"><span class="linenos">970</span></a><span class="sd">        Notes</span>
</span><span id="Spline.least_squares-971"><a href="#Spline.least_squares-971"><span class="linenos">971</span></a><span class="sd">        -----</span>
</span><span id="Spline.least_squares-972"><a href="#Spline.least_squares-972"><span class="linenos">972</span></a><span class="sd">        Uses `numpy.linalg.lstsq` to compute the least squares solution. The returned spline.accuracy is computed </span>
</span><span id="Spline.least_squares-973"><a href="#Spline.least_squares-973"><span class="linenos">973</span></a><span class="sd">        from the sum of the residual across dependent variables and the system epsilon. </span>
</span><span id="Spline.least_squares-974"><a href="#Spline.least_squares-974"><span class="linenos">974</span></a><span class="sd">        The algorithm to choose knots automatically is from Piegl, Les A., and Wayne Tiller. </span>
</span><span id="Spline.least_squares-975"><a href="#Spline.least_squares-975"><span class="linenos">975</span></a><span class="sd">        &quot;Surface approximation to scanned data.&quot; The visual computer 16 (2000): 386-395.</span>
</span><span id="Spline.least_squares-976"><a href="#Spline.least_squares-976"><span class="linenos">976</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.least_squares-977"><a href="#Spline.least_squares-977"><span class="linenos">977</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_fitting</span><span class="o">.</span><span class="n">least_squares</span><span class="p">(</span><span class="n">nInd</span><span class="p">,</span> <span class="n">nDep</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">dataPoints</span><span class="p">,</span> <span class="n">knots</span><span class="p">,</span> <span class="n">compression</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Fit a spline to an array of data points using the method of least squares.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>nInd</strong> (<code>int</code>):
The number of independent variables of the spline.</li>
<li><strong>nDep</strong> (<code>int</code>):
The number of dependent variables of the spline.</li>
<li><strong>order</strong> (<code>tuple</code>):
A tuple of length nInd where each integer entry represents the
polynomial order of the spline in that variable. When in doubt,
use <code>[4] * nInd</code> (a cubic spline).</li>
<li><strong>dataPoints</strong> (<code>iterable</code> of array-like values):
A collection of data points. Each data point is an array of length <code>nInd + nDep</code>. 
The first <code><a href="#Spline.nInd">nInd</a></code> values designate the independent values for the point.
The next <code><a href="#Spline.nDep">nDep</a></code> values designate the dependent values for the point. 
The data points need not form a regular mesh nor be in any particular order.
In addition, each data point may instead have <code>nInd + nDep * (nInd + 1)</code> values, 
the first <code><a href="#Spline.nInd">nInd</a></code> being independent and the next <code>nInd + 1</code> sets of <code><a href="#Spline.nDep">nDep</a></code> values designating 
the dependent point and its first derivatives with respect to each independent variable.</li>
<li><strong>knots</strong> (<code>list</code>, optional):
A list of the lists of the knots of the spline in each independent variable.
Default is <code>None</code>, in which case knots are chosen automatically.</li>
<li><strong>compression</strong> (<code>int</code>, optional):
The desired compression of data used as a percentage of the number of data points (0 - 99). 
This percentage is used to determine the total number of spline coefficients when 
knots are chosen automatically (it's ignored otherwise). The actual compression will be slightly less 
because the number of coefficients is rounded up. The default value is zero (interpolation, no compression).</li>
<li><strong>metadata</strong> (<code>dict</code>, optional):
A dictionary of ancillary data to store with the spline. Default is {}.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
A spline curve which approximates the data points.</li>
</ul>

<h6 id="notes">Notes</h6>

<p>Uses <code>numpy.linalg.lstsq</code> to compute the least squares solution. The returned spline.accuracy is computed 
from the sum of the residual across dependent variables and the system epsilon. 
The algorithm to choose knots automatically is from Piegl, Les A., and Wayne Tiller. 
"Surface approximation to scanned data." The visual computer 16 (2000): 386-395.</p>
</div>


                            </div>
                            <div id="Spline.load" class="classattr">
                                        <input id="Spline.load-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">load</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">fileName</span>, </span><span class="param"><span class="n">splineType</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.load-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.load"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.load-979"><a href="#Spline.load-979"><span class="linenos"> 979</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Spline.load-980"><a href="#Spline.load-980"><span class="linenos"> 980</span></a>    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="n">fileName</span><span class="p">,</span> <span class="n">splineType</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Spline.load-981"><a href="#Spline.load-981"><span class="linenos"> 981</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.load-982"><a href="#Spline.load-982"><span class="linenos"> 982</span></a><span class="sd">        Load a spline from the specified filename (full path).</span>
</span><span id="Spline.load-983"><a href="#Spline.load-983"><span class="linenos"> 983</span></a>
</span><span id="Spline.load-984"><a href="#Spline.load-984"><span class="linenos"> 984</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.load-985"><a href="#Spline.load-985"><span class="linenos"> 985</span></a><span class="sd">        ----------</span>
</span><span id="Spline.load-986"><a href="#Spline.load-986"><span class="linenos"> 986</span></a><span class="sd">        fileName : `string`</span>
</span><span id="Spline.load-987"><a href="#Spline.load-987"><span class="linenos"> 987</span></a><span class="sd">            The full path to the file containing the spline. Can be a relative path.</span>
</span><span id="Spline.load-988"><a href="#Spline.load-988"><span class="linenos"> 988</span></a><span class="sd">        </span>
</span><span id="Spline.load-989"><a href="#Spline.load-989"><span class="linenos"> 989</span></a><span class="sd">        splineType : `type`, optional</span>
</span><span id="Spline.load-990"><a href="#Spline.load-990"><span class="linenos"> 990</span></a><span class="sd">            The class type that should be created. It must be an instance of Spline (the default).</span>
</span><span id="Spline.load-991"><a href="#Spline.load-991"><span class="linenos"> 991</span></a><span class="sd">        </span>
</span><span id="Spline.load-992"><a href="#Spline.load-992"><span class="linenos"> 992</span></a><span class="sd">        Returns</span>
</span><span id="Spline.load-993"><a href="#Spline.load-993"><span class="linenos"> 993</span></a><span class="sd">        -------</span>
</span><span id="Spline.load-994"><a href="#Spline.load-994"><span class="linenos"> 994</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.load-995"><a href="#Spline.load-995"><span class="linenos"> 995</span></a><span class="sd">            The loaded spline.</span>
</span><span id="Spline.load-996"><a href="#Spline.load-996"><span class="linenos"> 996</span></a>
</span><span id="Spline.load-997"><a href="#Spline.load-997"><span class="linenos"> 997</span></a><span class="sd">        See Also</span>
</span><span id="Spline.load-998"><a href="#Spline.load-998"><span class="linenos"> 998</span></a><span class="sd">        --------</span>
</span><span id="Spline.load-999"><a href="#Spline.load-999"><span class="linenos"> 999</span></a><span class="sd">        `save` : Save a spline to the specified filename (full path).</span>
</span><span id="Spline.load-1000"><a href="#Spline.load-1000"><span class="linenos">1000</span></a>
</span><span id="Spline.load-1001"><a href="#Spline.load-1001"><span class="linenos">1001</span></a><span class="sd">        Notes</span>
</span><span id="Spline.load-1002"><a href="#Spline.load-1002"><span class="linenos">1002</span></a><span class="sd">        -----</span>
</span><span id="Spline.load-1003"><a href="#Spline.load-1003"><span class="linenos">1003</span></a><span class="sd">        Uses numpy&#39;s load function.</span>
</span><span id="Spline.load-1004"><a href="#Spline.load-1004"><span class="linenos">1004</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.load-1005"><a href="#Spline.load-1005"><span class="linenos">1005</span></a>        <span class="n">kw</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>
</span><span id="Spline.load-1006"><a href="#Spline.load-1006"><span class="linenos">1006</span></a>        <span class="n">order</span> <span class="o">=</span> <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;order&quot;</span><span class="p">]</span>
</span><span id="Spline.load-1007"><a href="#Spline.load-1007"><span class="linenos">1007</span></a>        <span class="n">nInd</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
</span><span id="Spline.load-1008"><a href="#Spline.load-1008"><span class="linenos">1008</span></a>        <span class="n">knots</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Spline.load-1009"><a href="#Spline.load-1009"><span class="linenos">1009</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nInd</span><span class="p">):</span>
</span><span id="Spline.load-1010"><a href="#Spline.load-1010"><span class="linenos">1010</span></a>            <span class="n">knots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">kw</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;knots</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">])</span>
</span><span id="Spline.load-1011"><a href="#Spline.load-1011"><span class="linenos">1011</span></a>        <span class="n">coefficients</span> <span class="o">=</span> <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;coefficients&quot;</span><span class="p">]</span>
</span><span id="Spline.load-1012"><a href="#Spline.load-1012"><span class="linenos">1012</span></a>
</span><span id="Spline.load-1013"><a href="#Spline.load-1013"><span class="linenos">1013</span></a>        <span class="k">if</span> <span class="n">splineType</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Spline.load-1014"><a href="#Spline.load-1014"><span class="linenos">1014</span></a>            <span class="n">splineType</span> <span class="o">=</span> <span class="n">Spline</span>
</span><span id="Spline.load-1015"><a href="#Spline.load-1015"><span class="linenos">1015</span></a>        <span class="n">spline</span> <span class="o">=</span> <span class="n">splineType</span><span class="p">(</span><span class="n">nInd</span><span class="p">,</span> <span class="n">coefficients</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">order</span><span class="p">,</span> <span class="n">coefficients</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">knots</span><span class="p">,</span> <span class="n">coefficients</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">Path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">Name</span><span class="o">=</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">fileName</span><span class="p">)[</span><span class="mi">1</span><span class="p">])[</span><span class="mi">0</span><span class="p">]))</span>
</span><span id="Spline.load-1016"><a href="#Spline.load-1016"><span class="linenos">1016</span></a>        <span class="k">return</span> <span class="n">spline</span>
</span></pre></div>


            <div class="docstring"><p>Load a spline from the specified filename (full path).</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>fileName</strong> (<code>string</code>):
The full path to the file containing the spline. Can be a relative path.</li>
<li><strong>splineType</strong> (<code>type</code>, optional):
The class type that should be created. It must be an instance of Spline (the default).</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
The loaded spline.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.save">save</a></code>:  Save a spline to the specified filename (full path).  </p>

<h6 id="notes">Notes</h6>

<p>Uses numpy's load function.</p>
</div>


                            </div>
                            <div id="Spline.multiply" class="classattr">
                                        <input id="Spline.multiply-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">multiply</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">other</span>, </span><span class="param"><span class="n">indMap</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">productType</span><span class="o">=</span><span class="s1">&#39;S&#39;</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.multiply-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.multiply"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.multiply-1018"><a href="#Spline.multiply-1018"><span class="linenos">1018</span></a>    <span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">productType</span> <span class="o">=</span> <span class="s1">&#39;S&#39;</span><span class="p">):</span>
</span><span id="Spline.multiply-1019"><a href="#Spline.multiply-1019"><span class="linenos">1019</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.multiply-1020"><a href="#Spline.multiply-1020"><span class="linenos">1020</span></a><span class="sd">        Multiply two splines (cross, dot, or scalar product).</span>
</span><span id="Spline.multiply-1021"><a href="#Spline.multiply-1021"><span class="linenos">1021</span></a>
</span><span id="Spline.multiply-1022"><a href="#Spline.multiply-1022"><span class="linenos">1022</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.multiply-1023"><a href="#Spline.multiply-1023"><span class="linenos">1023</span></a><span class="sd">        ----------</span>
</span><span id="Spline.multiply-1024"><a href="#Spline.multiply-1024"><span class="linenos">1024</span></a><span class="sd">        other : `Spline`</span>
</span><span id="Spline.multiply-1025"><a href="#Spline.multiply-1025"><span class="linenos">1025</span></a><span class="sd">            The spline to multiply by self.</span>
</span><span id="Spline.multiply-1026"><a href="#Spline.multiply-1026"><span class="linenos">1026</span></a>
</span><span id="Spline.multiply-1027"><a href="#Spline.multiply-1027"><span class="linenos">1027</span></a><span class="sd">        indMap : `iterable` or `None`, optional</span>
</span><span id="Spline.multiply-1028"><a href="#Spline.multiply-1028"><span class="linenos">1028</span></a><span class="sd">            An iterable of indices or pairs of indices. Each index refers to an independent variable.</span>
</span><span id="Spline.multiply-1029"><a href="#Spline.multiply-1029"><span class="linenos">1029</span></a><span class="sd">            Within the iterable, a single index, `n`, maps the nth independent variable of self to the same independent variable of other.</span>
</span><span id="Spline.multiply-1030"><a href="#Spline.multiply-1030"><span class="linenos">1030</span></a><span class="sd">            A pair `(n, m)` maps the nth independent variable of self to the mth independent variable of other. </span>
</span><span id="Spline.multiply-1031"><a href="#Spline.multiply-1031"><span class="linenos">1031</span></a><span class="sd">            For example, if you wanted to compute `self(u, v, w) * other(u, w)`, you&#39;d pass `[0, (2, 1)]` for `indMap`. </span>
</span><span id="Spline.multiply-1032"><a href="#Spline.multiply-1032"><span class="linenos">1032</span></a><span class="sd">            Unmapped independent variables remain independent (the default).</span>
</span><span id="Spline.multiply-1033"><a href="#Spline.multiply-1033"><span class="linenos">1033</span></a><span class="sd">            The domains of mapped independent variables must match. </span>
</span><span id="Spline.multiply-1034"><a href="#Spline.multiply-1034"><span class="linenos">1034</span></a><span class="sd">            An independent variable can map to no more than one other independent variable.</span>
</span><span id="Spline.multiply-1035"><a href="#Spline.multiply-1035"><span class="linenos">1035</span></a>
</span><span id="Spline.multiply-1036"><a href="#Spline.multiply-1036"><span class="linenos">1036</span></a><span class="sd">        productType : {&#39;C&#39;, &#39;D&#39;, &#39;S&#39;}, optional</span>
</span><span id="Spline.multiply-1037"><a href="#Spline.multiply-1037"><span class="linenos">1037</span></a><span class="sd">            The type of product to perform on the dependent variables (default is &#39;S&#39;).</span>
</span><span id="Spline.multiply-1038"><a href="#Spline.multiply-1038"><span class="linenos">1038</span></a><span class="sd">                &#39;C&#39; is for a cross product, self x other (nDep must be 2 or 3).</span>
</span><span id="Spline.multiply-1039"><a href="#Spline.multiply-1039"><span class="linenos">1039</span></a><span class="sd">                &#39;D&#39; is for a dot product (nDep must match).</span>
</span><span id="Spline.multiply-1040"><a href="#Spline.multiply-1040"><span class="linenos">1040</span></a><span class="sd">                &#39;S&#39; is for a scalar product (nDep must be 1 for one of the splines).</span>
</span><span id="Spline.multiply-1041"><a href="#Spline.multiply-1041"><span class="linenos">1041</span></a><span class="sd">        </span>
</span><span id="Spline.multiply-1042"><a href="#Spline.multiply-1042"><span class="linenos">1042</span></a><span class="sd">        Returns</span>
</span><span id="Spline.multiply-1043"><a href="#Spline.multiply-1043"><span class="linenos">1043</span></a><span class="sd">        -------</span>
</span><span id="Spline.multiply-1044"><a href="#Spline.multiply-1044"><span class="linenos">1044</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.multiply-1045"><a href="#Spline.multiply-1045"><span class="linenos">1045</span></a><span class="sd">            The result of multiplying self and other.</span>
</span><span id="Spline.multiply-1046"><a href="#Spline.multiply-1046"><span class="linenos">1046</span></a>
</span><span id="Spline.multiply-1047"><a href="#Spline.multiply-1047"><span class="linenos">1047</span></a><span class="sd">        See Also</span>
</span><span id="Spline.multiply-1048"><a href="#Spline.multiply-1048"><span class="linenos">1048</span></a><span class="sd">        --------</span>
</span><span id="Spline.multiply-1049"><a href="#Spline.multiply-1049"><span class="linenos">1049</span></a><span class="sd">        `add` : Add two splines.</span>
</span><span id="Spline.multiply-1050"><a href="#Spline.multiply-1050"><span class="linenos">1050</span></a><span class="sd">        `subtract` : Subtract two splines.</span>
</span><span id="Spline.multiply-1051"><a href="#Spline.multiply-1051"><span class="linenos">1051</span></a><span class="sd">        `convolve` : Convolve two splines (cross, dot, or scalar product).</span>
</span><span id="Spline.multiply-1052"><a href="#Spline.multiply-1052"><span class="linenos">1052</span></a>
</span><span id="Spline.multiply-1053"><a href="#Spline.multiply-1053"><span class="linenos">1053</span></a><span class="sd">        Notes</span>
</span><span id="Spline.multiply-1054"><a href="#Spline.multiply-1054"><span class="linenos">1054</span></a><span class="sd">        -----</span>
</span><span id="Spline.multiply-1055"><a href="#Spline.multiply-1055"><span class="linenos">1055</span></a><span class="sd">        Taken in part from Lee, E. T. Y. &quot;Computing a chain of blossoms, with application to products of splines.&quot; </span>
</span><span id="Spline.multiply-1056"><a href="#Spline.multiply-1056"><span class="linenos">1056</span></a><span class="sd">        Computer Aided Geometric Design 11, no. 6 (1994): 597-620.</span>
</span><span id="Spline.multiply-1057"><a href="#Spline.multiply-1057"><span class="linenos">1057</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.multiply-1058"><a href="#Spline.multiply-1058"><span class="linenos">1058</span></a>        <span class="k">if</span> <span class="n">indMap</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Spline.multiply-1059"><a href="#Spline.multiply-1059"><span class="linenos">1059</span></a>            <span class="n">indMap</span> <span class="o">=</span> <span class="p">[(</span><span class="o">*</span><span class="p">(</span><span class="n">mapping</span> <span class="k">if</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">mapping</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">mapping</span><span class="p">)),</span> <span class="kc">False</span><span class="p">)</span> <span class="k">for</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="n">indMap</span><span class="p">]</span>
</span><span id="Spline.multiply-1060"><a href="#Spline.multiply-1060"><span class="linenos">1060</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">multiplyAndConvolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span><span class="p">,</span> <span class="n">productType</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Multiply two splines (cross, dot, or scalar product).</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>other</strong> (<code><a href="#Spline">Spline</a></code>):
The spline to multiply by self.</li>
<li><strong>indMap</strong> (<code>iterable</code> or <code>None</code>, optional):
An iterable of indices or pairs of indices. Each index refers to an independent variable.
Within the iterable, a single index, <code>n</code>, maps the nth independent variable of self to the same independent variable of other.
A pair <code>(n, m)</code> maps the nth independent variable of self to the mth independent variable of other. 
For example, if you wanted to compute <code>self(u, v, w) * other(u, w)</code>, you'd pass <code>[0, (2, 1)]</code> for <code>indMap</code>. 
Unmapped independent variables remain independent (the default).
The domains of mapped independent variables must match. 
An independent variable can map to no more than one other independent variable.</li>
<li><strong>productType</strong> ({'C', 'D', 'S'}, optional):
The type of product to perform on the dependent variables (default is 'S').
    'C' is for a cross product, self x other (nDep must be 2 or 3).
    'D' is for a dot product (nDep must match).
    'S' is for a scalar product (nDep must be 1 for one of the splines).</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
The result of multiplying self and other.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.add">add</a></code>:  Add two splines. <br />
<code><a href="#Spline.subtract">subtract</a></code>:  Subtract two splines. <br />
<code><a href="#Spline.convolve">convolve</a></code>:  Convolve two splines (cross, dot, or scalar product).  </p>

<h6 id="notes">Notes</h6>

<p>Taken in part from Lee, E. T. Y. "Computing a chain of blossoms, with application to products of splines." 
Computer Aided Geometric Design 11, no. 6 (1994): 597-620.</p>
</div>


                            </div>
                            <div id="Spline.normal" class="classattr">
                                        <input id="Spline.normal-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">normal</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">uvw</span>, </span><span class="param"><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span>, </span><span class="param"><span class="n">indices</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.normal-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.normal"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.normal-1062"><a href="#Spline.normal-1062"><span class="linenos">1062</span></a>    <span class="k">def</span> <span class="nf">normal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">,</span> <span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">indices</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Spline.normal-1063"><a href="#Spline.normal-1063"><span class="linenos">1063</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.normal-1064"><a href="#Spline.normal-1064"><span class="linenos">1064</span></a><span class="sd">        Compute the normal of the spline at given parameter values. The number of independent variables must be</span>
</span><span id="Spline.normal-1065"><a href="#Spline.normal-1065"><span class="linenos">1065</span></a><span class="sd">        one different than the number of dependent variables.</span>
</span><span id="Spline.normal-1066"><a href="#Spline.normal-1066"><span class="linenos">1066</span></a>
</span><span id="Spline.normal-1067"><a href="#Spline.normal-1067"><span class="linenos">1067</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.normal-1068"><a href="#Spline.normal-1068"><span class="linenos">1068</span></a><span class="sd">        ----------</span>
</span><span id="Spline.normal-1069"><a href="#Spline.normal-1069"><span class="linenos">1069</span></a><span class="sd">        uvw : `iterable`</span>
</span><span id="Spline.normal-1070"><a href="#Spline.normal-1070"><span class="linenos">1070</span></a><span class="sd">            An iterable of length `nInd` that specifies the values of each independent variable (the parameter values).</span>
</span><span id="Spline.normal-1071"><a href="#Spline.normal-1071"><span class="linenos">1071</span></a><span class="sd">        </span>
</span><span id="Spline.normal-1072"><a href="#Spline.normal-1072"><span class="linenos">1072</span></a><span class="sd">        normalize : `boolean`, optional</span>
</span><span id="Spline.normal-1073"><a href="#Spline.normal-1073"><span class="linenos">1073</span></a><span class="sd">            If True the returned normal will have unit length (the default). Otherwise, the normal&#39;s length will</span>
</span><span id="Spline.normal-1074"><a href="#Spline.normal-1074"><span class="linenos">1074</span></a><span class="sd">            be the area of the tangent space (for two independent variables, its the length of the cross product of tangent vectors).</span>
</span><span id="Spline.normal-1075"><a href="#Spline.normal-1075"><span class="linenos">1075</span></a><span class="sd">        </span>
</span><span id="Spline.normal-1076"><a href="#Spline.normal-1076"><span class="linenos">1076</span></a><span class="sd">        indices : `iterable`, optional</span>
</span><span id="Spline.normal-1077"><a href="#Spline.normal-1077"><span class="linenos">1077</span></a><span class="sd">            An iterable of normal indices to calculate. For example, `indices=(0, 3)` will return a vector of length 2</span>
</span><span id="Spline.normal-1078"><a href="#Spline.normal-1078"><span class="linenos">1078</span></a><span class="sd">            with the first and fourth values of the normal. If `None`, all normal values are returned (the default).</span>
</span><span id="Spline.normal-1079"><a href="#Spline.normal-1079"><span class="linenos">1079</span></a>
</span><span id="Spline.normal-1080"><a href="#Spline.normal-1080"><span class="linenos">1080</span></a><span class="sd">        Returns</span>
</span><span id="Spline.normal-1081"><a href="#Spline.normal-1081"><span class="linenos">1081</span></a><span class="sd">        -------</span>
</span><span id="Spline.normal-1082"><a href="#Spline.normal-1082"><span class="linenos">1082</span></a><span class="sd">        normal : `numpy.array`</span>
</span><span id="Spline.normal-1083"><a href="#Spline.normal-1083"><span class="linenos">1083</span></a><span class="sd">            The normal vector of the spline at the given parameter values.</span>
</span><span id="Spline.normal-1084"><a href="#Spline.normal-1084"><span class="linenos">1084</span></a>
</span><span id="Spline.normal-1085"><a href="#Spline.normal-1085"><span class="linenos">1085</span></a><span class="sd">        See Also</span>
</span><span id="Spline.normal-1086"><a href="#Spline.normal-1086"><span class="linenos">1086</span></a><span class="sd">        --------</span>
</span><span id="Spline.normal-1087"><a href="#Spline.normal-1087"><span class="linenos">1087</span></a><span class="sd">        `derivative` : Compute the derivative of the spline at a given parameter value.</span>
</span><span id="Spline.normal-1088"><a href="#Spline.normal-1088"><span class="linenos">1088</span></a><span class="sd">        `normal_spline` : Compute a spline that evaluates to the normal of the given spline (not normalized).</span>
</span><span id="Spline.normal-1089"><a href="#Spline.normal-1089"><span class="linenos">1089</span></a>
</span><span id="Spline.normal-1090"><a href="#Spline.normal-1090"><span class="linenos">1090</span></a><span class="sd">        Notes</span>
</span><span id="Spline.normal-1091"><a href="#Spline.normal-1091"><span class="linenos">1091</span></a><span class="sd">        -----</span>
</span><span id="Spline.normal-1092"><a href="#Spline.normal-1092"><span class="linenos">1092</span></a><span class="sd">        Attentive readers will notice that the number of independent variables could be one more than the number of </span>
</span><span id="Spline.normal-1093"><a href="#Spline.normal-1093"><span class="linenos">1093</span></a><span class="sd">        dependent variables (instead of one less, as is typical). In that case, the normal represents the null space of </span>
</span><span id="Spline.normal-1094"><a href="#Spline.normal-1094"><span class="linenos">1094</span></a><span class="sd">        the matrix formed by the tangents of the spline. If the null space is greater than one dimension, the normal will be zero.</span>
</span><span id="Spline.normal-1095"><a href="#Spline.normal-1095"><span class="linenos">1095</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.normal-1096"><a href="#Spline.normal-1096"><span class="linenos">1096</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uvw</span><span class="p">,</span> <span class="n">normalize</span><span class="p">,</span> <span class="n">indices</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Compute the normal of the spline at given parameter values. The number of independent variables must be
one different than the number of dependent variables.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>uvw</strong> (<code>iterable</code>):
An iterable of length <code><a href="#Spline.nInd">nInd</a></code> that specifies the values of each independent variable (the parameter values).</li>
<li><strong>normalize</strong> (<code>boolean</code>, optional):
If True the returned normal will have unit length (the default). Otherwise, the normal's length will
be the area of the tangent space (for two independent variables, its the length of the cross product of tangent vectors).</li>
<li><strong>indices</strong> (<code>iterable</code>, optional):
An iterable of normal indices to calculate. For example, <code>indices=(0, 3)</code> will return a vector of length 2
with the first and fourth values of the normal. If <code>None</code>, all normal values are returned (the default).</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>normal</strong> (<code>numpy.array</code>):
The normal vector of the spline at the given parameter values.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.derivative">derivative</a></code>:  Compute the derivative of the spline at a given parameter value. <br />
<code><a href="#Spline.normal_spline">normal_spline</a></code>:  Compute a spline that evaluates to the normal of the given spline (not normalized).  </p>

<h6 id="notes">Notes</h6>

<p>Attentive readers will notice that the number of independent variables could be one more than the number of 
dependent variables (instead of one less, as is typical). In that case, the normal represents the null space of 
the matrix formed by the tangents of the spline. If the null space is greater than one dimension, the normal will be zero.</p>
</div>


                            </div>
                            <div id="Spline.normal_spline" class="classattr">
                                        <input id="Spline.normal_spline-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">normal_spline</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">indices</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.normal_spline-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.normal_spline"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.normal_spline-1098"><a href="#Spline.normal_spline-1098"><span class="linenos">1098</span></a>    <span class="k">def</span> <span class="nf">normal_spline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indices</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Spline.normal_spline-1099"><a href="#Spline.normal_spline-1099"><span class="linenos">1099</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.normal_spline-1100"><a href="#Spline.normal_spline-1100"><span class="linenos">1100</span></a><span class="sd">        Compute a spline that evaluates to the normal of the given spline. The length of the normal</span>
</span><span id="Spline.normal_spline-1101"><a href="#Spline.normal_spline-1101"><span class="linenos">1101</span></a><span class="sd">        is the area of the tangent space (for two independent variables, its the length of the cross product of tangent vectors).</span>
</span><span id="Spline.normal_spline-1102"><a href="#Spline.normal_spline-1102"><span class="linenos">1102</span></a><span class="sd">        The number of independent variables must be one different than the number of dependent variables.</span>
</span><span id="Spline.normal_spline-1103"><a href="#Spline.normal_spline-1103"><span class="linenos">1103</span></a>
</span><span id="Spline.normal_spline-1104"><a href="#Spline.normal_spline-1104"><span class="linenos">1104</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.normal_spline-1105"><a href="#Spline.normal_spline-1105"><span class="linenos">1105</span></a><span class="sd">        ----------</span>
</span><span id="Spline.normal_spline-1106"><a href="#Spline.normal_spline-1106"><span class="linenos">1106</span></a><span class="sd">        indices : `iterable`, optional</span>
</span><span id="Spline.normal_spline-1107"><a href="#Spline.normal_spline-1107"><span class="linenos">1107</span></a><span class="sd">            An iterable of normal indices to calculate. For example, `indices=(0, 3)` will make the returned spline compute a vector of length 2</span>
</span><span id="Spline.normal_spline-1108"><a href="#Spline.normal_spline-1108"><span class="linenos">1108</span></a><span class="sd">            with the first and fourth values of the normal. If `None`, all normal values are returned (the default).</span>
</span><span id="Spline.normal_spline-1109"><a href="#Spline.normal_spline-1109"><span class="linenos">1109</span></a>
</span><span id="Spline.normal_spline-1110"><a href="#Spline.normal_spline-1110"><span class="linenos">1110</span></a><span class="sd">        Returns</span>
</span><span id="Spline.normal_spline-1111"><a href="#Spline.normal_spline-1111"><span class="linenos">1111</span></a><span class="sd">        -------</span>
</span><span id="Spline.normal_spline-1112"><a href="#Spline.normal_spline-1112"><span class="linenos">1112</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.normal_spline-1113"><a href="#Spline.normal_spline-1113"><span class="linenos">1113</span></a><span class="sd">            The spline that evaluates to the normal of the given spline.</span>
</span><span id="Spline.normal_spline-1114"><a href="#Spline.normal_spline-1114"><span class="linenos">1114</span></a>
</span><span id="Spline.normal_spline-1115"><a href="#Spline.normal_spline-1115"><span class="linenos">1115</span></a><span class="sd">        See Also</span>
</span><span id="Spline.normal_spline-1116"><a href="#Spline.normal_spline-1116"><span class="linenos">1116</span></a><span class="sd">        --------</span>
</span><span id="Spline.normal_spline-1117"><a href="#Spline.normal_spline-1117"><span class="linenos">1117</span></a><span class="sd">        `normal` : Compute the normal of the spline at given parameter values.</span>
</span><span id="Spline.normal_spline-1118"><a href="#Spline.normal_spline-1118"><span class="linenos">1118</span></a><span class="sd">        `differentiate` : Differentiate a spline with respect to one of its independent variables, returning the resulting spline.</span>
</span><span id="Spline.normal_spline-1119"><a href="#Spline.normal_spline-1119"><span class="linenos">1119</span></a>
</span><span id="Spline.normal_spline-1120"><a href="#Spline.normal_spline-1120"><span class="linenos">1120</span></a><span class="sd">        Notes</span>
</span><span id="Spline.normal_spline-1121"><a href="#Spline.normal_spline-1121"><span class="linenos">1121</span></a><span class="sd">        -----</span>
</span><span id="Spline.normal_spline-1122"><a href="#Spline.normal_spline-1122"><span class="linenos">1122</span></a><span class="sd">        Attentive readers will notice that the number of independent variables could be one more than the number of </span>
</span><span id="Spline.normal_spline-1123"><a href="#Spline.normal_spline-1123"><span class="linenos">1123</span></a><span class="sd">        dependent variables (instead of one less, as is typical). In that case, the normal represents the null space of </span>
</span><span id="Spline.normal_spline-1124"><a href="#Spline.normal_spline-1124"><span class="linenos">1124</span></a><span class="sd">        the matrix formed by the tangents of the spline. If the null space is greater than one dimension, the normal will be zero.</span>
</span><span id="Spline.normal_spline-1125"><a href="#Spline.normal_spline-1125"><span class="linenos">1125</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.normal_spline-1126"><a href="#Spline.normal_spline-1126"><span class="linenos">1126</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">normal_spline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indices</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Compute a spline that evaluates to the normal of the given spline. The length of the normal
is the area of the tangent space (for two independent variables, its the length of the cross product of tangent vectors).
The number of independent variables must be one different than the number of dependent variables.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>indices</strong> (<code>iterable</code>, optional):
An iterable of normal indices to calculate. For example, <code>indices=(0, 3)</code> will make the returned spline compute a vector of length 2
with the first and fourth values of the normal. If <code>None</code>, all normal values are returned (the default).</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
The spline that evaluates to the normal of the given spline.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.normal">normal</a></code>:  Compute the normal of the spline at given parameter values. <br />
<code><a href="#Spline.differentiate">differentiate</a></code>:  Differentiate a spline with respect to one of its independent variables, returning the resulting spline.  </p>

<h6 id="notes">Notes</h6>

<p>Attentive readers will notice that the number of independent variables could be one more than the number of 
dependent variables (instead of one less, as is typical). In that case, the normal represents the null space of 
the matrix formed by the tangents of the spline. If the null space is greater than one dimension, the normal will be zero.</p>
</div>


                            </div>
                            <div id="Spline.range_bounds" class="classattr">
                                        <input id="Spline.range_bounds-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">range_bounds</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.range_bounds-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.range_bounds"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.range_bounds-1128"><a href="#Spline.range_bounds-1128"><span class="linenos">1128</span></a>    <span class="k">def</span> <span class="nf">range_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Spline.range_bounds-1129"><a href="#Spline.range_bounds-1129"><span class="linenos">1129</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.range_bounds-1130"><a href="#Spline.range_bounds-1130"><span class="linenos">1130</span></a><span class="sd">        Return the range of a spline as lower and upper bounds on each of the</span>
</span><span id="Spline.range_bounds-1131"><a href="#Spline.range_bounds-1131"><span class="linenos">1131</span></a><span class="sd">        dependent variables</span>
</span><span id="Spline.range_bounds-1132"><a href="#Spline.range_bounds-1132"><span class="linenos">1132</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.range_bounds-1133"><a href="#Spline.range_bounds-1133"><span class="linenos">1133</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_evaluation</span><span class="o">.</span><span class="n">range_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return the range of a spline as lower and upper bounds on each of the
dependent variables</p>
</div>


                            </div>
                            <div id="Spline.remove_knots" class="classattr">
                                        <input id="Spline.remove_knots-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">remove_knots</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">oldKnots</span><span class="o">=</span><span class="p">((),)</span>, </span><span class="param"><span class="n">maxRemovalsPerKnot</span><span class="o">=</span><span class="mi">0</span>, </span><span class="param"><span class="n">tolerance</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.remove_knots-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.remove_knots"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.remove_knots-1135"><a href="#Spline.remove_knots-1135"><span class="linenos">1135</span></a>    <span class="k">def</span> <span class="nf">remove_knots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">oldKnots</span><span class="o">=</span><span class="p">((),),</span> <span class="n">maxRemovalsPerKnot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Spline.remove_knots-1136"><a href="#Spline.remove_knots-1136"><span class="linenos">1136</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.remove_knots-1137"><a href="#Spline.remove_knots-1137"><span class="linenos">1137</span></a><span class="sd">        Remove interior knots from a spline.</span>
</span><span id="Spline.remove_knots-1138"><a href="#Spline.remove_knots-1138"><span class="linenos">1138</span></a>
</span><span id="Spline.remove_knots-1139"><a href="#Spline.remove_knots-1139"><span class="linenos">1139</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.remove_knots-1140"><a href="#Spline.remove_knots-1140"><span class="linenos">1140</span></a><span class="sd">        ----------</span>
</span><span id="Spline.remove_knots-1141"><a href="#Spline.remove_knots-1141"><span class="linenos">1141</span></a><span class="sd">        oldKnots : `iterable` of length `nInd`, optional</span>
</span><span id="Spline.remove_knots-1142"><a href="#Spline.remove_knots-1142"><span class="linenos">1142</span></a><span class="sd">            An iterable that specifies the knots that can be removed from each independent variable&#39;s interior knots. </span>
</span><span id="Spline.remove_knots-1143"><a href="#Spline.remove_knots-1143"><span class="linenos">1143</span></a><span class="sd">            len(newKnots[ind]) == 0 if all interior knots can be removed for the `ind` independent variable (the default). </span>
</span><span id="Spline.remove_knots-1144"><a href="#Spline.remove_knots-1144"><span class="linenos">1144</span></a><span class="sd">            Knots that don&#39;t appear in the independent variable&#39;s interior knots are ignored.</span>
</span><span id="Spline.remove_knots-1145"><a href="#Spline.remove_knots-1145"><span class="linenos">1145</span></a><span class="sd">        </span>
</span><span id="Spline.remove_knots-1146"><a href="#Spline.remove_knots-1146"><span class="linenos">1146</span></a><span class="sd">        maxRemovalsPerKnot : `int`, optional</span>
</span><span id="Spline.remove_knots-1147"><a href="#Spline.remove_knots-1147"><span class="linenos">1147</span></a><span class="sd">            A non-zero count of the largest number of times a knot can be removed. For example, one means that </span>
</span><span id="Spline.remove_knots-1148"><a href="#Spline.remove_knots-1148"><span class="linenos">1148</span></a><span class="sd">            only one instance of each knot can be removed. (Zero means each knot can be removed completely, </span>
</span><span id="Spline.remove_knots-1149"><a href="#Spline.remove_knots-1149"><span class="linenos">1149</span></a><span class="sd">            which is the default.)</span>
</span><span id="Spline.remove_knots-1150"><a href="#Spline.remove_knots-1150"><span class="linenos">1150</span></a><span class="sd">        </span>
</span><span id="Spline.remove_knots-1151"><a href="#Spline.remove_knots-1151"><span class="linenos">1151</span></a><span class="sd">        tolerance : `float` or `None`, optional</span>
</span><span id="Spline.remove_knots-1152"><a href="#Spline.remove_knots-1152"><span class="linenos">1152</span></a><span class="sd">            The maximum residual error permitted after removing a knot. Knots will not be removed if the </span>
</span><span id="Spline.remove_knots-1153"><a href="#Spline.remove_knots-1153"><span class="linenos">1153</span></a><span class="sd">            resulting residual error is above this threshold. Default is `None`, meaning all specified knots </span>
</span><span id="Spline.remove_knots-1154"><a href="#Spline.remove_knots-1154"><span class="linenos">1154</span></a><span class="sd">            will be removed up to `maxRemovalsPerKnot`.</span>
</span><span id="Spline.remove_knots-1155"><a href="#Spline.remove_knots-1155"><span class="linenos">1155</span></a>
</span><span id="Spline.remove_knots-1156"><a href="#Spline.remove_knots-1156"><span class="linenos">1156</span></a><span class="sd">        Returns</span>
</span><span id="Spline.remove_knots-1157"><a href="#Spline.remove_knots-1157"><span class="linenos">1157</span></a><span class="sd">        -------</span>
</span><span id="Spline.remove_knots-1158"><a href="#Spline.remove_knots-1158"><span class="linenos">1158</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.remove_knots-1159"><a href="#Spline.remove_knots-1159"><span class="linenos">1159</span></a><span class="sd">            A spline with the knots removed.</span>
</span><span id="Spline.remove_knots-1160"><a href="#Spline.remove_knots-1160"><span class="linenos">1160</span></a><span class="sd">        </span>
</span><span id="Spline.remove_knots-1161"><a href="#Spline.remove_knots-1161"><span class="linenos">1161</span></a><span class="sd">        totalRemoved : `int`</span>
</span><span id="Spline.remove_knots-1162"><a href="#Spline.remove_knots-1162"><span class="linenos">1162</span></a><span class="sd">            The total number of knots removed.</span>
</span><span id="Spline.remove_knots-1163"><a href="#Spline.remove_knots-1163"><span class="linenos">1163</span></a><span class="sd">        </span>
</span><span id="Spline.remove_knots-1164"><a href="#Spline.remove_knots-1164"><span class="linenos">1164</span></a><span class="sd">        residualError : `float`</span>
</span><span id="Spline.remove_knots-1165"><a href="#Spline.remove_knots-1165"><span class="linenos">1165</span></a><span class="sd">            The residual error relative to the old spline. (The returned spline&#39;s accuracy is also adjusted accordingly.)</span>
</span><span id="Spline.remove_knots-1166"><a href="#Spline.remove_knots-1166"><span class="linenos">1166</span></a>
</span><span id="Spline.remove_knots-1167"><a href="#Spline.remove_knots-1167"><span class="linenos">1167</span></a><span class="sd">        See Also</span>
</span><span id="Spline.remove_knots-1168"><a href="#Spline.remove_knots-1168"><span class="linenos">1168</span></a><span class="sd">        --------</span>
</span><span id="Spline.remove_knots-1169"><a href="#Spline.remove_knots-1169"><span class="linenos">1169</span></a><span class="sd">        `insert_knots` : Insert new knots into a spline.</span>
</span><span id="Spline.remove_knots-1170"><a href="#Spline.remove_knots-1170"><span class="linenos">1170</span></a><span class="sd">        `trim` : Trim the domain of a spline.</span>
</span><span id="Spline.remove_knots-1171"><a href="#Spline.remove_knots-1171"><span class="linenos">1171</span></a>
</span><span id="Spline.remove_knots-1172"><a href="#Spline.remove_knots-1172"><span class="linenos">1172</span></a><span class="sd">        Notes</span>
</span><span id="Spline.remove_knots-1173"><a href="#Spline.remove_knots-1173"><span class="linenos">1173</span></a><span class="sd">        -----</span>
</span><span id="Spline.remove_knots-1174"><a href="#Spline.remove_knots-1174"><span class="linenos">1174</span></a><span class="sd">        Implements a variation of the algorithms from Tiller, Wayne. &quot;Knot-removal algorithms for NURBS curves and surfaces.&quot; Computer-Aided Design 24, no. 8 (1992): 445-453.</span>
</span><span id="Spline.remove_knots-1175"><a href="#Spline.remove_knots-1175"><span class="linenos">1175</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.remove_knots-1176"><a href="#Spline.remove_knots-1176"><span class="linenos">1176</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">remove_knots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">oldKnots</span><span class="p">,</span> <span class="n">maxRemovalsPerKnot</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Remove interior knots from a spline.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>oldKnots</strong> (<code>iterable</code> of length <code><a href="#Spline.nInd">nInd</a></code>, optional):
An iterable that specifies the knots that can be removed from each independent variable's interior knots. 
len(newKnots[ind]) == 0 if all interior knots can be removed for the <code>ind</code> independent variable (the default). 
Knots that don't appear in the independent variable's interior knots are ignored.</li>
<li><strong>maxRemovalsPerKnot</strong> (<code>int</code>, optional):
A non-zero count of the largest number of times a knot can be removed. For example, one means that 
only one instance of each knot can be removed. (Zero means each knot can be removed completely, 
which is the default.)</li>
<li><strong>tolerance</strong> (<code>float</code> or <code>None</code>, optional):
The maximum residual error permitted after removing a knot. Knots will not be removed if the 
resulting residual error is above this threshold. Default is <code>None</code>, meaning all specified knots 
will be removed up to <code>maxRemovalsPerKnot</code>.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
A spline with the knots removed.</li>
<li><strong>totalRemoved</strong> (<code>int</code>):
The total number of knots removed.</li>
<li><strong>residualError</strong> (<code>float</code>):
The residual error relative to the old spline. (The returned spline's accuracy is also adjusted accordingly.)</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.insert_knots">insert_knots</a></code>:  Insert new knots into a spline. <br />
<code><a href="#Spline.trim">trim</a></code>:  Trim the domain of a spline.  </p>

<h6 id="notes">Notes</h6>

<p>Implements a variation of the algorithms from Tiller, Wayne. "Knot-removal algorithms for NURBS curves and surfaces." Computer-Aided Design 24, no. 8 (1992): 445-453.</p>
</div>


                            </div>
                            <div id="Spline.reparametrize" class="classattr">
                                        <input id="Spline.reparametrize-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">reparametrize</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">newDomain</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.reparametrize-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.reparametrize"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.reparametrize-1178"><a href="#Spline.reparametrize-1178"><span class="linenos">1178</span></a>    <span class="k">def</span> <span class="nf">reparametrize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newDomain</span><span class="p">):</span>
</span><span id="Spline.reparametrize-1179"><a href="#Spline.reparametrize-1179"><span class="linenos">1179</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.reparametrize-1180"><a href="#Spline.reparametrize-1180"><span class="linenos">1180</span></a><span class="sd">        Reparametrize a spline to match new domain bounds. The spline&#39;s number of knots and its coefficients remain unchanged.</span>
</span><span id="Spline.reparametrize-1181"><a href="#Spline.reparametrize-1181"><span class="linenos">1181</span></a>
</span><span id="Spline.reparametrize-1182"><a href="#Spline.reparametrize-1182"><span class="linenos">1182</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.reparametrize-1183"><a href="#Spline.reparametrize-1183"><span class="linenos">1183</span></a><span class="sd">        ----------</span>
</span><span id="Spline.reparametrize-1184"><a href="#Spline.reparametrize-1184"><span class="linenos">1184</span></a><span class="sd">        newDomain : array-like</span>
</span><span id="Spline.reparametrize-1185"><a href="#Spline.reparametrize-1185"><span class="linenos">1185</span></a><span class="sd">            nInd x 2 array of the new upper and lower bounds on each of the independent variables (same form as </span>
</span><span id="Spline.reparametrize-1186"><a href="#Spline.reparametrize-1186"><span class="linenos">1186</span></a><span class="sd">            returned from `domain`). If a bound pair is `None` then the original bound (and knots) are left unchanged. </span>
</span><span id="Spline.reparametrize-1187"><a href="#Spline.reparametrize-1187"><span class="linenos">1187</span></a><span class="sd">            For example, `[[0.0, 1.0], None]` will reparametrize the first independent variable and leave the second unchanged)</span>
</span><span id="Spline.reparametrize-1188"><a href="#Spline.reparametrize-1188"><span class="linenos">1188</span></a>
</span><span id="Spline.reparametrize-1189"><a href="#Spline.reparametrize-1189"><span class="linenos">1189</span></a><span class="sd">        Returns</span>
</span><span id="Spline.reparametrize-1190"><a href="#Spline.reparametrize-1190"><span class="linenos">1190</span></a><span class="sd">        -------</span>
</span><span id="Spline.reparametrize-1191"><a href="#Spline.reparametrize-1191"><span class="linenos">1191</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.reparametrize-1192"><a href="#Spline.reparametrize-1192"><span class="linenos">1192</span></a><span class="sd">            Reparametrized spline.</span>
</span><span id="Spline.reparametrize-1193"><a href="#Spline.reparametrize-1193"><span class="linenos">1193</span></a>
</span><span id="Spline.reparametrize-1194"><a href="#Spline.reparametrize-1194"><span class="linenos">1194</span></a><span class="sd">        See Also</span>
</span><span id="Spline.reparametrize-1195"><a href="#Spline.reparametrize-1195"><span class="linenos">1195</span></a><span class="sd">        --------</span>
</span><span id="Spline.reparametrize-1196"><a href="#Spline.reparametrize-1196"><span class="linenos">1196</span></a><span class="sd">        `domain` : Return the domain of a spline.</span>
</span><span id="Spline.reparametrize-1197"><a href="#Spline.reparametrize-1197"><span class="linenos">1197</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.reparametrize-1198"><a href="#Spline.reparametrize-1198"><span class="linenos">1198</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">reparametrize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newDomain</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Reparametrize a spline to match new domain bounds. The spline's number of knots and its coefficients remain unchanged.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>newDomain</strong> (array-like):
nInd x 2 array of the new upper and lower bounds on each of the independent variables (same form as 
returned from <code><a href="#Spline.domain">domain</a></code>). If a bound pair is <code>None</code> then the original bound (and knots) are left unchanged. 
For example, <code>[[0.0, 1.0], None]</code> will reparametrize the first independent variable and leave the second unchanged)</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
Reparametrized spline.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.domain">domain</a></code>:  Return the domain of a spline.  </p>
</div>


                            </div>
                            <div id="Spline.reverse" class="classattr">
                                        <input id="Spline.reverse-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">reverse</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">variable</span><span class="o">=</span><span class="mi">0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.reverse-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.reverse"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.reverse-1200"><a href="#Spline.reverse-1200"><span class="linenos">1200</span></a>    <span class="k">def</span> <span class="nf">reverse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">variable</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="Spline.reverse-1201"><a href="#Spline.reverse-1201"><span class="linenos">1201</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.reverse-1202"><a href="#Spline.reverse-1202"><span class="linenos">1202</span></a><span class="sd">        Reverse the direction of a spline along one of the independent variables</span>
</span><span id="Spline.reverse-1203"><a href="#Spline.reverse-1203"><span class="linenos">1203</span></a>
</span><span id="Spline.reverse-1204"><a href="#Spline.reverse-1204"><span class="linenos">1204</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.reverse-1205"><a href="#Spline.reverse-1205"><span class="linenos">1205</span></a><span class="sd">        ----------</span>
</span><span id="Spline.reverse-1206"><a href="#Spline.reverse-1206"><span class="linenos">1206</span></a><span class="sd">        variable : integer</span>
</span><span id="Spline.reverse-1207"><a href="#Spline.reverse-1207"><span class="linenos">1207</span></a><span class="sd">            index of the independent variable to reverse the direction of.</span>
</span><span id="Spline.reverse-1208"><a href="#Spline.reverse-1208"><span class="linenos">1208</span></a><span class="sd">        </span>
</span><span id="Spline.reverse-1209"><a href="#Spline.reverse-1209"><span class="linenos">1209</span></a><span class="sd">        Returns</span>
</span><span id="Spline.reverse-1210"><a href="#Spline.reverse-1210"><span class="linenos">1210</span></a><span class="sd">        -------</span>
</span><span id="Spline.reverse-1211"><a href="#Spline.reverse-1211"><span class="linenos">1211</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.reverse-1212"><a href="#Spline.reverse-1212"><span class="linenos">1212</span></a><span class="sd">            Reparametrized (i.e. reversed) spline.</span>
</span><span id="Spline.reverse-1213"><a href="#Spline.reverse-1213"><span class="linenos">1213</span></a><span class="sd">        </span>
</span><span id="Spline.reverse-1214"><a href="#Spline.reverse-1214"><span class="linenos">1214</span></a><span class="sd">        See Also</span>
</span><span id="Spline.reverse-1215"><a href="#Spline.reverse-1215"><span class="linenos">1215</span></a><span class="sd">        --------</span>
</span><span id="Spline.reverse-1216"><a href="#Spline.reverse-1216"><span class="linenos">1216</span></a><span class="sd">        `reparametrize` : Reparametrize a spline</span>
</span><span id="Spline.reverse-1217"><a href="#Spline.reverse-1217"><span class="linenos">1217</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.reverse-1218"><a href="#Spline.reverse-1218"><span class="linenos">1218</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">reverse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">variable</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Reverse the direction of a spline along one of the independent variables</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>variable</strong> (integer):
index of the independent variable to reverse the direction of.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
Reparametrized (i.e. reversed) spline.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.reparametrize">reparametrize</a></code>:  Reparametrize a spline  </p>
</div>


                            </div>
                            <div id="Spline.save" class="classattr">
                                        <input id="Spline.save-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">save</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">fileName</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.save-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.save"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.save-1220"><a href="#Spline.save-1220"><span class="linenos">1220</span></a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileName</span><span class="p">):</span>
</span><span id="Spline.save-1221"><a href="#Spline.save-1221"><span class="linenos">1221</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.save-1222"><a href="#Spline.save-1222"><span class="linenos">1222</span></a><span class="sd">        Save a spline to the specified filename (full path).</span>
</span><span id="Spline.save-1223"><a href="#Spline.save-1223"><span class="linenos">1223</span></a>
</span><span id="Spline.save-1224"><a href="#Spline.save-1224"><span class="linenos">1224</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.save-1225"><a href="#Spline.save-1225"><span class="linenos">1225</span></a><span class="sd">        ----------</span>
</span><span id="Spline.save-1226"><a href="#Spline.save-1226"><span class="linenos">1226</span></a><span class="sd">        fileName : `string`</span>
</span><span id="Spline.save-1227"><a href="#Spline.save-1227"><span class="linenos">1227</span></a><span class="sd">            The full path to the file containing the spline. Can be a relative path.</span>
</span><span id="Spline.save-1228"><a href="#Spline.save-1228"><span class="linenos">1228</span></a><span class="sd">        </span>
</span><span id="Spline.save-1229"><a href="#Spline.save-1229"><span class="linenos">1229</span></a><span class="sd">        See Also</span>
</span><span id="Spline.save-1230"><a href="#Spline.save-1230"><span class="linenos">1230</span></a><span class="sd">        --------</span>
</span><span id="Spline.save-1231"><a href="#Spline.save-1231"><span class="linenos">1231</span></a><span class="sd">        `load` : Load a spline from the specified filename (full path).</span>
</span><span id="Spline.save-1232"><a href="#Spline.save-1232"><span class="linenos">1232</span></a>
</span><span id="Spline.save-1233"><a href="#Spline.save-1233"><span class="linenos">1233</span></a><span class="sd">        Notes</span>
</span><span id="Spline.save-1234"><a href="#Spline.save-1234"><span class="linenos">1234</span></a><span class="sd">        -----</span>
</span><span id="Spline.save-1235"><a href="#Spline.save-1235"><span class="linenos">1235</span></a><span class="sd">        Uses numpy&#39;s savez function. Accuracy and metadata are not saved.</span>
</span><span id="Spline.save-1236"><a href="#Spline.save-1236"><span class="linenos">1236</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.save-1237"><a href="#Spline.save-1237"><span class="linenos">1237</span></a>        <span class="n">kw</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Spline.save-1238"><a href="#Spline.save-1238"><span class="linenos">1238</span></a>        <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;order&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">order</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>
</span><span id="Spline.save-1239"><a href="#Spline.save-1239"><span class="linenos">1239</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">knots</span><span class="p">)):</span>
</span><span id="Spline.save-1240"><a href="#Spline.save-1240"><span class="linenos">1240</span></a>            <span class="n">kw</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;knots</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">knots</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="Spline.save-1241"><a href="#Spline.save-1241"><span class="linenos">1241</span></a>        <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;coefficients&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefs</span>
</span><span id="Spline.save-1242"><a href="#Spline.save-1242"><span class="linenos">1242</span></a>        <span class="n">np</span><span class="o">.</span><span class="n">savez</span><span class="p">(</span><span class="n">fileName</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span> <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Save a spline to the specified filename (full path).</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>fileName</strong> (<code>string</code>):
The full path to the file containing the spline. Can be a relative path.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.load">load</a></code>:  Load a spline from the specified filename (full path).  </p>

<h6 id="notes">Notes</h6>

<p>Uses numpy's savez function. Accuracy and metadata are not saved.</p>
</div>


                            </div>
                            <div id="Spline.scale" class="classattr">
                                        <input id="Spline.scale-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">scale</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">multiplier</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.scale-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.scale"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.scale-1244"><a href="#Spline.scale-1244"><span class="linenos">1244</span></a>    <span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiplier</span><span class="p">):</span>
</span><span id="Spline.scale-1245"><a href="#Spline.scale-1245"><span class="linenos">1245</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.scale-1246"><a href="#Spline.scale-1246"><span class="linenos">1246</span></a><span class="sd">        Scale a spline by the given scalar or scale vector.</span>
</span><span id="Spline.scale-1247"><a href="#Spline.scale-1247"><span class="linenos">1247</span></a>
</span><span id="Spline.scale-1248"><a href="#Spline.scale-1248"><span class="linenos">1248</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.scale-1249"><a href="#Spline.scale-1249"><span class="linenos">1249</span></a><span class="sd">        ----------</span>
</span><span id="Spline.scale-1250"><a href="#Spline.scale-1250"><span class="linenos">1250</span></a><span class="sd">        multiplier : scalar, array-like, or `Spline`</span>
</span><span id="Spline.scale-1251"><a href="#Spline.scale-1251"><span class="linenos">1251</span></a><span class="sd">            A scalar, an array of length `nDep`, or spline that specifies the multiplier.</span>
</span><span id="Spline.scale-1252"><a href="#Spline.scale-1252"><span class="linenos">1252</span></a>
</span><span id="Spline.scale-1253"><a href="#Spline.scale-1253"><span class="linenos">1253</span></a><span class="sd">        Returns</span>
</span><span id="Spline.scale-1254"><a href="#Spline.scale-1254"><span class="linenos">1254</span></a><span class="sd">        -------</span>
</span><span id="Spline.scale-1255"><a href="#Spline.scale-1255"><span class="linenos">1255</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.scale-1256"><a href="#Spline.scale-1256"><span class="linenos">1256</span></a><span class="sd">            The scaled spline.</span>
</span><span id="Spline.scale-1257"><a href="#Spline.scale-1257"><span class="linenos">1257</span></a>
</span><span id="Spline.scale-1258"><a href="#Spline.scale-1258"><span class="linenos">1258</span></a><span class="sd">        See Also</span>
</span><span id="Spline.scale-1259"><a href="#Spline.scale-1259"><span class="linenos">1259</span></a><span class="sd">        --------</span>
</span><span id="Spline.scale-1260"><a href="#Spline.scale-1260"><span class="linenos">1260</span></a><span class="sd">        `multiply` : Multiply two splines (cross, dot, or scalar product).</span>
</span><span id="Spline.scale-1261"><a href="#Spline.scale-1261"><span class="linenos">1261</span></a><span class="sd">        `transform` : Transform a spline by the given matrix.</span>
</span><span id="Spline.scale-1262"><a href="#Spline.scale-1262"><span class="linenos">1262</span></a><span class="sd">        `translate` : Translate a spline by the given translation vector.</span>
</span><span id="Spline.scale-1263"><a href="#Spline.scale-1263"><span class="linenos">1263</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.scale-1264"><a href="#Spline.scale-1264"><span class="linenos">1264</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiplier</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Scale a spline by the given scalar or scale vector.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>multiplier</strong> (scalar, array-like, or <code><a href="#Spline">Spline</a></code>):
A scalar, an array of length <code><a href="#Spline.nDep">nDep</a></code>, or spline that specifies the multiplier.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
The scaled spline.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.multiply">multiply</a></code>:  Multiply two splines (cross, dot, or scalar product). <br />
<code><a href="#Spline.transform">transform</a></code>:  Transform a spline by the given matrix. <br />
<code><a href="#Spline.translate">translate</a></code>:  Translate a spline by the given translation vector.  </p>
</div>


                            </div>
                            <div id="Spline.section" class="classattr">
                                        <input id="Spline.section-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">section</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">xytk</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.section-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.section"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.section-1266"><a href="#Spline.section-1266"><span class="linenos">1266</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Spline.section-1267"><a href="#Spline.section-1267"><span class="linenos">1267</span></a>    <span class="k">def</span> <span class="nf">section</span><span class="p">(</span><span class="n">xytk</span><span class="p">):</span>
</span><span id="Spline.section-1268"><a href="#Spline.section-1268"><span class="linenos">1268</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.section-1269"><a href="#Spline.section-1269"><span class="linenos">1269</span></a><span class="sd">        Fit a planar section to the list of 4-tuples of data.</span>
</span><span id="Spline.section-1270"><a href="#Spline.section-1270"><span class="linenos">1270</span></a>
</span><span id="Spline.section-1271"><a href="#Spline.section-1271"><span class="linenos">1271</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.section-1272"><a href="#Spline.section-1272"><span class="linenos">1272</span></a><span class="sd">        ----------</span>
</span><span id="Spline.section-1273"><a href="#Spline.section-1273"><span class="linenos">1273</span></a><span class="sd">        xytk : array-like</span>
</span><span id="Spline.section-1274"><a href="#Spline.section-1274"><span class="linenos">1274</span></a><span class="sd">            A list of points to fit an interpolating spline to.  Each point in the list contains</span>
</span><span id="Spline.section-1275"><a href="#Spline.section-1275"><span class="linenos">1275</span></a><span class="sd">            four values.  The first two are x and y coordinates of the point.  The third value is the</span>
</span><span id="Spline.section-1276"><a href="#Spline.section-1276"><span class="linenos">1276</span></a><span class="sd">            angle that the tangent makes as the desired section passes through that point (in degrees).</span>
</span><span id="Spline.section-1277"><a href="#Spline.section-1277"><span class="linenos">1277</span></a><span class="sd">            The fourth value is the desired curvature at that point</span>
</span><span id="Spline.section-1278"><a href="#Spline.section-1278"><span class="linenos">1278</span></a>
</span><span id="Spline.section-1279"><a href="#Spline.section-1279"><span class="linenos">1279</span></a><span class="sd">        Returns</span>
</span><span id="Spline.section-1280"><a href="#Spline.section-1280"><span class="linenos">1280</span></a><span class="sd">        -------</span>
</span><span id="Spline.section-1281"><a href="#Spline.section-1281"><span class="linenos">1281</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.section-1282"><a href="#Spline.section-1282"><span class="linenos">1282</span></a><span class="sd">            A quartic spline which interpolates the given values.</span>
</span><span id="Spline.section-1283"><a href="#Spline.section-1283"><span class="linenos">1283</span></a>
</span><span id="Spline.section-1284"><a href="#Spline.section-1284"><span class="linenos">1284</span></a><span class="sd">        Notes</span>
</span><span id="Spline.section-1285"><a href="#Spline.section-1285"><span class="linenos">1285</span></a><span class="sd">        -----</span>
</span><span id="Spline.section-1286"><a href="#Spline.section-1286"><span class="linenos">1286</span></a><span class="sd">        The spline is shape-preserving.  Each consecutive pair of data points must describe a convex or</span>
</span><span id="Spline.section-1287"><a href="#Spline.section-1287"><span class="linenos">1287</span></a><span class="sd">        concave curve.  In particular, if it is impossible for a differentiable curve to interpolate two</span>
</span><span id="Spline.section-1288"><a href="#Spline.section-1288"><span class="linenos">1288</span></a><span class="sd">        consecutive data points without passing through an intermediate inflection point (i.e. a point which</span>
</span><span id="Spline.section-1289"><a href="#Spline.section-1289"><span class="linenos">1289</span></a><span class="sd">        has zero curvature and at which the sign of the curvature changes), then this method will fail</span>
</span><span id="Spline.section-1290"><a href="#Spline.section-1290"><span class="linenos">1290</span></a><span class="sd">        with an error.</span>
</span><span id="Spline.section-1291"><a href="#Spline.section-1291"><span class="linenos">1291</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.section-1292"><a href="#Spline.section-1292"><span class="linenos">1292</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_fitting</span><span class="o">.</span><span class="n">section</span><span class="p">(</span><span class="n">xytk</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Fit a planar section to the list of 4-tuples of data.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>xytk</strong> (array-like):
A list of points to fit an interpolating spline to.  Each point in the list contains
four values.  The first two are x and y coordinates of the point.  The third value is the
angle that the tangent makes as the desired section passes through that point (in degrees).
The fourth value is the desired curvature at that point</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
A quartic spline which interpolates the given values.</li>
</ul>

<h6 id="notes">Notes</h6>

<p>The spline is shape-preserving.  Each consecutive pair of data points must describe a convex or
concave curve.  In particular, if it is impossible for a differentiable curve to interpolate two
consecutive data points without passing through an intermediate inflection point (i.e. a point which
has zero curvature and at which the sign of the curvature changes), then this method will fail
with an error.</p>
</div>


                            </div>
                            <div id="Spline.subtract" class="classattr">
                                        <input id="Spline.subtract-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">subtract</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">other</span>, </span><span class="param"><span class="n">indMap</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.subtract-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.subtract"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.subtract-1294"><a href="#Spline.subtract-1294"><span class="linenos">1294</span></a>    <span class="k">def</span> <span class="nf">subtract</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">indMap</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="Spline.subtract-1295"><a href="#Spline.subtract-1295"><span class="linenos">1295</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.subtract-1296"><a href="#Spline.subtract-1296"><span class="linenos">1296</span></a><span class="sd">        Subtract two splines.</span>
</span><span id="Spline.subtract-1297"><a href="#Spline.subtract-1297"><span class="linenos">1297</span></a>
</span><span id="Spline.subtract-1298"><a href="#Spline.subtract-1298"><span class="linenos">1298</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.subtract-1299"><a href="#Spline.subtract-1299"><span class="linenos">1299</span></a><span class="sd">        ----------</span>
</span><span id="Spline.subtract-1300"><a href="#Spline.subtract-1300"><span class="linenos">1300</span></a><span class="sd">        other : `Spline`</span>
</span><span id="Spline.subtract-1301"><a href="#Spline.subtract-1301"><span class="linenos">1301</span></a><span class="sd">            The spline to subtract from self. The number of dependent variables must match self.</span>
</span><span id="Spline.subtract-1302"><a href="#Spline.subtract-1302"><span class="linenos">1302</span></a>
</span><span id="Spline.subtract-1303"><a href="#Spline.subtract-1303"><span class="linenos">1303</span></a><span class="sd">        indMap : `iterable` or `None`, optional</span>
</span><span id="Spline.subtract-1304"><a href="#Spline.subtract-1304"><span class="linenos">1304</span></a><span class="sd">            An iterable of indices or pairs of indices. Each index refers to an independent variable.</span>
</span><span id="Spline.subtract-1305"><a href="#Spline.subtract-1305"><span class="linenos">1305</span></a><span class="sd">            Within the iterable, a single index, `n`, maps the nth independent variable of self to the same independent variable of other.</span>
</span><span id="Spline.subtract-1306"><a href="#Spline.subtract-1306"><span class="linenos">1306</span></a><span class="sd">            A pair `(n, m)` maps the nth independent variable of self to the mth independent variable of other. </span>
</span><span id="Spline.subtract-1307"><a href="#Spline.subtract-1307"><span class="linenos">1307</span></a><span class="sd">            For example, if you wanted to compute `self(u, v, w) - other(u, w)`, you&#39;d pass `[0, (2, 1)]` for `indMap`. </span>
</span><span id="Spline.subtract-1308"><a href="#Spline.subtract-1308"><span class="linenos">1308</span></a><span class="sd">            Unmapped independent variables remain independent (the default).</span>
</span><span id="Spline.subtract-1309"><a href="#Spline.subtract-1309"><span class="linenos">1309</span></a><span class="sd">            The domains of mapped independent variables must match. </span>
</span><span id="Spline.subtract-1310"><a href="#Spline.subtract-1310"><span class="linenos">1310</span></a><span class="sd">            An independent variable can map to no more than one other independent variable.</span>
</span><span id="Spline.subtract-1311"><a href="#Spline.subtract-1311"><span class="linenos">1311</span></a>
</span><span id="Spline.subtract-1312"><a href="#Spline.subtract-1312"><span class="linenos">1312</span></a><span class="sd">        Returns</span>
</span><span id="Spline.subtract-1313"><a href="#Spline.subtract-1313"><span class="linenos">1313</span></a><span class="sd">        -------</span>
</span><span id="Spline.subtract-1314"><a href="#Spline.subtract-1314"><span class="linenos">1314</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.subtract-1315"><a href="#Spline.subtract-1315"><span class="linenos">1315</span></a><span class="sd">            The result of subtracting other from self.</span>
</span><span id="Spline.subtract-1316"><a href="#Spline.subtract-1316"><span class="linenos">1316</span></a>
</span><span id="Spline.subtract-1317"><a href="#Spline.subtract-1317"><span class="linenos">1317</span></a><span class="sd">        See Also</span>
</span><span id="Spline.subtract-1318"><a href="#Spline.subtract-1318"><span class="linenos">1318</span></a><span class="sd">        --------</span>
</span><span id="Spline.subtract-1319"><a href="#Spline.subtract-1319"><span class="linenos">1319</span></a><span class="sd">        `add` : Add two splines.</span>
</span><span id="Spline.subtract-1320"><a href="#Spline.subtract-1320"><span class="linenos">1320</span></a><span class="sd">        `multiply` : Multiply two splines.</span>
</span><span id="Spline.subtract-1321"><a href="#Spline.subtract-1321"><span class="linenos">1321</span></a><span class="sd">        `common_basis` : Align a collection of splines to a common basis, elevating the order and adding knots as needed.</span>
</span><span id="Spline.subtract-1322"><a href="#Spline.subtract-1322"><span class="linenos">1322</span></a>
</span><span id="Spline.subtract-1323"><a href="#Spline.subtract-1323"><span class="linenos">1323</span></a><span class="sd">        Notes</span>
</span><span id="Spline.subtract-1324"><a href="#Spline.subtract-1324"><span class="linenos">1324</span></a><span class="sd">        -----</span>
</span><span id="Spline.subtract-1325"><a href="#Spline.subtract-1325"><span class="linenos">1325</span></a><span class="sd">        Uses `common_basis` to ensure mapped variables share the same order and knots. </span>
</span><span id="Spline.subtract-1326"><a href="#Spline.subtract-1326"><span class="linenos">1326</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.subtract-1327"><a href="#Spline.subtract-1327"><span class="linenos">1327</span></a>        <span class="k">if</span> <span class="n">indMap</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Spline.subtract-1328"><a href="#Spline.subtract-1328"><span class="linenos">1328</span></a>            <span class="n">indMap</span> <span class="o">=</span> <span class="p">[</span><span class="n">mapping</span> <span class="k">if</span> <span class="n">_isIterable</span><span class="p">(</span><span class="n">mapping</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">mapping</span><span class="p">)</span> <span class="k">for</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="n">indMap</span><span class="p">]</span>
</span><span id="Spline.subtract-1329"><a href="#Spline.subtract-1329"><span class="linenos">1329</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">),</span> <span class="n">indMap</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Subtract two splines.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>other</strong> (<code><a href="#Spline">Spline</a></code>):
The spline to subtract from self. The number of dependent variables must match self.</li>
<li><strong>indMap</strong> (<code>iterable</code> or <code>None</code>, optional):
An iterable of indices or pairs of indices. Each index refers to an independent variable.
Within the iterable, a single index, <code>n</code>, maps the nth independent variable of self to the same independent variable of other.
A pair <code>(n, m)</code> maps the nth independent variable of self to the mth independent variable of other. 
For example, if you wanted to compute <code>self(u, v, w) - other(u, w)</code>, you'd pass <code>[0, (2, 1)]</code> for <code>indMap</code>. 
Unmapped independent variables remain independent (the default).
The domains of mapped independent variables must match. 
An independent variable can map to no more than one other independent variable.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
The result of subtracting other from self.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.add">add</a></code>:  Add two splines. <br />
<code><a href="#Spline.multiply">multiply</a></code>:  Multiply two splines. <br />
<code><a href="#Spline.common_basis">common_basis</a></code>:  Align a collection of splines to a common basis, elevating the order and adding knots as needed.  </p>

<h6 id="notes">Notes</h6>

<p>Uses <code><a href="#Spline.common_basis">common_basis</a></code> to ensure mapped variables share the same order and knots.</p>
</div>


                            </div>
                            <div id="Spline.transform" class="classattr">
                                        <input id="Spline.transform-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">transform</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">matrix</span>, </span><span class="param"><span class="n">maxSingularValue</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.transform-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.transform"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.transform-1331"><a href="#Spline.transform-1331"><span class="linenos">1331</span></a>    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">,</span> <span class="n">maxSingularValue</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Spline.transform-1332"><a href="#Spline.transform-1332"><span class="linenos">1332</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.transform-1333"><a href="#Spline.transform-1333"><span class="linenos">1333</span></a><span class="sd">        Transform a spline by the given matrix.</span>
</span><span id="Spline.transform-1334"><a href="#Spline.transform-1334"><span class="linenos">1334</span></a>
</span><span id="Spline.transform-1335"><a href="#Spline.transform-1335"><span class="linenos">1335</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.transform-1336"><a href="#Spline.transform-1336"><span class="linenos">1336</span></a><span class="sd">        ----------</span>
</span><span id="Spline.transform-1337"><a href="#Spline.transform-1337"><span class="linenos">1337</span></a><span class="sd">        matrix : array-like</span>
</span><span id="Spline.transform-1338"><a href="#Spline.transform-1338"><span class="linenos">1338</span></a><span class="sd">            An array of size `newNDep`x`nDep` that specifies the transform matrix.</span>
</span><span id="Spline.transform-1339"><a href="#Spline.transform-1339"><span class="linenos">1339</span></a>
</span><span id="Spline.transform-1340"><a href="#Spline.transform-1340"><span class="linenos">1340</span></a><span class="sd">        maxSingularValue : `float`, optional</span>
</span><span id="Spline.transform-1341"><a href="#Spline.transform-1341"><span class="linenos">1341</span></a><span class="sd">            The largest singular value of `matrix`, used to update the accuracy of the spline. </span>
</span><span id="Spline.transform-1342"><a href="#Spline.transform-1342"><span class="linenos">1342</span></a><span class="sd">            If no value is provided (default), the largest singular value is computed.</span>
</span><span id="Spline.transform-1343"><a href="#Spline.transform-1343"><span class="linenos">1343</span></a>
</span><span id="Spline.transform-1344"><a href="#Spline.transform-1344"><span class="linenos">1344</span></a><span class="sd">        Returns</span>
</span><span id="Spline.transform-1345"><a href="#Spline.transform-1345"><span class="linenos">1345</span></a><span class="sd">        -------</span>
</span><span id="Spline.transform-1346"><a href="#Spline.transform-1346"><span class="linenos">1346</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.transform-1347"><a href="#Spline.transform-1347"><span class="linenos">1347</span></a><span class="sd">            The transformed spline.</span>
</span><span id="Spline.transform-1348"><a href="#Spline.transform-1348"><span class="linenos">1348</span></a>
</span><span id="Spline.transform-1349"><a href="#Spline.transform-1349"><span class="linenos">1349</span></a><span class="sd">        See Also</span>
</span><span id="Spline.transform-1350"><a href="#Spline.transform-1350"><span class="linenos">1350</span></a><span class="sd">        --------</span>
</span><span id="Spline.transform-1351"><a href="#Spline.transform-1351"><span class="linenos">1351</span></a><span class="sd">        `scale` : Scale a spline by the given scalar or scale vector.</span>
</span><span id="Spline.transform-1352"><a href="#Spline.transform-1352"><span class="linenos">1352</span></a><span class="sd">        `translate` : Translate a spline by the given translation vector.</span>
</span><span id="Spline.transform-1353"><a href="#Spline.transform-1353"><span class="linenos">1353</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.transform-1354"><a href="#Spline.transform-1354"><span class="linenos">1354</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">,</span> <span class="n">maxSingularValue</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Transform a spline by the given matrix.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>matrix</strong> (array-like):
An array of size <code>newNDep</code>x<code><a href="#Spline.nDep">nDep</a></code> that specifies the transform matrix.</li>
<li><strong>maxSingularValue</strong> (<code>float</code>, optional):
The largest singular value of <code>matrix</code>, used to update the accuracy of the spline. 
If no value is provided (default), the largest singular value is computed.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
The transformed spline.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.scale">scale</a></code>:  Scale a spline by the given scalar or scale vector. <br />
<code><a href="#Spline.translate">translate</a></code>:  Translate a spline by the given translation vector.  </p>
</div>


                            </div>
                            <div id="Spline.translate" class="classattr">
                                        <input id="Spline.translate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">translate</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">translationVector</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.translate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.translate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.translate-1356"><a href="#Spline.translate-1356"><span class="linenos">1356</span></a>    <span class="k">def</span> <span class="nf">translate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">translationVector</span><span class="p">):</span>
</span><span id="Spline.translate-1357"><a href="#Spline.translate-1357"><span class="linenos">1357</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.translate-1358"><a href="#Spline.translate-1358"><span class="linenos">1358</span></a><span class="sd">        Translate a spline by the given translation vector.</span>
</span><span id="Spline.translate-1359"><a href="#Spline.translate-1359"><span class="linenos">1359</span></a>
</span><span id="Spline.translate-1360"><a href="#Spline.translate-1360"><span class="linenos">1360</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.translate-1361"><a href="#Spline.translate-1361"><span class="linenos">1361</span></a><span class="sd">        ----------</span>
</span><span id="Spline.translate-1362"><a href="#Spline.translate-1362"><span class="linenos">1362</span></a><span class="sd">        translationVector : array-like</span>
</span><span id="Spline.translate-1363"><a href="#Spline.translate-1363"><span class="linenos">1363</span></a><span class="sd">            An array of length `nDep` that specifies the translation vector.</span>
</span><span id="Spline.translate-1364"><a href="#Spline.translate-1364"><span class="linenos">1364</span></a>
</span><span id="Spline.translate-1365"><a href="#Spline.translate-1365"><span class="linenos">1365</span></a><span class="sd">        Returns</span>
</span><span id="Spline.translate-1366"><a href="#Spline.translate-1366"><span class="linenos">1366</span></a><span class="sd">        -------</span>
</span><span id="Spline.translate-1367"><a href="#Spline.translate-1367"><span class="linenos">1367</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.translate-1368"><a href="#Spline.translate-1368"><span class="linenos">1368</span></a><span class="sd">            The translated spline.</span>
</span><span id="Spline.translate-1369"><a href="#Spline.translate-1369"><span class="linenos">1369</span></a>
</span><span id="Spline.translate-1370"><a href="#Spline.translate-1370"><span class="linenos">1370</span></a><span class="sd">        See Also</span>
</span><span id="Spline.translate-1371"><a href="#Spline.translate-1371"><span class="linenos">1371</span></a><span class="sd">        --------</span>
</span><span id="Spline.translate-1372"><a href="#Spline.translate-1372"><span class="linenos">1372</span></a><span class="sd">        `scale` : Scale a spline by the given scalar or scale vector.</span>
</span><span id="Spline.translate-1373"><a href="#Spline.translate-1373"><span class="linenos">1373</span></a><span class="sd">        `transform` : Transform a spline by the given matrix.</span>
</span><span id="Spline.translate-1374"><a href="#Spline.translate-1374"><span class="linenos">1374</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.translate-1375"><a href="#Spline.translate-1375"><span class="linenos">1375</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_operations</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">translationVector</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Translate a spline by the given translation vector.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>translationVector</strong> (array-like):
An array of length <code><a href="#Spline.nDep">nDep</a></code> that specifies the translation vector.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
The translated spline.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.scale">scale</a></code>:  Scale a spline by the given scalar or scale vector. <br />
<code><a href="#Spline.transform">transform</a></code>:  Transform a spline by the given matrix.  </p>
</div>


                            </div>
                            <div id="Spline.trim" class="classattr">
                                        <input id="Spline.trim-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">trim</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">newDomain</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.trim-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.trim"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.trim-1377"><a href="#Spline.trim-1377"><span class="linenos">1377</span></a>    <span class="k">def</span> <span class="nf">trim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newDomain</span><span class="p">):</span>
</span><span id="Spline.trim-1378"><a href="#Spline.trim-1378"><span class="linenos">1378</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.trim-1379"><a href="#Spline.trim-1379"><span class="linenos">1379</span></a><span class="sd">        Trim the domain of a spline.</span>
</span><span id="Spline.trim-1380"><a href="#Spline.trim-1380"><span class="linenos">1380</span></a>
</span><span id="Spline.trim-1381"><a href="#Spline.trim-1381"><span class="linenos">1381</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.trim-1382"><a href="#Spline.trim-1382"><span class="linenos">1382</span></a><span class="sd">        ----------</span>
</span><span id="Spline.trim-1383"><a href="#Spline.trim-1383"><span class="linenos">1383</span></a><span class="sd">        newDomain : array-like</span>
</span><span id="Spline.trim-1384"><a href="#Spline.trim-1384"><span class="linenos">1384</span></a><span class="sd">            nInd x 2 array of the new upper and lower bounds on each of the independent variables (same form as </span>
</span><span id="Spline.trim-1385"><a href="#Spline.trim-1385"><span class="linenos">1385</span></a><span class="sd">            returned from `domain`). If a bound is None or nan then the original bound (and knots) are left unchanged.</span>
</span><span id="Spline.trim-1386"><a href="#Spline.trim-1386"><span class="linenos">1386</span></a>
</span><span id="Spline.trim-1387"><a href="#Spline.trim-1387"><span class="linenos">1387</span></a><span class="sd">        Returns</span>
</span><span id="Spline.trim-1388"><a href="#Spline.trim-1388"><span class="linenos">1388</span></a><span class="sd">        -------</span>
</span><span id="Spline.trim-1389"><a href="#Spline.trim-1389"><span class="linenos">1389</span></a><span class="sd">        spline : `Spline`</span>
</span><span id="Spline.trim-1390"><a href="#Spline.trim-1390"><span class="linenos">1390</span></a><span class="sd">            Trimmed spline. If all the knots are unchanged, the original spline is returned.</span>
</span><span id="Spline.trim-1391"><a href="#Spline.trim-1391"><span class="linenos">1391</span></a>
</span><span id="Spline.trim-1392"><a href="#Spline.trim-1392"><span class="linenos">1392</span></a><span class="sd">        See Also</span>
</span><span id="Spline.trim-1393"><a href="#Spline.trim-1393"><span class="linenos">1393</span></a><span class="sd">        --------</span>
</span><span id="Spline.trim-1394"><a href="#Spline.trim-1394"><span class="linenos">1394</span></a><span class="sd">        `domain` : Return the domain of a spline.</span>
</span><span id="Spline.trim-1395"><a href="#Spline.trim-1395"><span class="linenos">1395</span></a><span class="sd">        `extrapolate` : Extrapolate a spline out to an extended domain maintaining a given order of continuity.</span>
</span><span id="Spline.trim-1396"><a href="#Spline.trim-1396"><span class="linenos">1396</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.trim-1397"><a href="#Spline.trim-1397"><span class="linenos">1397</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newDomain</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Trim the domain of a spline.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>newDomain</strong> (array-like):
nInd x 2 array of the new upper and lower bounds on each of the independent variables (same form as 
returned from <code><a href="#Spline.domain">domain</a></code>). If a bound is None or nan then the original bound (and knots) are left unchanged.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>spline</strong> (<code><a href="#Spline">Spline</a></code>):
Trimmed spline. If all the knots are unchanged, the original spline is returned.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.domain">domain</a></code>:  Return the domain of a spline. <br />
<code><a href="#Spline.extrapolate">extrapolate</a></code>:  Extrapolate a spline out to an extended domain maintaining a given order of continuity.  </p>
</div>


                            </div>
                            <div id="Spline.unfold" class="classattr">
                                        <input id="Spline.unfold-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">unfold</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">foldedInd</span>, </span><span class="param"><span class="n">coefficientlessSpline</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.unfold-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.unfold"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.unfold-1399"><a href="#Spline.unfold-1399"><span class="linenos">1399</span></a>    <span class="k">def</span> <span class="nf">unfold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">foldedInd</span><span class="p">,</span> <span class="n">coefficientlessSpline</span><span class="p">):</span>
</span><span id="Spline.unfold-1400"><a href="#Spline.unfold-1400"><span class="linenos">1400</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.unfold-1401"><a href="#Spline.unfold-1401"><span class="linenos">1401</span></a><span class="sd">        Unfold the coefficients of an original spline&#39;s indicated independent variables back into the spline, using the </span>
</span><span id="Spline.unfold-1402"><a href="#Spline.unfold-1402"><span class="linenos">1402</span></a><span class="sd">        indicated independent variables&#39; knots and orders from a second spline with no coefficients.</span>
</span><span id="Spline.unfold-1403"><a href="#Spline.unfold-1403"><span class="linenos">1403</span></a>
</span><span id="Spline.unfold-1404"><a href="#Spline.unfold-1404"><span class="linenos">1404</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.unfold-1405"><a href="#Spline.unfold-1405"><span class="linenos">1405</span></a><span class="sd">        ----------</span>
</span><span id="Spline.unfold-1406"><a href="#Spline.unfold-1406"><span class="linenos">1406</span></a><span class="sd">        foldedInd : `iterable`</span>
</span><span id="Spline.unfold-1407"><a href="#Spline.unfold-1407"><span class="linenos">1407</span></a><span class="sd">            An iterable that specifies the independent variables whose coefficients should be unfolded.</span>
</span><span id="Spline.unfold-1408"><a href="#Spline.unfold-1408"><span class="linenos">1408</span></a>
</span><span id="Spline.unfold-1409"><a href="#Spline.unfold-1409"><span class="linenos">1409</span></a><span class="sd">        coefficientlessSpline : `Spline`</span>
</span><span id="Spline.unfold-1410"><a href="#Spline.unfold-1410"><span class="linenos">1410</span></a><span class="sd">            The coefficientless spline that retains the indicated independent variables&#39; knots and orders.</span>
</span><span id="Spline.unfold-1411"><a href="#Spline.unfold-1411"><span class="linenos">1411</span></a>
</span><span id="Spline.unfold-1412"><a href="#Spline.unfold-1412"><span class="linenos">1412</span></a><span class="sd">        Returns</span>
</span><span id="Spline.unfold-1413"><a href="#Spline.unfold-1413"><span class="linenos">1413</span></a><span class="sd">        -------</span>
</span><span id="Spline.unfold-1414"><a href="#Spline.unfold-1414"><span class="linenos">1414</span></a><span class="sd">        unfoldedSpline : `Spline`, `Spline`</span>
</span><span id="Spline.unfold-1415"><a href="#Spline.unfold-1415"><span class="linenos">1415</span></a><span class="sd">            The unfolded spline.</span>
</span><span id="Spline.unfold-1416"><a href="#Spline.unfold-1416"><span class="linenos">1416</span></a>
</span><span id="Spline.unfold-1417"><a href="#Spline.unfold-1417"><span class="linenos">1417</span></a><span class="sd">        See Also</span>
</span><span id="Spline.unfold-1418"><a href="#Spline.unfold-1418"><span class="linenos">1418</span></a><span class="sd">        --------</span>
</span><span id="Spline.unfold-1419"><a href="#Spline.unfold-1419"><span class="linenos">1419</span></a><span class="sd">        `fold` : Fold the coefficients of a spline&#39;s indicated independent variables into the coefficients of the remaining independent variables.</span>
</span><span id="Spline.unfold-1420"><a href="#Spline.unfold-1420"><span class="linenos">1420</span></a>
</span><span id="Spline.unfold-1421"><a href="#Spline.unfold-1421"><span class="linenos">1421</span></a><span class="sd">        Notes</span>
</span><span id="Spline.unfold-1422"><a href="#Spline.unfold-1422"><span class="linenos">1422</span></a><span class="sd">        -----</span>
</span><span id="Spline.unfold-1423"><a href="#Spline.unfold-1423"><span class="linenos">1423</span></a><span class="sd">        Given a spline whose coefficients are an nDep x n0 x ... x nk array and a list of (ordered) indices which form a proper subset of {n0, ... , nk}, it should return 2 splines.</span>
</span><span id="Spline.unfold-1424"><a href="#Spline.unfold-1424"><span class="linenos">1424</span></a><span class="sd">        The first one is a spline with k + 1 - length(index subset) independent variables where the knot sets of all the dimensions which have been removed have been removed.  However, </span>
</span><span id="Spline.unfold-1425"><a href="#Spline.unfold-1425"><span class="linenos">1425</span></a><span class="sd">        all of the coefficient data is still intact, so that the resulting coefficient array has shape (nDep nj0 nj1 ... njj) x nk0 x ... x nkk.  The second spline should be a spline </span>
</span><span id="Spline.unfold-1426"><a href="#Spline.unfold-1426"><span class="linenos">1426</span></a><span class="sd">        with 0 dependent variables which contains all the knot sequences that were removed from the spline.  The unfold method takes the two splines as input and reverses the process, </span>
</span><span id="Spline.unfold-1427"><a href="#Spline.unfold-1427"><span class="linenos">1427</span></a><span class="sd">        returning the original spline.</span>
</span><span id="Spline.unfold-1428"><a href="#Spline.unfold-1428"><span class="linenos">1428</span></a>
</span><span id="Spline.unfold-1429"><a href="#Spline.unfold-1429"><span class="linenos">1429</span></a><span class="sd">        Here&#39;s an example. Suppose spl is a spline with 3 independent variables and 3 dependent variables which has nCoef = [4, 5, 6] and knots = [knots0, knots1, knots2]. </span>
</span><span id="Spline.unfold-1430"><a href="#Spline.unfold-1430"><span class="linenos">1430</span></a><span class="sd">        Then spl.fold([0, 2]) should return a spline with 1 independent variable and 72 dependent variables.  It should have nCoef = [5], knots = [knots1], and its coefs array should have </span>
</span><span id="Spline.unfold-1431"><a href="#Spline.unfold-1431"><span class="linenos">1431</span></a><span class="sd">        shape (72, 5).  The other spline should have 0 dependent variables, 2 independent variables, and knots = [knots0, knots2].  How things get ordered in coefs probably doesn&#39;t matter </span>
</span><span id="Spline.unfold-1432"><a href="#Spline.unfold-1432"><span class="linenos">1432</span></a><span class="sd">        so long as unfold unscrambles things in the corresponding way.  The second spline is needed to hold the basis information that was dropped so that it can be undone.</span>
</span><span id="Spline.unfold-1433"><a href="#Spline.unfold-1433"><span class="linenos">1433</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.unfold-1434"><a href="#Spline.unfold-1434"><span class="linenos">1434</span></a>        <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_domain</span><span class="o">.</span><span class="n">unfold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">foldedInd</span><span class="p">,</span> <span class="n">coefficientlessSpline</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Unfold the coefficients of an original spline's indicated independent variables back into the spline, using the 
indicated independent variables' knots and orders from a second spline with no coefficients.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>foldedInd</strong> (<code>iterable</code>):
An iterable that specifies the independent variables whose coefficients should be unfolded.</li>
<li><strong>coefficientlessSpline</strong> (<code><a href="#Spline">Spline</a></code>):
The coefficientless spline that retains the indicated independent variables' knots and orders.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>unfoldedSpline</strong> (<code><a href="#Spline">Spline</a></code>, <code><a href="#Spline">Spline</a></code>):
The unfolded spline.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.fold">fold</a></code>:  Fold the coefficients of a spline's indicated independent variables into the coefficients of the remaining independent variables.  </p>

<h6 id="notes">Notes</h6>

<p>Given a spline whose coefficients are an nDep x n0 x ... x nk array and a list of (ordered) indices which form a proper subset of {n0, ... , nk}, it should return 2 splines.
The first one is a spline with k + 1 - length(index subset) independent variables where the knot sets of all the dimensions which have been removed have been removed.  However, 
all of the coefficient data is still intact, so that the resulting coefficient array has shape (nDep nj0 nj1 ... njj) x nk0 x ... x nkk.  The second spline should be a spline 
with 0 dependent variables which contains all the knot sequences that were removed from the spline.  The unfold method takes the two splines as input and reverses the process, 
returning the original spline.</p>

<p>Here's an example. Suppose spl is a spline with 3 independent variables and 3 dependent variables which has nCoef = [4, 5, 6] and knots = [knots0, knots1, knots2]. 
Then spl.fold([0, 2]) should return a spline with 1 independent variable and 72 dependent variables.  It should have nCoef = [5], knots = [knots1], and its coefs array should have 
shape (72, 5).  The other spline should have 0 dependent variables, 2 independent variables, and knots = [knots0, knots2].  How things get ordered in coefs probably doesn't matter 
so long as unfold unscrambles things in the corresponding way.  The second spline is needed to hold the basis information that was dropped so that it can be undone.</p>
</div>


                            </div>
                            <div id="Spline.zeros" class="classattr">
                                        <input id="Spline.zeros-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">zeros</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">epsilon</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Spline.zeros-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Spline.zeros"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Spline.zeros-1436"><a href="#Spline.zeros-1436"><span class="linenos">1436</span></a>    <span class="k">def</span> <span class="nf">zeros</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Spline.zeros-1437"><a href="#Spline.zeros-1437"><span class="linenos">1437</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Spline.zeros-1438"><a href="#Spline.zeros-1438"><span class="linenos">1438</span></a><span class="sd">        Find the roots of a spline (nInd must match nDep).</span>
</span><span id="Spline.zeros-1439"><a href="#Spline.zeros-1439"><span class="linenos">1439</span></a>
</span><span id="Spline.zeros-1440"><a href="#Spline.zeros-1440"><span class="linenos">1440</span></a><span class="sd">        Parameters</span>
</span><span id="Spline.zeros-1441"><a href="#Spline.zeros-1441"><span class="linenos">1441</span></a><span class="sd">        ----------</span>
</span><span id="Spline.zeros-1442"><a href="#Spline.zeros-1442"><span class="linenos">1442</span></a><span class="sd">        epsilon : `float`, optional</span>
</span><span id="Spline.zeros-1443"><a href="#Spline.zeros-1443"><span class="linenos">1443</span></a><span class="sd">            Tolerance for root precision. The root will be within epsilon of the actual root. </span>
</span><span id="Spline.zeros-1444"><a href="#Spline.zeros-1444"><span class="linenos">1444</span></a><span class="sd">            The default is the max of spline accuracy and machine epsilon.</span>
</span><span id="Spline.zeros-1445"><a href="#Spline.zeros-1445"><span class="linenos">1445</span></a>
</span><span id="Spline.zeros-1446"><a href="#Spline.zeros-1446"><span class="linenos">1446</span></a><span class="sd">        Returns</span>
</span><span id="Spline.zeros-1447"><a href="#Spline.zeros-1447"><span class="linenos">1447</span></a><span class="sd">        -------</span>
</span><span id="Spline.zeros-1448"><a href="#Spline.zeros-1448"><span class="linenos">1448</span></a><span class="sd">        roots : `iterable`</span>
</span><span id="Spline.zeros-1449"><a href="#Spline.zeros-1449"><span class="linenos">1449</span></a><span class="sd">            An iterable containing the roots of the spline. If the spline is </span>
</span><span id="Spline.zeros-1450"><a href="#Spline.zeros-1450"><span class="linenos">1450</span></a><span class="sd">            zero over an interval, that root will appear as a tuple of the interval. </span>
</span><span id="Spline.zeros-1451"><a href="#Spline.zeros-1451"><span class="linenos">1451</span></a><span class="sd">            For curves (nInd == 1), the roots are ordered.</span>
</span><span id="Spline.zeros-1452"><a href="#Spline.zeros-1452"><span class="linenos">1452</span></a><span class="sd">        </span>
</span><span id="Spline.zeros-1453"><a href="#Spline.zeros-1453"><span class="linenos">1453</span></a><span class="sd">        See Also</span>
</span><span id="Spline.zeros-1454"><a href="#Spline.zeros-1454"><span class="linenos">1454</span></a><span class="sd">        --------</span>
</span><span id="Spline.zeros-1455"><a href="#Spline.zeros-1455"><span class="linenos">1455</span></a><span class="sd">        `intersect` : Intersect two splines.</span>
</span><span id="Spline.zeros-1456"><a href="#Spline.zeros-1456"><span class="linenos">1456</span></a><span class="sd">        `contour` : Fit a spline to the contour defined by `F(x) = 0`.</span>
</span><span id="Spline.zeros-1457"><a href="#Spline.zeros-1457"><span class="linenos">1457</span></a>
</span><span id="Spline.zeros-1458"><a href="#Spline.zeros-1458"><span class="linenos">1458</span></a><span class="sd">        Notes</span>
</span><span id="Spline.zeros-1459"><a href="#Spline.zeros-1459"><span class="linenos">1459</span></a><span class="sd">        -----</span>
</span><span id="Spline.zeros-1460"><a href="#Spline.zeros-1460"><span class="linenos">1460</span></a><span class="sd">        For curves (nInd == 1), it implements interval Newton&#39;s method from Grandine, Thomas A. &quot;Computing zeroes of spline functions.&quot; </span>
</span><span id="Spline.zeros-1461"><a href="#Spline.zeros-1461"><span class="linenos">1461</span></a><span class="sd">        Computer Aided Geometric Design 6, no. 2 (1989): 129-136.</span>
</span><span id="Spline.zeros-1462"><a href="#Spline.zeros-1462"><span class="linenos">1462</span></a><span class="sd">        For all higher dimensions, it implements the projected-polyhedron technique from Sherbrooke, Evan C., and Nicholas M. Patrikalakis. </span>
</span><span id="Spline.zeros-1463"><a href="#Spline.zeros-1463"><span class="linenos">1463</span></a><span class="sd">        &quot;Computation of the solutions of nonlinear polynomial systems.&quot; Computer Aided Geometric Design 10, no. 5 (1993): 379-405.</span>
</span><span id="Spline.zeros-1464"><a href="#Spline.zeros-1464"><span class="linenos">1464</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Spline.zeros-1465"><a href="#Spline.zeros-1465"><span class="linenos">1465</span></a>        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nInd</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">nDep</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The number of independent variables (nInd) must match the number of dependent variables (nDep).&quot;</span><span class="p">)</span>
</span><span id="Spline.zeros-1466"><a href="#Spline.zeros-1466"><span class="linenos">1466</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nInd</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Spline.zeros-1467"><a href="#Spline.zeros-1467"><span class="linenos">1467</span></a>            <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_intersection</span><span class="o">.</span><span class="n">zeros_using_interval_newton</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Spline.zeros-1468"><a href="#Spline.zeros-1468"><span class="linenos">1468</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Spline.zeros-1469"><a href="#Spline.zeros-1469"><span class="linenos">1469</span></a>            <span class="k">return</span> <span class="n">bspy</span><span class="o">.</span><span class="n">_spline_intersection</span><span class="o">.</span><span class="n">zeros_using_projected_polyhedron</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Find the roots of a spline (nInd must match nDep).</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>epsilon</strong> (<code>float</code>, optional):
Tolerance for root precision. The root will be within epsilon of the actual root. 
The default is the max of spline accuracy and machine epsilon.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>roots</strong> (<code>iterable</code>):
An iterable containing the roots of the spline. If the spline is 
zero over an interval, that root will appear as a tuple of the interval. 
For curves (nInd == 1), the roots are ordered.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#Spline.intersect">intersect</a></code>:  Intersect two splines. <br />
<code><a href="#Spline.contour">contour</a></code>:  Fit a spline to the contour defined by <code>F(x) = 0</code>.  </p>

<h6 id="notes">Notes</h6>

<p>For curves (nInd == 1), it implements interval Newton's method from Grandine, Thomas A. "Computing zeroes of spline functions." 
Computer Aided Geometric Design 6, no. 2 (1989): 129-136.
For all higher dimensions, it implements the projected-polyhedron technique from Sherbrooke, Evan C., and Nicholas M. Patrikalakis. 
"Computation of the solutions of nonlinear polynomial systems." Computer Aided Geometric Design 10, no. 5 (1993): 379-405.</p>
</div>


                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>